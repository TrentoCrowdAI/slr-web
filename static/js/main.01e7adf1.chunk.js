(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(54)},54:function(e,t,a){"use strict";a.r(t);var r,n,c=a(0),s=a.n(c),l=a(21),o=a.n(l),i=a(5),u=a(12),p=function(e){return s.a.createElement("div",{className:"main-wrapper"},e.children)},m=a(3),d=function(e){var t=Object(c.useContext)(h);return s.a.createElement("div",{className:"navigation-wrapper"},s.a.createElement("nav",{className:"main-nav"},s.a.createElement("div",{className:"nav-elements"}," ",t.title," ")),e.children)},f=function(){var e,t=Object(c.useContext)(h);return Object(c.useEffect)(function(){return function(){t.setError(null)}}),e=t.error.payload?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Error code:"),s.a.createElement("p",null,t.error.payload.statusCode),s.a.createElement("p",null,"Error name:"),s.a.createElement("p",null,t.error.payload.error),s.a.createElement("p",null,"Error message"),s.a.createElement("p",null,t.error.payload.message)):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Error name:"),s.a.createElement("p",null,t.error.name),s.a.createElement("p",null,"Error message"),s.a.createElement("p",null,t.error.message)),e=s.a.createElement("div",{className:"error-wrapper",style:{textAlign:"center"}},e)},h=s.a.createContext(),b=function(e){var t={image:s.a.createElement("img",{className:"face",alt:"profile",src:"https://placekitten.com/100/100"}),name:"Mario",surname:"Rossi"},a=Object(c.useState)(null),r=Object(m.a)(a,2),n=r[0],l=r[1],o=Object(c.useState)("HOME"),i=Object(m.a)(o,2),u={user:t,error:n,setError:l,title:i[0],setTitle:i[1]};return n?s.a.createElement(h.Provider,{value:u},s.a.createElement(f,null)):s.a.createElement(h.Provider,{value:u},e.children)},v=function(e){var t=Object(c.useContext)(h);return Object(c.useEffect)(function(){t.setTitle("HOME")},[]),s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Systematic Literature Review manager"),s.a.createElement("h2",{style:{fontSize:22,fontWeight:"normal"}},"the system right now allows you to"),s.a.createElement("ul",{style:{fontSize:18,fontWeight:"lighter"}},s.a.createElement("li",null,"browse a list of prjects"),s.a.createElement("li",null,"add a new project"),s.a.createElement("li",null,"browse the list of papers on a project"),s.a.createElement("li",null,"search(from a local database or scopus) and add papers to a project")),s.a.createElement("h2",{style:{fontSize:22,fontWeight:"normal"}},"notes"),s.a.createElement("ul",{style:{fontSize:18,fontWeight:"lighter"}},s.a.createElement("li",null,s.a.createElement("i",null,"the scopus search works partially(can't retrieve the description)"),s.a.createElement("ul",null,s.a.createElement("li",{style:{fontSize:16}},'from Elsevier developer portal : "The data available depends on your institutional subscriptions, and only when you\'re making calls from within your institutional network are you considered a subscriber"'))),s.a.createElement("li",null,s.a.createElement("i",null,"besides the scopus search, the other options don't affect the search"))))},E=function(e){var t=Object(c.useContext)(h);return s.a.createElement("div",{className:"user"},t.user.image,s.a.createElement("div",{className:"user-info"},t.user.name,s.a.createElement("br",null),t.user.surname))},x={home:"https://crowdai-slr-api-dev.herokuapp.com/",search:"search",scopus_search:"search-scopus",projects:"projects",papers:"papers",menu_list:[{id:4,content:"home",link:"/"},{id:5,content:"my projects",link:"/projects"},{id:6,content:"account",link:"#"}]},j=function(e){return s.a.createElement("svg",{id:"menu-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},s.a.createElement("path",{className:"st0",d:"M214,482.1"}),s.a.createElement("line",{className:"st-t",x1:"172",y1:"482.1",x2:"172",y2:"482.1"}),s.a.createElement("line",{className:"st-m",x1:"500",y1:"482.1",x2:"500",y2:"482.1"}),s.a.createElement("line",{className:"st-b",x1:"828",y1:"482.1",x2:"828",y2:"482.1"}))},g=function(e){return x.menu_list.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(i.b,{to:t.link,className:"menu-option",onMouseUp:e.handleMenuBlur},t.content))})},y=function(e){var t=Object(c.useState)(!1),a=Object(m.a)(t,2),r=a[0],n=a[1],l=Object(c.useState)(!0),o=Object(m.a)(l,2),i=o[0],u=o[1];var p="modal side-menu up",d="button-wrapper close";return i&&(p="modal side-menu"),r&&(d="button-wrapper open",p="modal side-menu down"),s.a.createElement("div",{className:"menu"},s.a.createElement("div",{className:d,onClick:function(){n(!r),u(!1)}},s.a.createElement(j,null)),s.a.createElement("div",{className:p,tabIndex:-1},s.a.createElement(E,null),s.a.createElement(g,{handleMenuBlur:function(){n(!1)}})))},w=a(1),O=a.n(w),k=a(2),N=a(10),S=a.n(N),C=1e4;function I(e){return T.apply(this,arguments)}function T(){return(T=Object(k.a)(O.a.mark(function e(t){var a,c,s,l,o,i,u,p=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]?p[1]:{},e.prev=1,r=new AbortController,c=r.signal,n=0,s=Object.assign({credentials:"include",mode:"cors",signal:c},a),l=setTimeout(function(){return r.abort(),void(n=2)},C),e.next=9,fetch(t,s);case 9:return o=e.sent,clearTimeout(l),e.next=13,q(o);case 13:return i=e.sent,R(o,i),e.abrupt("return",i);case 18:if(e.prev=18,e.t0=e.catch(1),2!==n){e.next=26;break}return(u=new Error("Error: Time out to get response from backend")).name="timeout",e.abrupt("return",u);case 26:if(1!==n){e.next=28;break}return e.abrupt("return",null);case 28:return e.abrupt("return",e.t0);case 29:case"end":return e.stop()}},e,null,[[1,18]])}))).apply(this,arguments)}function P(){return(P=Object(k.a)(O.a.mark(function e(t){var a,r,n,c=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>1&&void 0!==c[1]?c[1]:"",r="",""!==a){for(n in r="?",a)r+=n+"="+encodeURIComponent(a[n])+"&";r=r.slice(0,r.length-1)}return e.next=5,I(t+r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function z(){return(z=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE"},e.next=3,I(t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){return(F=Object(k.a)(O.a.mark(function e(t){var a,r,n,c,s=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"",(r=new Headers).append("Accept","application/json, text/plain, */*"),r.append("Cache-Control","no-cache"),r.append("Content-Type","application/json;charset=UTF-8"),n=JSON.stringify(a,null,2),c={method:"POST",headers:r,body:n},e.next=9,I(t,c);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(){return(L=Object(k.a)(O.a.mark(function e(t){var a,r,n,c,s=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"",(r=new Headers).append("Accept","application/json, text/plain, */*"),r.append("Cache-Control","no-cache"),r.append("Content-Type","application/json;charset=UTF-8"),n=JSON.stringify(a,null,2),c={method:"PUT",headers:r,body:n},e.next=9,I(t,c);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(e,t){if(e.status<200||e.status>=300){var a=new Error(e.statusText);throw a.data=e,t.payload&&(a.payload=t.payload),a}}function q(e){return B.apply(this,arguments)}function B(){return(B=Object(k.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.headers.get("Content-Type"),r=null,null==a){e.next=21;break}if(!(a.indexOf("text")>-1)){e.next=7;break}return e.next=6,t.text();case 6:r=e.sent;case 7:if(!(a.indexOf("form")>-1)){e.next=11;break}return e.next=10,t.formData();case 10:r=e.sent;case 11:if(!(a.indexOf("video")>-1)){e.next=15;break}return e.next=14,t.blob();case 14:r=e.sent;case 15:if(!(a.indexOf("json")>-1)){e.next=19;break}return e.next=18,t.json();case 18:r=e.sent;case 19:e.next=25;break;case 21:if(null==t){e.next=25;break}return e.next=24,t.text();case 24:r=e.sent;case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _={get:function(e){return P.apply(this,arguments)},post:function(e){return F.apply(this,arguments)},delete:function(e){return z.apply(this,arguments)},put:function(e){return L.apply(this,arguments)},abortRequest:function(){r.abort(),n=1}};function M(){return(M=Object(k.a)(O.a.mark(function e(){var t,a,r,n=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",a=x.home+x.projects,e.next=4,_.get(a,t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(){return(X=Object(k.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.projects+"/"+t,e.next=3,_.get(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.projects,e.next=3,_.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(){return(D=Object(k.a)(O.a.mark(function e(t,a){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.home+x.projects+"/"+t,e.next=3,_.put(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return(U=Object(k.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.projects+"/"+t,e.next=3,_.delete(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var W={getProjectsList:function(){return M.apply(this,arguments)},getProject:function(e){return X.apply(this,arguments)},postProject:function(e){return A.apply(this,arguments)},putProject:function(e,t){return D.apply(this,arguments)},deleteProject:function(e){return U.apply(this,arguments)},abortRequest:_.abortRequest},J=function(e){return s.a.createElement("svg",{id:"loading-icon",className:e.class,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},s.a.createElement("g",null,s.a.createElement("path",{id:"loading-circle1",d:" M 500, 500 m -160, 0 a 160,160 0 1,0 320,0 a 160,160 0 1,0 -320,0 "}),s.a.createElement("path",{id:"loading-circle2",d:" M 500, 500 m -305, 0 a 305,305 0 1,0 610,0 a 305,305 0 1,0 -610,0 "})))},V=function(e){return s.a.createElement("svg",{id:"close-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},s.a.createElement("line",{className:"ln",x1:"134",y1:"866",x2:"866",y2:"134"}),s.a.createElement("line",{className:"ln",x1:"134",y1:"134",x2:"866",y2:"866"}))};var H=function(e){var t=Object(c.useState)(""),a=Object(m.a)(t,2),r=a[0],n=a[1],l=Object(c.useState)(""),o=Object(m.a)(l,2),i=o[0],u=o[1],p=Object(c.useContext)(h);function d(){return(d=Object(k.a)(O.a.mark(function t(a){var n,c;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={name:r,description:i},t.next=4,W.postProject(n);case 4:(c=t.sent).message&&p.setError(c),e.history.push("/projects/"+c.id);case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function f(){return(f=Object(k.a)(O.a.mark(function t(a){var n,c;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),n={name:r,description:i},t.next=4,W.putProject(e.project.id,n);case 4:(c=t.sent).message&&p.setError(c),alert("updated correctly");case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}var b={name:"",description:""},v=function(e){return d.apply(this,arguments)};return void 0!==e.project&&(b.name=e.project.data.name,b.description=e.project.data.description,v=function(e){return f.apply(this,arguments)}),s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:"modal add-project",style:{visibility:e.visibility?"":"hidden"}},s.a.createElement("button",{type:"button",className:"close-btn",onClick:function(t){e.setVisibility(!e.visibility)}},s.a.createElement(V,null)),s.a.createElement("br",null),s.a.createElement("input",{defaultValue:r,onChange:function(e){return n(e.target.value)},type:"text",placeholder:"project name"}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("textarea",{defaultValue:i,onChange:function(e){return u(e.target.value)},type:"text",placeholder:"project description"}),s.a.createElement("br",null),s.a.createElement("button",{type:"submit",onClick:v,value:"submit"},"Add project")))};function G(e){var t="";return Object.keys(e).forEach(function(a){"years"!==a?e[a]&&(console.log(a),t+="&"+a+"="+e[a]):0!==e.years.length&&(t+="&"+S.a.stringify({years:e.years},{arrayFormat:"comma"}))}),t}function K(e,t){return"/"===e.charAt(e.length-1)?e.slice(0,-1)+t:e+t}var Y=function(e){var t=e.before,a=e.after,r=e.pagination,n=e.path,c=null,l="",o="";return(r.hasbefore||r.continues)&&(r.hasbefore&&(l=s.a.createElement(i.b,{className:"before",to:K(n,"before="+t)},"< prev")),r.continues&&(o=s.a.createElement(i.b,{className:"after",to:K(n,"after="+a)},"next >")),c=s.a.createElement("div",{className:"pagination"},l,o)),c},$=function(e){var t=e.cls,a=e.handler;return s.a.createElement("div",{className:"cover "+t,onClick:function(e){a(!1)}})},Q=function(e){var t,a=e.projectsList,r=e.path;return t=0===a.length?s.a.createElement("div",null,"there aren't projects"):a.map(function(e,t){return s.a.createElement("div",{key:e.id,className:"light-modal project-card"},s.a.createElement(i.b,{to:K(r,"/"+e.id)},s.a.createElement("h3",null,e.id," ",e.data.name),s.a.createElement("p",null,e.data.description)))}),s.a.createElement("div",{className:"project-cards-holder"},t)},Z=function(e){var t,a=Object(c.useState)([]),r=Object(m.a)(a,2),n=r[0],l=r[1],o={hasbefore:!1,continues:!1},i=Object(c.useState)(o),u=Object(m.a)(i,2),p=u[0],d=u[1],f=Object(c.useState)(!1),b=Object(m.a)(f,2),v=b[0],E=b[1],x=Object(c.useState)(!1),j=Object(m.a)(x,2),g=j[0],y=j[1],w=Object(c.useContext)(h),N=S.a.parse(e.location.search&&e.location.search),C=N.pagesize||10,I=N.before||-1,T=N.after||0,P=I>=0?{pagesize:C,before:I}:{pagesize:C,after:T};if(Object(c.useEffect)(function(){w.setTitle("PROJECTS")},[]),Object(c.useEffect)(function(){return function(){var e=Object(k.a)(O.a.mark(function e(){var t,a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,W.getProjectsList(P);case 3:"Not Found"===(t=e.sent).message?(l([]),d(o),E(!0)):t.message?w.setError(t):null!==t&&(a=[],a=t.results.filter(function(e){if(e.id%2)return e}),r=t.results.filter(function(e){if(!(e.id%2))return e}),l(a.concat(r)),d({hasbefore:t.hasbefore,continues:t.continues}),E(!0));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){W.abortRequest()}},[C,I,T]),!1===v)t=s.a.createElement(J,null);else{var z=0,F=0;n.length>0&&(z=n[0].id,F=n[n.length-1].id),t=s.a.createElement("div",null,s.a.createElement($,{cls:g?"full-screen":"",handler:y}),s.a.createElement(Q,{projectsList:n,path:e.match.url}),s.a.createElement(Y,{before:z,after:F,pagination:p,path:e.match.url+"?"}),s.a.createElement(H,{visibility:g,setVisibility:y,history:e.history}),s.a.createElement("button",{className:"bottom-left-btn",type:"button",value:"toggle-insert-form",onClick:function(e){y(!g)}},"+"))}return t},ee=a(17),te=a(25),ae=a(24),re=a(14),ne=a.n(re),ce=function(e){var t=e.value,a=e.label,r=e.isChecked,n=e.handler;return s.a.createElement("label",{className:"checkbox-container"},s.a.createElement("input",{type:"checkbox",value:t,name:a,defaultChecked:r,onChange:n}),s.a.createElement("span",{className:"checkmark"}),s.a.createElement("span",null,a))};function se(){return(se=Object(k.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.search,e.next=3,_.get(a,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(){return(le=Object(k.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.scopus_search,e.next=3,_.get(a,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var oe={search:function(e){return se.apply(this,arguments)},scopusSearch:function(e){return le.apply(this,arguments)},abortRequest:_.abortRequest};function ie(){return(ie=Object(k.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers,e.next=3,_.get(a,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(){return(ue=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers+"/"+t,e.next=3,_.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(){return(pe=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers,console.log(t),e.next=4,_.post(a,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(){return(me=Object(k.a)(O.a.mark(function e(t,a){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=x.home+x.papers+"/"+t,e.next=3,_.put(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(){return(de=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers+"/"+t,e.next=3,_.delete(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var fe={getPapersList:function(e){return ie.apply(this,arguments)},getPaper:function(e){return ue.apply(this,arguments)},postPaperIntoProject:function(e){return pe.apply(this,arguments)},putPaper:function(e,t){return me.apply(this,arguments)},deletePaper:function(e){return de.apply(this,arguments)},abortRequest:_.abortRequest},he=function(e){return s.a.createElement("svg",{id:"search-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},s.a.createElement("path",{className:"st0",d:"M626.9,644.3c-73.5,0-142.6-28.6-194.6-80.6s-80.6-121.1-80.6-194.6s28.6-142.6,80.6-194.6 c52-52,121.1-80.6,194.6-80.6c73.5,0,142.6,28.6,194.6,80.6c52,52,80.6,121.1,80.6,194.6s-28.6,142.6-80.6,194.6 S700.4,644.3,626.9,644.3z"}),s.a.createElement("line",{className:"st1",x1:"145.2",y1:"850.8",x2:"431.7",y2:"564.3"}))},be=a(11),ve=function(e){var t=e.papersList,a=e.handlePaperSelection;return t.map(function(e,t){var r;return s.a.createElement("div",{key:e.id,className:"paper-card"},s.a.createElement(ce,{val:e.id,label:"",handler:a}),s.a.createElement(i.b,{to:"#"},s.a.createElement("h3",null,e.id," ",e.data&&e.data.title)),s.a.createElement(ne.a,(r={text:e.data&&e.data.abstract,lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(be.a)(r,"moreText","more"),Object(be.a)(r,"lessText","less"),r)))})},Ee=function(e){var t=e.papersList,a=e.handlePaperSelection;return t.map(function(e,t){var r;return s.a.createElement("div",{key:e.id,className:"paper-card"},s.a.createElement(ce,{val:e.id,label:"",handler:a}),s.a.createElement(i.b,{to:"#"},s.a.createElement("h3",null,e.id," ",e.Title)),s.a.createElement(ne.a,(r={text:"I am a description I am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a description",lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(be.a)(r,"moreText","more"),Object(be.a)(r,"lessText","less"),r)))})},xe=function(e){var t=e.papersList;return 0===t.length?s.a.createElement("div",null,"there are no papers here, you can add new ones by searching"):t.map(function(e,t){var a;return s.a.createElement("div",{key:e.id,className:"paper-card"},s.a.createElement(i.b,{to:"#"},s.a.createElement("h3",null,e.id," ",e.data.title)),s.a.createElement(ne.a,(a={text:e.data.abstract,lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(be.a)(a,"moreText","more"),Object(be.a)(a,"lessText","less"),a)))})},je=a(52),ge=function(e){var t=e.project_id,a=e.location,r=(e.match,e.history),n=je.range(2017,2020).map(String),l=S.a.parse(a.search),o=l.pagesize||10,i=l.before||-1,u=l.after||0,p=l.query||"",d="false"!==l.scopus&&Boolean(l.scopus||!1),f="false"!==l.scopus&&Boolean(l.googleScholar||!1),b="false"!==l.scopus&&Boolean(l.arXiv||!1),v=l.searchby;["all","author","paperTitle"].includes(v)||(v="all");var E=(l.years||"").split(",");""===E[0]&&(E=[]);var x={scopus:d,googleScholar:f,arXiv:b,all:"all"===v,author:"author"===v,paperTitle:"paperTitle"===v,years:E},j=Object(c.useState)(x),g=Object(m.a)(j,2),y=g[0],w=g[1],N=Object(c.useState)([]),C=Object(m.a)(N,2),I=C[0],T=C[1],P=Object(c.useState)([]),z=Object(m.a)(P,2),F=z[0],L=z[1],R=Object(c.useState)(p),q=Object(m.a)(R,2),B=q[0],_=q[1],M=Object(c.useState)(!0),X=Object(m.a)(M,2),A=X[0],D=X[1],U={hasbefore:!1,continues:!1},W=Object(c.useState)(U),V=Object(m.a)(W,2),H=V[0],K=V[1],$=Object(c.useContext)(h),Q={pagesize:o,query:p};function Z(e){var t=Object(ae.a)({},y),a=e.target.value;if(n.includes(a))if(y.years.includes(a)){var r=y.years.filter(function(e){return e!==a});t.years=r}else t.years.push(a);else t[a]=!y[a];w(t)}function ee(e){var t=e.target.value;if(F.includes(t)){var a=F.filter(function(e){return e!==t});L(a)}else{var r=Object(te.a)(F);r.push(t),L(r)}}function re(){return(re=Object(k.a)(O.a.mark(function e(a){var r,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),D(!1),r=0;case 3:if(!(r<F.length)){e.next=13;break}return e.next=6,fe.postPaperIntoProject({paper_id:F[r],project_id:t});case 6:if(!(n=e.sent).message){e.next=10;break}return $.setError(n),e.abrupt("return",null);case 10:r++,e.next=3;break;case 13:D(!0),alert("insert completed");case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ne(){return(ne=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===B?alert("search string is empty"):(a="?query="+B,a+=G(y),r.push(a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}i>=0?Q.before=i:Q.after=u,Object(c.useEffect)(function(){!function(){var e=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(L([]),""===p){e.next=14;break}if(D(!1),console.log(d),!1!==d){e.next=10;break}return e.next=7,oe.search(Q);case 7:t=e.sent,e.next=13;break;case 10:return e.next=12,oe.scopusSearch(Q);case 12:t=e.sent;case 13:"Not Found"===t.message?(T([]),K(U),D(!0)):t.message?$.setError(t):null!==t&&(T(t.results),K({hasbefore:t.hasbefore,continues:t.continues}),D(!0));case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[p,i,u,d,f,b,t]);var se=s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:""===p?"search-form":"search-form small",onSubmit:function(e){return ne.apply(this,arguments)}},s.a.createElement("div",{style:{position:"relative"}},s.a.createElement("input",{type:"text",placeholder:"search",defaultValue:B,onChange:function(e){return _(e.target.value)}}),s.a.createElement("button",{type:"submit",value:"Submit"},s.a.createElement(he,null))),s.a.createElement("div",{className:"option-holder"},s.a.createElement("label",null,"Source:"),s.a.createElement("br",null),s.a.createElement("div",{className:"checkboxes-holder"},s.a.createElement(ce,{label:"Scopus",value:"scopus",isChecked:y.scopus,handler:Z}),s.a.createElement(ce,{label:"Google Scholar",value:"googleScholar",isChecked:y.googleScholar,handler:Z}),s.a.createElement(ce,{label:"arXiv",value:"arXiv",isChecked:y.arXiv,handler:Z})),s.a.createElement("label",null,"Search by:"),s.a.createElement("br",null),s.a.createElement("div",{className:"checkboxes-holder"},s.a.createElement(ce,{label:"All",value:"all",isChecked:y.all,handler:Z}),s.a.createElement(ce,{label:"Author",value:"author",isChecked:y.author,handler:Z}),s.a.createElement(ce,{label:"Paper title",value:"paperTitle",isChecked:y.paperTitle,handler:Z})),s.a.createElement("label",null,"Year:"),s.a.createElement("br",null),s.a.createElement("div",{className:"checkboxes-holder"},s.a.createElement(ce,{label:"2019",value:"2019",isChecked:y.years.includes("2019"),handler:Z}),s.a.createElement(ce,{label:"2018",value:"2018",isChecked:y.years.includes("2018"),handler:Z}),s.a.createElement(ce,{label:"2017",value:"2017",isChecked:y.years.includes("2017"),handler:Z}))))),le="";if(!0===A&&0===I.length&&""!==p)le=s.a.createElement("div",{className:"not-found"}," not found :( ");else if(I.length>0&&""!==p){var ie=I[0].id,ue=I[I.length-1].id,pe=window.location.href,me=pe.indexOf("?"),de=pe.lastIndexOf("before"),be=pe.lastIndexOf("after");pe=de>-1?pe.slice(me,de):be>-1?pe.slice(me,be):pe.slice(me)+"&";var xe=!1===d?s.a.createElement(ve,{papersList:I,handlePaperSelection:ee}):s.a.createElement(Ee,{papersList:I,handlePaperSelection:ee});le=s.a.createElement("div",{className:"paper-card-holder"},xe,s.a.createElement(Y,{before:ie,after:ue,pagination:H,path:pe}),s.a.createElement("button",{className:"bottom-left-btn",type:"submit",value:"Submit"},"+"))}return!1===A&&(le=s.a.createElement("div",{className:"search-loading-holder"},s.a.createElement(J,{class:"small"}))),s.a.createElement(s.a.Fragment,null,se,s.a.createElement("form",{className:"search-results",onSubmit:function(e){return re.apply(this,arguments)}},le))},ye=function(e){var t,a=e.project_id,r=e.location,n=e.match,l=Object(c.useState)([]),o=Object(m.a)(l,2),i=o[0],u=o[1],p={hasbefore:!1,continues:!1},d=Object(c.useState)(p),f=Object(m.a)(d,2),b=f[0],v=f[1],E=Object(c.useState)(!1),x=Object(m.a)(E,2),j=x[0],g=x[1],y=Object(c.useContext)(h),w=S.a.parse(r.search),N=w.pagesize||10,C=w.before||-1,I=w.after||0,T=C>=0?{pagesize:N,before:C}:{pagesize:N,after:I};if(T.project_id=a,Object(c.useEffect)(function(){return function(){var e=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.next=3,fe.getPapersList(T);case 3:"Not Found"===(t=e.sent).message?(u([]),v(p),g(!0)):t.message?y.setError(t):null!==t&&(u(t.results),v({hasbefore:t.hasbefore,continues:t.continues}),g(!0));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){fe.abortRequest()}},[N,C,I]),!1===j)t=s.a.createElement(J,{class:"small"});else{var P=0,z=0;i.length>0&&(P=i[0].id,z=i[i.length-1].id),t=s.a.createElement("div",{className:"paper-card-holder"},s.a.createElement(xe,{papersList:i}),s.a.createElement(Y,{before:P,after:z,pagination:b,path:n.url+"?"}))}return t=s.a.createElement("div",{className:"papers-list"},t)},we=function(e){e.project;var t=e.match,a=e.slider;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"project-nav-link-wrapper"},s.a.createElement("div",{className:"nav-link"},s.a.createElement(i.b,{to:t.url},"papers")),s.a.createElement("div",{className:"nav-link"},s.a.createElement(i.b,{to:K(t.url,"/search")},"search")),s.a.createElement(ee.b,{flipKey:a},s.a.createElement(ee.a,{flipId:"underline"},s.a.createElement("div",{className:a?"underline underline-to-left":"underline underline-to-right"})))))},Oe=function(e){var t,a=Object(c.useState)({}),r=Object(m.a)(a,2),n=r[0],l=r[1],o=Object(c.useState)(!1),i=Object(m.a)(o,2),p=i[0],d=i[1],f=Object(c.useState)(!0),b=Object(m.a)(f,2),v=b[0],E=b[1],x=Object(c.useContext)(h),j=e.match.params.id,g=window.location.pathname.substring(window.location.pathname.length-7,window.location.pathname.length);return Object(c.useEffect)(function(){E("/search"!==g&&"search/"!==g)},[g]),Object(c.useEffect)(function(){return d(!1),function(){var e=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W.getProject(j);case 2:(t=e.sent).message?x.setError(t):null!==t&&(l(t),d(!0));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){W.abortRequest()}},[j]),!1===p?t=s.a.createElement(J,null):(x.setTitle(n.data.name.toUpperCase()),t=s.a.createElement("div",{className:"project-wrapper"},s.a.createElement(we,{project:n,match:e.match,slider:v}),s.a.createElement(u.a,{exact:!0,path:e.match.url,render:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"project-description"},s.a.createElement("h2",null,"description:"),n.data.description),s.a.createElement(ye,{project_id:j,location:e.location,match:e.match}))}}),s.a.createElement(u.a,{exact:!0,path:e.match.url+"/search",render:function(e){return s.a.createElement(ge,Object.assign({project_id:j},e))}}))),t},ke=function(e){return s.a.createElement(i.a,{basename:"slr-web/"},s.a.createElement("div",{className:"app"},s.a.createElement(b,null,s.a.createElement(d,null,s.a.createElement(y,null)),s.a.createElement(p,null,s.a.createElement(u.a,{exact:!0,path:"/",render:function(){return s.a.createElement(v,null)}}),s.a.createElement(u.a,{exact:!0,path:"/projects",render:function(e){return s.a.createElement(Z,e)}}),s.a.createElement(u.a,{path:"/projects/:id",render:function(e){return s.a.createElement(Oe,e)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(ke,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.01e7adf1.chunk.js.map