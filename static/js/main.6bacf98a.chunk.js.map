{"version":3,"sources":["utils/conn.js","config/index.js","dao/users.dao.js","components/modules/error.js","components/providers/appProvider.js","components/home.js","dao/projects.dao.js","components/svg/loadIcon.js","components/svg/closeButton.js","components/forms/projectForm.js","components/modules/pagination.js","utils/index.js","components/modules/cover.js","components/svg/optionsButton.js","components/modules/sideOptions.js","components/svg/emptyFolder.js","components/projects/projectsList.js","dao/paper.dao.js","dao/projectPapers.dao.js","components/svg/selectTick.js","components/forms/checkbox.js","components/svg/radioTick.js","components/forms/radiobox.js","components/svg/noPapers.js","components/papers/printPapersList.js","components/svg/selectArrow.js","components/forms/select.js","components/svg/searchButton.js","components/svg/searchSimilarButton.js","components/svg/orderArrow.js","components/svg/removeButton.js","components/svg/noSearchResults.js","components/forms/searchform.js","dao/updateFile.dao.js","components/svg/goButton.js","components/forms/searchSimilarPapers.js","components/forms/searchSimilarForm.js","components/papers/papersList.js","components/forms/selectformik.js","components/forms/custompaper.js","components/papers/customPaperPage.js","components/svg/editButton.js","components/projects/projectDescription.js","components/projects/projectName.js","components/svg/ghost.js","components/modules/pageNotFound.js","components/projects/projectPage.js","components/main.js","components/navigation/navBar.js","components/navigation/userInfo.js","components/svg/menuButton.js","components/navigation/sideMenu.js","components/modules/breadCrumbs.js","components/modules/notification.js","components/modules/usersLogin.js","App.js","serviceWorker.js","index.js"],"names":["abortController","abortRequestType","config","home","search","scopus_search","search_similar","projects","papers","customPapers","userLogin","userInfo","userLogout","menu_list","id","content","link","max_total_number_for_results","pdf_parse_server","google_login_client_id","timeOutTime","localStorage","window","request","_callee","url","options","signal","requestOptions","timer","response","data","timeOutError","regenerator_default","a","wrap","_context","prev","next","AbortController","Object","assign","credentials","includes","mode","setTimeout","abort","fetch","sent","clearTimeout","parseResponseData","checkResponseStatus","abrupt","t0","Error","name","stop","_callee2","queryData","query","key","jsonHeaders","_args2","arguments","_context2","length","undefined","encodeURIComponent","slice","Headers","append","getItem","method","headers","_callee3","_context3","_callee4","bodyData","body","_args4","_context4","JSON","stringify","_callee5","_args5","_context5","_callee6","_args6","_context6","status","error","statusText","payload","_callee7","contentType","_context7","get","indexOf","text","formData","blob","json","http","post","delete","put","postFile","abortRequest","console","log","id_token","usersDao","postTokenId","getUserByTokenId","logoutUser","withRouter","props","_useState","useState","_useState2","slicedToArray","firstTime","setFirstTime","appConsumer","useContext","AppContext","history","location","useEffect","setError","pathname","statusCode","message","storage","getUserData","_ref","asyncToGenerator","mark","res","removeItem","setUser","apply","this","goBack","e","output","react_default","createElement","Fragment","className","style","textAlign","type","onClick","React","createContext","AppProvider","user","_useState3","_useState4","userFetch","setUserFetch","_useState5","_useState6","_useState7","_useState8","title","setTitle","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","projectName","setProjectName","contextObject","_user","email","given_name","surname","family_name","image","picture","Provider","value","modules_error","children","push","fontSize","fontWeight","_args","project_id","projectsDao","getProjectsList","getProject","postProject","putProject","deleteProject","LoadIcon","class","xmlns","xmlnsXlink","x","y","viewBox","d","CloseButton","x1","y1","x2","y2","ProjectForm","yup","require","projectValidationSchema","object","shape","string","required","description","formik_esm","initialValues","validationSchema","onSubmit","_ref2","values","setSubmitting","_x","_x2","validateOnBlur","_ref3","errors","touched","isSubmitting","validateField","setErrors","handleChange","visibility","setVisibility","closeButton","borderBottom","placeholder","onChange","component","disabled","Pagination","start","count","totalResults","path","queryString","href","split","newQueryString","arryQuery","i","parameterName","setStartAndCountInUrl","firstPage","lastPage","listPage","paged","Math","floor","totalPage","ceil","react_router_dom","to","paginationLength","display","map","element","index","margin","arrayOfObjectsContains","b","_loop","some","v","_ret","join","base","charAt","createQueryStringFromObject","keys","getIndexOfObjectArrayByKeyAndValue","array","Cover","cls","handler","DeleteButton","version","SideOptions","target","focused","setFocused","onBlur","onMouseDown","optionsButton","padding","border","EmptyFolder","PrintList","maps","projectsList","handleDelete","sideOptions","emptyFolder","modules_sideOptions","date_last_modified","ProjectsList","setProjectsList","setTotalResults","setDisplay","toggleform","setToggleForm","params","parse","createQueryData","_handleDelete","newProjectsList","filter","project","mounted","even_projs","odd_projs","objectSpread","orderBy","results","concat","fetchData","loadIcon","cover","projectsList_PrintList","match","pagination","projectForm","paperDao","selectById","searchSimilar","paper_id","projectPapersDao","getPapersList","getPaper","postPaperIntoProject","postCustomPaperIntoProject","putPaper","deletePaper","SelectTick","points","attributeName","dur","repeatCount","fill","from","CheckBox","val","label","isChecked","tick","setTick","selectTick","checked","RadioTick","cx","cy","r","RadioBox","radioTick","NoPapers","PrintPapersList","papersList","localPaperList","setLocalPaperList","handleSideOptions","_x4","_x5","_x6","_handleSideOptions2","newPapersList","paper","setItem","noPapers","authors","eid","doi","year","lib_default","abstract","lines","ellipsis","moreText","lessText","PrintScoupusSearchList","handlePaperSelection","selectedEidList","setSimilarPaperData","_x3","_handleSideOptions","goSimilar","substring","forms_checkbox","SelectArrow","attributeType","begin","Select","selected","handleFocus","document","getElementById","beginElement","tabIndex","onFocus","selectArrow","borderLeft","borderRight","borderTop","data-value","SearchButton","SearchSimilarButton","OrderArrow","up","destination","setDestination","transform","RemoveButton","NoSearchResults","_","orderByOptions","searchByOptions","endYear","Date","getFullYear","yearOptions","toConsumableArray","range","String","SelectedPapersListBox","selectedPapersList","opacity","pointerEvents","removeButton","height","SearchForm","selectedPapersListFromStorage","setPapersList","queryUrl","scopus","searchBy","sort","googleScholar","arXiv","setSelectedPapersList","keywords","setKeyWords","source","setSource","_useState13","_useState14","setSearchBy","_useState15","_useState16","setYear","_useState17","_useState18","setUp","handleSelection","parseInt","getAttribute","handelOrder","event","newList","selectAllPapers","allPapersInPage","tmpList","uniqBy","_handleAddPapers","_arrayEid","preventDefault","arrayEid","_handleSendSearch","_queryString","handleOnInputChange","newSource","formPart","position","searchButton","searchSimilarButton","radiobox","singleYear","resultPart","forms_select","orderArrow","searchform_SelectedPapersListBox","noSearchResults","updateFileDao","updatePdf","GoButton","SearchSimilarPapers","close","input","paperInfo","fetching","setPaperInfo","setPaperFile","topRightButton","inputElement","useRef","_handleSubmission","current","files","goButton","ref","click","_ref4","SearchSimilarForm","similarPaperDataFromStorage","similarPaperData","similarPaperFile","setSimilarPaperFile","_useState19","_useState20","_useState21","_useState22","similarFormVisibility","setSimilarFormVisibility","_useState23","_useState24","similarPaperFetch","setSimilarPaperFetch","resx","test","FormData","fetchMainPaper","paperData","fetchSimilarPapers","marginTop","searchSimilarPapers","boxShadow","searchSimilarForm_SelectedPapersListBox","PapersList","form","setSelected","setFieldValue","paperType","PaperForm","paperValidationSchema","number","min","max","integer","customPaper","document_type","toString","source_title","abstract_structured","filter_oa_include","filter_study_include","notes","manual","projectId","render","field","selectformik","CustomPaperPage","paperDataFetch","setPaperDataFetch","setPaperData","displayForm","setDisplayForm","file","custompaper","EditButton","confirm","ProjectDescription","update","date_created","editing","setEditing","formatDate","date","defaultValue","width","focus","editButton","ProjectName","Ghost","rx","ry","PageNotFound","ghost","ProjectPageHead","notFound","lc","hash","substr","slider","left","ProjectPage","setProject","setNotFound","updateProject","_updateProject","new_name","new_desc","reload","projects_projectName","projectPage_ProjectPageHead","react_router","exact","projectDescription","papers_papersList","searchform","searchSimilarForm","customPaperPage","pageNotFound","Main","projects_projectsList","projectPage","NavBar","UserInfo","alt","src","MenuButton","PrintMenu","onMouseUp","handleMenuBlur","SideMenu","shown","setShown","_logout","clsidemenu","clsbutton","menuButton","sideMenu_PrintMenu","bcPath","bc","createBreadCrumbs","Notification","responseGoogle","_responseGoogle","tokenId","profileObj","givenName","familyName","imageUrl","google_login","clientId","buttonText","onSuccess","onFailure","cookiePolicy","App","appProvider_AppProvider","navBar","sideMenu","breadCrumbs","notification","main","usersLogin","Boolean","hostname","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6bacf98a.chunk.js","sourcesContent":["/*this is the file to communicate with backend by fetch request*/\nimport config from 'config/index';\n\n//signal to abort the request\nlet abortController;\n//int to know abort error type\nlet abortRequestType;\n//10seconds for timeout\nlet timeOutTime = 10 * 1000;\n\n//get the localStorage object\nconst localStorage = window.localStorage;\n\n/**\n * abort all request in progeress by user\n */\nfunction abortRequest() {\n    abortController.abort();\n    abortRequestType = 1;\n    console.log(\"abort\")\n\n}\n\n/**\n * abort all request if timeout\n */\nfunction timeOut() {\n\n    abortController.abort();\n    abortRequestType = 2;\n}\n\n/**\n * create a basic fetch request\n * @param url\n * @param options request config\n * @param {int} timeOutTime\n * @return {object} response data\n\n */\nasync function request(url, options, timeOutTime) {\n    try {\n\n        //create a new abortController for this request\n        abortController = new AbortController();\n        let signal = abortController.signal;\n        //initialize as 0 for every request\n        abortRequestType = 0;\n\n        let requestOptions = Object.assign(\n            {\n                //enable the  sending of cookie\n                credentials: (url.includes(config.userInfo)) ? 'omit' : 'include', //if it's a google user api request I don't need credentials\n                \"mode\": 'cors',\n                \"signal\": signal\n            },\n            options\n        );\n\n        //set timeout clock\n        let timer = setTimeout(() => timeOut(), timeOutTime);\n\n        let response = await fetch(url, requestOptions);\n\n        //clear timeout clock\n        clearTimeout(timer);\n\n\n        //parse response data\n        let data = await parseResponseData(response);\n        //response error check\n        checkResponseStatus(response,data);\n        return  data;\n\n    }\n    catch (error) {\n\n        //console.dir(error);\n\n        //if abort error is caused by timeout\n        if (abortRequestType === 2) {\n            //create a custom error for timeout\n            let timeOutError = new Error(\"Error: Time out to get response from backend\");\n            timeOutError.name = \"timeout\";\n            return  timeOutError;\n        }\n        //if is a abort error  caused by user\n        else if (abortRequestType === 1) {\n            return null;\n        }\n\n        return error;\n\n\n    }\n}\n\n/**\n * get method\n * @param url\n * @param queryData quey string\n * @return {object} response data\n */\nasync function get(url, queryData = \"\") {\n    let query = \"\";\n    if (queryData !== \"\") {\n        query = \"?\";\n        for (let key in queryData) {\n            query += key + \"=\" + encodeURIComponent(queryData[key]) + \"&\";\n        }\n        //delete the last &\n        query = query.slice(0, query.length - 1);\n    }\n\n    let jsonHeaders = new Headers();\n    jsonHeaders.append('Accept', 'application/json');\n    jsonHeaders.append('Content-Type', 'application/json;charset=UTF-8');\n    jsonHeaders.append('Authorization', localStorage.getItem(\"userToken\"));\n\n    let options = {\n        \"method\": 'GET',\n        \"headers\": jsonHeaders,\n    };\n\n    return await request(url + query, options, timeOutTime);\n}\n\n/**\n * delete method\n * @param url\n */\nasync function deletes(url) {\n\n    let jsonHeaders = new Headers();\n    jsonHeaders.append('Authorization', localStorage.getItem(\"userToken\"));\n\n    let options = {\n        \"method\": 'DELETE',\n        \"headers\": jsonHeaders,\n    };\n\n    return await request(url, options, timeOutTime);\n}\n\n/**\n * post method\n * @param url\n * @param bodyData\n * @return {object } response data\n */\nasync function post(url, bodyData = \"\") {\n\n    let jsonHeaders = new Headers();\n    jsonHeaders.append('Accept', 'application/json, text/plain, */*');\n    jsonHeaders.append('Cache-Control', 'no-cache');\n    jsonHeaders.append('Content-Type', 'application/json;charset=UTF-8');\n    jsonHeaders.append('Authorization', localStorage.getItem(\"userToken\"));\n\n    let body = JSON.stringify(bodyData, null, 2);\n    let options = {\n        \"method\": 'POST',\n        \"headers\": jsonHeaders,\n        \"body\": body,\n    };\n\n    return await request(url, options, timeOutTime);\n}\n\n/**\n * post file method\n * @param url\n * @param bodyData\n * @return {object} response data\n */\nasync function postFile(url, bodyData = \"\") {\n\n    //custom timeout for request\n    let customTimeOutTime= 10 * 1000;\n\n    let jsonHeaders = new Headers();\n    jsonHeaders.append('Accept', 'application/json, text/plain, */*');\n    jsonHeaders.append('Cache-Control', 'no-cache');\n    jsonHeaders.append('Authorization', localStorage.getItem(\"userToken\"));\n\n   // jsonHeaders.append('Content-Type', 'multipart/form-data');\n    let options = {\n        \"method\": 'POST',\n        \"headers\": jsonHeaders,\n        \"body\": bodyData\n    };\n\n    return await request(url, options, customTimeOutTime);\n}\n\n\n/**\n * put method\n * @param url\n * @param bodyData\n */\nasync function put(url, bodyData = \"\") {\n\n    let jsonHeaders = new Headers();\n    jsonHeaders.append('Accept', 'application/json, text/plain, */*');\n    jsonHeaders.append('Cache-Control', 'no-cache');\n    jsonHeaders.append('Content-Type', 'application/json;charset=UTF-8');\n    jsonHeaders.append('Authorization', localStorage.getItem(\"userToken\"));\n\n    let body = JSON.stringify(bodyData, null, 2);\n    let options = {\n        \"method\": 'PUT',\n        \"headers\": jsonHeaders,\n        \"body\": body,\n    };\n\n    return await request(url, options,timeOutTime);\n}\n\n\n/**\n *  * check resposonse status\n * @param response to check\n * @param data data received\n * @throws {Error} if  status code < 200 or status code >= 300\n */\nfunction checkResponseStatus(response, data) {\n\n    if (response.status < 200 || response.status >= 300) {\n        const error = new Error(response.statusText);\n        error.data = response;\n        if(data.payload){\n            error.payload = data.payload;\n        }\n        throw error;\n    }\n\n}\n\n/**\n * parse the response of  http request\n * @param response response object\n * @return {object} data parsed\n */\nasync function parseResponseData(response) {\n    //get response data type\n    const contentType = response.headers.get('Content-Type');\n    let data = null;\n    //parse the data by its type\n    if (contentType != null) {\n        if (contentType.indexOf('text') > -1) {\n            data = await response.text()\n        }\n        if (contentType.indexOf('form') > -1) {\n            data = await response.formData();\n        }\n        if (contentType.indexOf('video') > -1) {\n            data = await response.blob();\n        }\n        if (contentType.indexOf('json') > -1) {\n            data = await response.json();\n        }\n    }\n    else if (response != null) {\n        data = await response.text();\n    }\n    return data;\n}\n\n\n\n//object to export\nconst http = {\n    get,\n    post,\n    \"delete\" : deletes,\n    put,\n    postFile,\n    abortRequest,\n};\n\nexport default http;","/**\n * this is the config file\n */\n\n\nconst config = {\n    \"home\": \"https://crowdai-slr-api-dev.herokuapp.com/\",\n    //\"home\": \"http://localhost:3001/\",\n    \"search\": \"search\",\n    \"scopus_search\": \"search-scopus\",\n    \"search_similar\": \"search/similar\",\n    \"projects\": \"projects\",\n    \"papers\": \"papers\",\n    \"customPapers\": \"customPapers\",\n    \"userLogin\": \"auth/login\",\n    \"userInfo\": \"https://www.googleapis.com/oauth2/v3/tokeninfo\",\n    \"userLogout\": \"auth/logout\",\n    \"menu_list\": [\n        {id: 4, content: \"Home\", link: \"/\"},\n        {id: 5, content: \"My projects\", link: \"/projects\"},\n        {id: 6, content: \"Account\", link: \"#\"}\n    ],\n    \"max_total_number_for_results\": 5000,\n    \"pdf_parse_server\": \"pdf\",\n    \"google_login_client_id\": \"282160526683-84sdnoqh3bc1obojfpepcbonnfg3uks4.apps.googleusercontent.com\",\n\n\n\n\n\n};\n\nexport default config;\n","import http from 'utils/conn'\nimport config from 'config/index'\n\n/**\n * dao to post validation token\n * @param bodyData\n * @return {Object} Google user data\n */\nasync function postTokenId(bodyData) {\n    let url = config.home + config.userLogin;\n    return await http.post(url, bodyData);\n}\n\n/**\n * get user by token\n * @return {Object} user data\n */\nasync function getUserByTokenId(id_token) {\n    let url = config.userInfo;\n    return await http.get(url, {id_token});\n}\n\n/**\n * logout user\n * @return {Object} user data\n */\nasync function logoutUser() {\n    let url = config.home + config.userLogout;\n    return await http.get(url);\n}\n\nconst usersDao = {\n    postTokenId,\n    getUserByTokenId,\n    logoutUser\n}\n\n\nexport {usersDao};","import React, {useContext, useState, useEffect} from 'react';\nimport {withRouter} from 'react-router-dom';\n\nimport {AppContext} from \"components/providers/appProvider\";\nimport {usersDao} from \"dao/users.dao\";\n\nconst Error = function (props) {\n\n    //this avoids setting the error to null on mount\n    const [firstTime, setFirstTime] = useState(true);\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //useful router stuff\n    const { history, location } = props;\n\n    //if the pathname changes(and it's not the first time) I remove the error\n    //because it means the user manually changed the path\n    useEffect(() => {\n        \n        if(firstTime){\n            console.log(\"error mountes\")\n            setFirstTime(false);\n        }else{\n            appConsumer.setError(null);\n        }\n\n    }, [location.pathname])\n\n    useEffect(() => {\n        try{\n            console.log(appConsumer.error.payload.statusCode);\n\n            //once the component is mounted I go immediately back if error is 401\n            if(appConsumer.error.payload.statusCode === 401 || appConsumer.error.payload.message === \"the token does not match any user!\"){\n                console.log(\"unauth call\")\n                //once I get unauthorized error I check whether the user token is expired\n                const storage = window.localStorage;\n                if (storage.getItem(\"userToken\")) {\n                    async function getUserData(){\n                        let res = await usersDao.getUserByTokenId(storage.getItem(\"userToken\"));\n                        //If the token is expired I remove it and I logout the user\n                        if(res && res.message){\n                            console.log(\"INVALID TOKEN\");\n                            storage.removeItem(\"userToken\");\n                            appConsumer.setUser(null);\n                        }else{\n                            console.log(\"VALID TOKEN\");\n                        }\n                        \n                    }\n                    console.log(\"checking token\")\n                    getUserData();\n                }\n                //then I go back\n                console.log(\"pushing back\")\n                history.goBack();\n            }\n        }catch (e){\n            console.log(\"YOU MAY NEED TO CHANGE THE HOME URL PARAMETER FROM 'config/index.js'\");\n        }\n        return () => {\n            //delete the error, so app can resume its work\n            appConsumer.setError(null);\n        }\n\n    }, []);\n    \n\n    //function to delete the error object in context\n    function handleOnRefresh(){\n        appConsumer.setError(null);\n    }\n    //function to return to previous page\n    function handleOnGoBack(){\n        history.goBack();\n        appConsumer.setError(null);\n    }\n\n    //console.dir(appConsumer.error);\n    let output = <></>;\n\n    //is a error from backend\n    if (appConsumer.error.payload) {\n        output = (\n            <>\n                <p>Error code:</p>\n                <p>{appConsumer.error.payload.statusCode}</p>\n                <p>Error name:</p>\n                <p>{appConsumer.error.payload.error}</p>\n                <p>Error message</p>\n                <p>{appConsumer.error.payload.message}</p>\n            </>\n        );\n    }\n\n    //is a error of other type\n    else {\n        output = (\n            <>\n                <p>Error name:</p>\n                <p>{appConsumer.error.name}</p>\n                <p>Error message</p>\n                <p>{appConsumer.error.message}</p>\n            </>\n        );\n    }\n\n    output = (\n        <div className=\"error-wrapper\" style={{textAlign: \"center\"}}>\n            {output}\n            <br/>\n            <button type=\"button\" onClick={handleOnGoBack}><u>return to previous page</u></button>\n            <br/>\n            <p>or</p>\n            <br/>\n            <button type=\"button\" onClick={handleOnRefresh}><u>refresh</u></button>\n\n        </div>\n    );\n\n    return output;\n\n}\n\n\nexport default withRouter(Error);","import React, {useState, useEffect} from 'react';\n\nimport Error from 'components/modules/error';\n\nimport {usersDao} from 'dao/users.dao';\n\n//create a context object\nconst AppContext = React.createContext();\n\n/**\n * this is the component that include a context object that it can be access by all its children component\n */\nconst AppProvider = function (props) {\n\n    //user data\n    const [user, setUser] = useState(null);\n\n    //user data fetch flag\n    const [userFetch, setUserFetch] = useState(true);\n\n    //error\n    const [error, setError] = useState(null);\n\n    //title\n    const [title, setTitle] = useState(<div className=\"nav-elements\"> <h2 className=\"static-title\">HOME</h2> </div>);\n\n    //notification message\n    const [notificationMessage, setNotificationMessage] = useState(undefined);\n\n    const [projectName, setProjectName] = useState(\"\");\n\n    //preparate an object to be insertd into context\n    const contextObject ={\n        user,\n        setUser,\n        userFetch,\n        setUserFetch,\n        error,\n        setError,\n        title,\n        setTitle,\n        notificationMessage,\n        setNotificationMessage,\n        projectName,\n        setProjectName\n    };\n\n\n    //effect on context mount to fetch user data if he's logged\n    useEffect(() => {\n        //get the localStorage object\n        const storage = window.localStorage;\n\n        if (storage.getItem(\"userToken\")) {\n            async function getUserData(){\n                let res = await usersDao.getUserByTokenId(storage.getItem(\"userToken\"));\n\n                //if I receive an error I remove the deprecated token\n                if((res && res.message) || !res.email){\n                    storage.removeItem(\"userToken\");\n                }else{\n                    let user = {\"email\": res.email, \n                                \"name\": res.given_name, \n                                \"surname\": res.family_name, \n                                \"image\": res.picture};\n                    setUser(user);\n                }\n\n                setUserFetch(false);\n            }\n            getUserData();\n        }else{\n            setUserFetch(false);\n        }\n\n        \n    }, [])\n\n    //if there isn't error\n    if (!error) {\n\n        return (\n            //*set the values of contenxt*\n            <AppContext.Provider value={contextObject}>\n\n                {/*mount all components children*/}\n                {props.children}\n\n            </AppContext.Provider>\n        );\n    }\n    //if there is a error\n    else {\n        return (\n            //*set the values of contenxt*\n            <AppContext.Provider value={contextObject}>\n\n                    <Error/>\n\n            </AppContext.Provider>\n        )\n    }\n\n\n}\n\nexport {AppContext, AppProvider};","import React, {useContext, useEffect} from \"react\";\n\nimport {withRouter} from 'react-router-dom';\n\nimport {AppContext} from \"components/providers/appProvider\";\n\n/**\n * this is home component\n */\nconst Home = function (props) {\n\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //set title when component mounts\n    useEffect(() => {\n        appConsumer.setTitle(<div className=\"nav-elements\"> <h2 className=\"static-title\">HOME</h2> </div>);\n    },[])//run on component mount\n\n    const { history, location } = props;\n\n    useEffect(() => {\n        //if user is not logged it I redirect to homepage\n        if(!appConsumer.user){\n            history.push(\"/\");\n        }\n    }, [location.pathname]) //every time location changes\n\n    return (\n        <>\n            <h1>\n                Systematic Literature Review manager\n            </h1>\n            <h2 style={{fontSize: 22, fontWeight: \"normal\"}}>the system right now allows you to</h2>\n            <ul style={{fontSize: 18, fontWeight: \"lighter\"}}>\n                <li>browse a list of prjects</li>\n                <li>add a new project</li>\n                <li>browse the list of papers on a project</li>\n                <li>search(from scopus) and add papers to a project</li>\n                <li>add custom papers based on a file or form data</li>\n                <li>'fake search' similar papers</li>\n            </ul>\n            <h2 style={{fontSize: 22, fontWeight: \"normal\"}}>notes</h2>\n            <ul style={{fontSize: 18, fontWeight: \"lighter\"}}>\n                <li><i>the scopus search works partially(can't retrieve the description)</i>\n                    <ul><li style={{fontSize: 16}}><i>from Elsevier developer portal : \"The data available depends on your institutional subscriptions, and only when you're making calls from within your institutional network are you considered a subscriber\"</i></li></ul>\n                </li>\n                <li><i>the options don't affect the search, for now</i></li>\n            </ul>\n        </>\n    );\n\n\n\n\n};\n\n\nexport default withRouter(Home); //I export passing router componets to the Home so it can access history and location","import http from 'utils/conn'\nimport config from 'config/index'\n\n/**\n * dao to get a projects list\n * @param queryData\n * @return {array[objects]}\n */\nasync function getProjectsList(queryData = \"\") {\n    let url = config.home + config.projects\n    let res = await http.get(url, queryData);\n    return res;\n\n\n}\n\n/**\n * dao to get a project\n * @param project_id\n * @return {Object} project requested\n */\nasync function getProject(project_id) {\n    let url = config.home + config.projects + \"/\" + project_id;\n    let res = await http.get(url);\n    return res;\n}\n\n/**\n * dao to post a new project\n * @param bodyData\n * @return {Object} project created\n */\nasync function postProject(bodyData) {\n    let url = config.home + config.projects;\n    return await http.post(url, bodyData);\n}\n\n/**\n * dao to put a old project\n * @param project_id\n * @param bodyData\n * @return {String} empty string\n */\nasync function putProject(project_id, bodyData) {\n    let url = config.home + config.projects + \"/\" + project_id;\n    return await http.put(url, bodyData);\n}\n\n/**\n * dao to delete a project\n * @param project_id\n * @param bodyData\n * @return {String} empty string\n */\nasync function deleteProject(project_id) {\n    let url = config.home + config.projects + \"/\" + project_id;\n    let res = await http.delete(url);\n    return res;\n}\n\n\nconst projectsDao = {\n    getProjectsList,\n    getProject,\n    postProject,\n    putProject,\n    deleteProject,\n    \"abortRequest\": http.abortRequest\n}\n\n\nexport {projectsDao};","import React from \"react\";\n\n/**\n * component svg loading-icon\n */\nconst LoadIcon = function (props) {\n\n    return (\n\n        <svg id=\"loading-icon\" className={props.class} xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\"\n             y=\"0px\"\n             viewBox=\"0 0 1000 1000\">\n            <g>\n                <path id=\"loading-circle1\" d=\"\n                  M 500, 500\n                  m -160, 0\n                  a 160,160 0 1,0 320,0\n                  a 160,160 0 1,0 -320,0\n          \"/>\n                <path id=\"loading-circle2\" d=\"\n                  M 500, 500\n                  m -305, 0\n                  a 305,305 0 1,0 610,0\n                  a 305,305 0 1,0 -610,0\n          \"/>\n            </g>\n        </svg>\n    );\n};\n\nexport default LoadIcon;\n","import React from \"react\";\n\n/**\n * component svg close-btn\n */\nconst CloseButton = function (props) {\n\n    return (\n        <svg id=\"close-button\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 1000 1000\">\n        <line className=\"ln\" x1=\"134\" y1=\"866\" x2=\"866\" y2=\"134\"/>\n        <line className=\"ln\" x1=\"134\" y1=\"134\" x2=\"866\" y2=\"866\"/>\n        </svg>\n    );\n};\n\nexport default CloseButton;\n","import React, {useState, useContext} from \"react\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport {projectsDao} from 'dao/projects.dao'\n\nimport CloseButton from 'components/svg/closeButton';\n\nimport { AppContext } from 'components/providers/appProvider'\n\n/**\n * this is the form for create or edit the project\n * @param props.project  project object if we want to update a old project\n * @param null if we want to create a new project\n */\nfunction ProjectForm(props) {\n\n    let yup = require('yup');\n\n    const [touc, setTouc] = useState(false);\n\n    const projectValidationSchema = yup.object().shape({\n        name: yup.string().required('please enter a title'),\n        description: yup.string().required('please enter a description')\n    });\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    return (\n        <>\n        <Formik\n            initialValues={{ name: '', description:''}}\n            validationSchema={projectValidationSchema}\n            onSubmit={async (values, { setSubmitting }) => {\n                let bodyData = {name: values.name, description: values.description};\n                //call dao\n                let res = await projectsDao.postProject(bodyData);\n\n                //error checking\n                if(res.message){\n                    //pass error object to global context\n                    appConsumer.setError(res);\n                }else{\n                    props.history.push(\"/projects/\" + res.id);\n                }\n                setSubmitting(false);\n            }}\n            validateOnBlur={false}\n        >\n        {function ({ errors, touched, isSubmitting, setErrors, validateField, handleChange }) {\n            let output = \"\";\n            output = (<Form className=\"modal add-project\" style={{visibility: (!props.visibility) ? 'hidden' : '' }}>\n                <button type=\"button\" className=\"close-btn\" onClick={(e) => {\n                    props.setVisibility(!props.visibility);\n                }}><CloseButton/></button>\n                <br/>\n                <Field\n                    style={{borderBottom : (errors.name && touched.name) ? \"solid 1px #d81e1e\" : \"\"}}\n                    name=\"name\"\n                    type=\"text\" \n                    placeholder=\"Project Name\"\n                    onChange={(e) => {handleChange(e); validateField('name')}}/>\n                <br/>\n                <br/>\n                <Field\n                    style={{borderBottom : (errors.description && touched.description) ? \"solid 1px #d81e1e\" : \"\"}}\n                    name=\"description\"\n                    component=\"textarea\"\n                    placeholder=\"Project Description\"/>\n                <br/>\n                <button type=\"submit\" disabled={isSubmitting || \n                    ((errors.name && touched.name) ||\n                    (errors.description && touched.description))}>Add Project</button>\n            </Form>\n            );\n            return output;\n        }}\n        </Formik>\n\n       \n        </>\n    );\n\n\n}\n\n\nexport default ProjectForm;","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport config from 'config/index';\n\n/**\n * this is the component for pagination\n * @param start offset of results\n * @param count number of element for page\n * @param totalResults the total number of results\n * @param path the path of current page\n * @return {*}\n * @constructor\n */\n\nconst Pagination = function({start, count, totalResults, path}) {\n\n    //set limit max of start\n    if(totalResults >config.max_total_number_for_results){\n        totalResults= config.max_total_number_for_results;\n    }\n    //prepare the correct link path for pagination\n    path = setStartAndCountInUrl(path);\n\n    let prev = \"\", next = \"\", firstPage = \"\", lastPage = \"\";\n    let listPage = [] ;\n    let separator = \"...\";\n    //number*2 of element in pagination\n    let paginationLength = 4;\n    //the page count start by 1.\n    let paged = Math.floor(start / count) + 1;\n    //get total page number\n    let totalPage = Math.ceil(totalResults / count);\n\n\n    //we need the pagination only the totalPage is major than 1\n    if (totalPage > 1) {\n\n        //if it isn't the first page, print the prev-page link\n        if (paged > 1) {\n            prev = (\n                <li>\n                    <Link className=\"prev-page\"\n                          to={path + \"start=\" + (((paged - 1) * count) > 0 ? ((paged - 2) * count) : 0) + \"&count=\" + count}>\n                        {\"<\"}\n                    </Link>\n                </li>\n            );\n        }\n        //if it isn't the last page, print the next-page link\n        if (paged < totalPage) {\n            next = (\n                <li>\n                    <Link className=\"next-page\" to={path + \"start=\" + (paged * count) + \"&count=\" + count}>\n                        {\">\"}\n                    </Link>\n                </li>\n            );\n        }\n\n        //if the first page  isn't include by regular listPage, print the first-page link\n        if (paged > paginationLength + 2) {\n            firstPage = (\n                <>\n                    <li>\n                        <Link className=\"first-page\" to={path + \"start=0&count=\" + count}>\n                            {\"1\"}\n                        </Link>\n                    </li>\n                    <li>\n                        <span>{separator}</span>\n                    </li>\n                </>\n            );\n        }\n\n        //if the last page  isn't include by regular listPage, print the last-page link\n        if (paged < totalPage - (paginationLength + 1)) {\n            lastPage = (\n                <>\n                    <li>\n                        <span>{separator}</span>\n                    </li>\n                    <li>\n                        <Link style={{display: \"inline-block\"}} className=\"last-page\"\n                              to={path + \"start=\" + ((totalPage - 1) * count) + \"&count=\" + count}>\n                            {totalPage}\n                        </Link>\n                    </li>\n                </>\n            );\n        }\n\n        //print the range of page link, the center is current paged\n        for (let i = paged - paginationLength; i <= paged + paginationLength; i++) {\n\n            //print only the i has a valid value\n            if (i > 0 && i <= totalPage) {\n\n                //if i isn't current page, print link\n                if (i !== paged) {\n\n                    listPage.push((\n                            <Link className=\"normal-page\" to={path + \"start=\" + ((i-1) * count) + \"&count=\" + count}>\n                                {i}\n                            </Link>\n                    ));\n                }\n                //if i is current page, print only text\n                else {\n                    listPage.push((\n                            <span className=\"current-page\">{paged}</span>\n                    ));\n                }\n\n            }\n        }\n\n\n    }\n\n    let output = (\n        <ul className=\"pagination\">\n            {prev}\n            {firstPage}\n            {listPage.map((element,index)=><li style={{display: \"inline-block\", margin: 10}} key={index}>{element}</li>)}\n            {lastPage}\n            {next}\n        </ul>\n    );\n    return output;\n};\n\n\n/**\n * internal function to prepare the path link for pagination\n * @param path\n * @return {*}\n */\n\nfunction setStartAndCountInUrl(path){\n\n    let url = window.location.href;\n    //get the queryString from url\n    let queryString = url.split(\"?\")[1];\n    //if it exists\n    if(queryString) {\n        //remove the part after # if it exists\n        queryString = queryString.split(\"#\")[0];\n\n        let newQueryString = \"\";\n        //split queryString in array of string\n        let arryQuery = queryString.split(\"&\");\n        for (let i = 0; i < arryQuery.length; i++) {\n            //check each queryElement\n            let parameterName = arryQuery[i].split(\"=\")[0];\n            //if it isn't start and count\n            if (parameterName !== \"start\" && parameterName !== \"count\") {\n                //add to the new queryString\n                newQueryString += arryQuery[i]+\"&\";\n            }\n        }\n        //create a new path whiteout start and count\n        path = path+\"?\"+newQueryString;\n    }\n    //if path doesn't contain any queryString\n    else {\n        path = path+\"?\";\n    }\n\n\n    return path;\n\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default Pagination;","//need to parse query string of url\nimport queryString from 'query-string';\n\n//here are the common support function\n\n/**\n * compares two arrays of objects\n */\nfunction arrayOfObjectsEquals(a, b) {\n\n    if (a === null || b === null) {\n        return false;\n    }\n    if (a.length !== b.length) {\n        return false;\n    }\n\n    a.sort();\n    b.sort();\n\n\n    for (var i = 0; i < a.length; ++i) {\n        if (JSON.stringify(a[i]) !== JSON.stringify(b[i])) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n * checks if B is contained in A, using a key to check the inclusion\n * @param {array} a\n * @param {array} b\n * @param {string} key (object field)\n */\nfunction arrayOfObjectsContains(a, b, key) {\n\n    if (a === null || b === null) {\n        return false;\n    }\n    if (a.length === 0 || b.length === 0) {\n        return false;\n    }\n\n    //iterate over all elements of B and check if A contains it \n    //by checking wether and element in A has the same key as the selected B element(b[i])\n    for (let i = 0; i < b.length; ++i) {\n        //if doesn't contain the given element then it meand that the vector A doesn't include the vector B\n        if (!a.some(e => e[key] === b[i][key])) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n * converts the checkboxes object of the search form into parameters for the url\n */\nfunction searchCheckboxesToParams(checkboxes) {\n    var params = \"\";\n    Object.keys(checkboxes).forEach(key => {//I iterate over each field of the object\n        if (key !== \"years\") {//if it's not an year\n            if (checkboxes[key]) {//if it's a true flag\n                console.log(key)\n                params += \"&\" + key + \"=\" + checkboxes[key];\n            }\n        }\n        else {//if it's a year\n            if (checkboxes.years.length !== 0) {//if there are some years selected\n                params += \"&\" + queryString.stringify({\"years\": checkboxes.years}, {arrayFormat: 'comma'});\n            }\n        }\n    });\n    return params;\n}\n\n/**\n * this is  function to manipolate 2 url string\n * if first string ends with \"/\", removes \"/\".\n * then concate wite second string and return new string\n */\nfunction join(base, path) {\n    let newPath;\n    //if the last element is \"/\"\n    if (base.charAt(base.length - 1) === '/') {\n        newPath = base.slice(0, -1) + path;\n    }\n    else {\n        newPath = base + path;\n    }\n\n    return newPath;\n\n}\n\n/**\n *\n *\n * function to create string of query by queryObject\n * @param queryData query object\n * @return {string} query string\n */\nfunction createQueryStringFromObject(queryData) {\n\n    let queryString = \"?\";\n    //create a array of keys\n    let keys = Object.keys(queryData);\n    //concatenate the object.property\n    for (let i = 0; i < keys.length; i++) {\n        //I don't need to sort for the recently added sorting\n        if (queryData[\"orderBy\"] !== \"date_created\" || keys[i] !== \"sort\") {\n            queryString += keys[i] + \"=\" + encodeURIComponent(queryData[keys[i]]);\n            //if it isn't the last element, add symbol \"&\"\n            if (i !== (keys.length - 1)) {\n                queryString += \"&\";\n            }\n        }\n    }\n    return queryString;\n\n}\n\n\n/**\n * get element index of a object array by [key, value]\n * @param array to find\n * @param key to find\n * @param value to find\n * @return {number} index of element, -1 if didn't find\n */\nfunction getIndexOfObjectArrayByKeyAndValue(array, key, value) {\n    let index = -1;\n    for (let i = 0; i < array.length; i++) {\n        if (array[i][key] === value) {\n            index = i;\n            break;\n        }\n    }\n    return index;\n}\n\n\nexport {\n    arrayOfObjectsEquals,\n    arrayOfObjectsContains,\n    searchCheckboxesToParams,\n    join,\n    createQueryStringFromObject,\n    getIndexOfObjectArrayByKeyAndValue,\n\n};","import React from \"react\";\n\n\n\n/**\n * component for covering the page\n */\nconst Cover = function ({cls, handler}) {\n    //get data from global context\n    return (\n        <div className={\"cover \" + cls} onClick={(e) => {handler(false)}}></div>\n    );\n};\n\nexport default Cover;","import React from \"react\";\n\n/**\n * component svg options menu button\n */\nconst DeleteButton = function (props) {\n\n    return (\n\n        <svg version=\"1.1\" id=\"options-button\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t        viewBox=\"0 0 1000 1000\">\n            <path className=\"st0\" d=\"M214,482.1\"/>\n            <line className=\"st-options\" x1=\"500\" y1=\"250\" x2=\"500\" y2=\"250\"/>\n            <line className=\"st-options\" x1=\"500\" y1=\"500\" x2=\"500\" y2=\"500\"/>\n            <line className=\"st-options\" x1=\"500\" y1=\"750\" x2=\"500\" y2=\"750\"/>\n        </svg>\n\n    );\n};\n\nexport default DeleteButton;","import React,{useState} from \"react\";\n\nimport OptionsButton from 'components/svg/optionsButton';\n\n/**\n * component side options\n * it needs a class for the styling,\n * an array of options,\n * the function that will handle the click on the option\n * and, if necessary, a target for the handler function\n */\nconst SideOptions = function ({cls, options, handler, target, data}) {\n\n    //this is used to display or hide the options of the menu\n    const [focused, setFocused] = useState(false)\n\n\n    return (\n        <div className={cls}>\n            <button type=\"button\" \n                    onBlur={(e) => \n                        //if the element is blurred then I hide it\n                        {if(focused){setFocused(false)}}} \n                    onMouseDown={(e) => //onMouseDown fires before onBlur\n                        //immediately after the button is clicked I toggle the menu\n                        {setFocused(!focused)}}>\n                <OptionsButton/>\n            </button>\n            <div style={{fontSize: (focused) ? \"12px\" : \"0px\", padding: (focused) ? \"2px\" : \"0px\", border: (focused) ? \"solid 1px #e8e8e8\" : \"solid 0px #e8e8e800\"}} className=\"options-list\">\n                \n                {options.map((element, index) => \n                    <div key={index} onMouseDown={(e) => handler(target, element, data)} className=\"option\">{element}</div>\n                )}\n                \n            </div>\n        </div>\n    );\n}\n\nexport default SideOptions;","import React from \"react\";\n\n/**\n * component svg \n */\nconst EmptyFolder = function (props) {\n\n    return (\n        <svg version=\"1.1\" id=\"empty-folder\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 1000 1000\">\n            <g>\n                <g>\n                    <path className=\"st0-empty-folder\" d=\"M967.9,448.6v260c0,15.1-12.2,27.3-27.3,27.3H59.4c-15.1,0-27.3-12.2-27.3-27.3v-260c0-0.3,0-0.7,0-1\n                        c0-0.2,0-0.4,0.1-0.6c0-0.2,0-0.4,0.1-0.7c0-0.2,0.1-0.4,0.1-0.6c0-0.3,0.1-0.6,0.2-1c0.6-2.4,1.7-4.7,3.5-6.8l141.3-168.3\n                        c2.9-3.4,7.1-5.4,11.6-5.4h89.1c8.5,0,15.9,5.4,18.5,13.5l11.4,35.1c6.3,19.3,24.3,32.4,44.7,32.4h294.4\n                        c20.3,0,38.4-13.1,44.7-32.4l11.4-35.1c2.6-8,10.1-13.5,18.5-13.5h89.1c4.5,0,8.8,2,11.6,5.4l141.3,168.3c1.8,2.1,2.9,4.4,3.5,6.8\n                        c0.1,0.3,0.2,0.6,0.2,1c0,0.2,0.1,0.4,0.1,0.6s0.1,0.5,0.1,0.7s0.1,0.4,0.1,0.6C967.8,447.9,967.9,448.2,967.9,448.6z\"/>\n                    <path d=\"M974.9,448.6c0.1,31-0.8,62-1.4,93c-0.2,7.8-0.3,15.5-0.4,23.3c-0.1,7.8-0.1,15.5-0.2,23.3v46.5v46.5v23.3v2.9\n                        c0,0.5,0,0.9,0,1.5l-0.1,1.7c0,1.1-0.2,2.3-0.4,3.4c-0.1,1.1-0.5,2.2-0.7,3.4c-1.2,4.4-3.4,8.6-6.4,12.1s-6.7,6.4-10.8,8.3\n                        c-4.1,2-8.7,3.1-13.3,3.1l-23.3,0.1l-46.5,0.1l-372.1,1.1L127,742.9L80.5,743H68.9h-5.8h-2.9h-0.7h-0.9l-1.8-0.1\n                        c-4.9-0.4-9.7-1.8-14-4.2s-8-5.7-11-9.6c-2.9-3.9-5-8.5-6.1-13.3c-0.3-1.2-0.4-2.4-0.6-3.6c-0.1-1.2-0.1-2.4-0.2-3.7v-5.8v-23.3\n                        L24.8,633v-93l0.2-46.5l0.1-23.3l0.1-11.6v-5.8v-2.9c0-0.5,0-0.9,0-1.5v-0.9c0,0,0-0.6,0.1-0.9c0-0.3,0.1-0.7,0.1-1l-0.1,1.4\n                        c0-0.5,0.1-1,0.1-1.5l0.1-0.6l0.1-0.6l-0.1,0.5l0.2-1c0.1-0.3,0.2-0.7,0.2-1c0.1-0.5,0.3-1.1,0.5-1.6c0.4-1.1,0.8-2.1,1.3-3.1\n                        s1.1-1.9,1.7-2.8c0.3-0.4,0.6-0.9,1-1.3l0.9-1l6.1-7.1l12.1-14.3L73.6,383l48.4-57l48.5-56.9l1.5-1.8l0.8-0.9l0.4-0.5l0.5-0.6\n                        c1.4-1.6,3.1-2.9,5-4c1.8-1.1,3.9-1.8,5.9-2.3c1-0.2,2.1-0.4,3.2-0.4c0.3,0,0.5,0,0.8,0h0.7h1.2l18.7,0.1l37.4,0.3l18.7,0.1\n                        l9.4,0.1h2.3h1.2l1.4,0.1c1.9,0.1,3.9,0.4,5.7,1c3.7,1.1,7.1,3.2,9.9,6c1.4,1.4,2.6,2.9,3.6,4.6s1.8,3.4,2.4,5.3l5.7,17.8\n                        l5.7,17.8c1.8,5.3,4.6,10.3,8.3,14.6c7.4,8.5,18.3,13.9,29.7,14.5l2.1,0.1h2.3h4.7h9.4l18.7,0.1l37.4,0.1l74.8,0.1l74.8-0.1\n                        l37.4-0.1l18.7-0.1h9.4h4.7h2.3l2.1-0.1c11.3-0.5,22.2-6,29.6-14.5c3.7-4.2,6.5-9.2,8.3-14.5l5.7-17.8l5.6-17.8\n                        c0.6-1.9,1.4-3.6,2.4-5.3c1-1.7,2.3-3.2,3.6-4.6c2.8-2.8,6.2-4.9,10-6c1.9-0.6,3.8-0.9,5.8-1.1l1.5-0.1h1.2h2.3l9.4-0.1l18.7-0.1\n                        l37.4-0.3l18.7-0.1h1.2h0.7c0.3,0,0.5,0,0.8,0c1.1,0.1,2.2,0.2,3.2,0.4c2.1,0.5,4.2,1.2,6,2.3c1.9,1.1,3.6,2.4,5.1,4l0.5,0.6\n                        l0.4,0.5l0.8,0.9l1.5,1.8l48.5,56.9l48.4,57.1l24.1,28.6l12.1,14.3l6,7.1l0.9,1.1c0.3,0.4,0.7,0.9,1,1.3c0.6,0.9,1.2,1.8,1.7,2.8\n                        s0.9,2,1.3,3.1c0.2,0.5,0.3,1.1,0.5,1.6c0.1,0.2,0.1,0.6,0.2,1l0.2,1l-0.1-0.5l0.1,0.6l0.1,0.6c0.1,0.5,0.1,1,0.1,1.5l-0.1-1.4\n                        c0.1,0.4,0.1,0.8,0.2,1.2v0.6v0.3L974.9,448.6z M960.8,448.6v-0.7v-0.2c0,0.1,0,0.1,0,0.2s0,0.2,0.1,0.4l-0.1-1.4\n                        c0,0.1,0,0.2,0,0.2l0,0V447l-0.1-0.5l0,0v-0.1c0,0,0,0,0-0.2c-0.1-0.3-0.1-0.4-0.2-0.6c-0.1-0.4-0.3-0.8-0.5-1.2\n                        c-0.2-0.4-0.4-0.8-0.7-1.2c-0.1-0.2-0.3-0.4-0.4-0.6l-0.6-0.7l-6-7.2l-12-14.4l-24-28.7l-47.8-57.5l-47.7-57.6l-2.8-3.4\n                        c-0.6-0.7-1.4-1.3-2.2-1.8s-1.7-0.8-2.6-1.1c-0.5-0.1-0.9-0.2-1.4-0.2c-0.1,0-0.2,0-0.4,0c-0.1,0-0.2,0-0.4,0h-1.2l-18.7-0.1\n                        l-37.4-0.3l-18.7-0.1l-9.4-0.1h-2.3h-1.2h-0.9c-1.1,0.1-2.3,0.2-3.4,0.6c-4.4,1.3-8.1,4.8-9.6,9.2l-5.9,17.8l-5.9,17.8\n                        c-2.3,6.5-5.7,12.5-10.3,17.6c-9.1,10.2-22.4,16.6-36,17.2L500,349.2l-149.8,0.2c-13.6-0.6-26.9-6.9-35.9-17.2\n                        c-4.6-5.1-8-11.1-10.3-17.6l-5.9-17.8l-5.9-17.8c-1.5-4.5-5.2-8.1-9.7-9.4c-1.1-0.4-2.3-0.5-3.4-0.6h-0.9H277h-2.3l-9.4,0.1\n                        l-18.7,0.1l-37.4,0.3l-18.7,0.1h-1.2c-0.2,0-0.3,0-0.5,0c-0.1,0-0.2,0-0.4,0c-0.5,0-1,0.1-1.5,0.2c-1,0.2-1.9,0.6-2.7,1.1\n                        c-0.9,0.5-1.6,1.1-2.3,1.9l-2.8,3.4l-47.7,57.6l-47.8,57.6l-23.9,28.8l-11.9,14.4l-6,7.2l-0.6,0.8c-0.1,0.2-0.3,0.4-0.4,0.6\n                        c-0.3,0.4-0.5,0.8-0.7,1.2c-0.2,0.4-0.4,0.8-0.5,1.2c-0.1,0.2-0.1,0.4-0.2,0.6c0,0.2,0,0.1,0,0.2v0.1v0.1l-0.1,0.5v0.1\n                        c0,0,0,0.1,0,0s0-0.2,0-0.2l-0.1,1.4c0-0.1,0.1-0.2,0.1-0.3c0-0.1,0-0.3,0-0.2v0.6c0,0.4,0,0.9,0,1.4v2.9v5.8l0.1,11.6l0.1,23.3\n                        l0.2,46.5v93l-0.1,46.5v23.3v5.8l0.1,2.1c0.1,0.7,0.2,1.4,0.3,2.1c0.6,2.8,1.8,5.4,3.5,7.7s3.9,4.2,6.4,5.6\n                        c2.5,1.4,5.3,2.2,8.1,2.4l1.1,0.1h0.5h0.7h2.9H69h11.6l46.5,0.1l372.1,0.8l372.1,1.1l46.5,0.1H941c6.3-0.1,12.5-3,16.6-7.9\n                        c2.1-2.4,3.5-5.3,4.4-8.3c0.2-0.8,0.4-1.5,0.5-2.3s0.3-1.6,0.3-2.4l0.1-1.2c0-0.4,0-0.9,0-1.4v-2.9V681v-46.5V588\n                        c0-7.8-0.1-15.5-0.2-23.3c-0.1-7.8-0.2-15.5-0.4-23.3C961.6,510.6,960.7,479.6,960.8,448.6z\"/>\n                </g>\n                <g>\n                    <path className=\"st1-empty-folder\" d=\"M952.8,686.4l-120.7-220l-9.8-17.9c-2.7-4.8-7.7-7.8-13.2-7.8H190.9c-5.5,0-10.6,3-13.2,7.8l-9.8,17.9\n                        L50,681.3\"/>\n                    <path className=\"st2-empty-folder\" d=\"M951.1,687.4L915,622.6l-36-64.9l-35.8-65l-17.9-32.5l-4.5-8.1l-1.1-2c-0.3-0.6-0.6-1.1-1-1.6\n                        c-0.8-1-1.7-1.8-2.7-2.6c-2-1.4-4.5-2.2-7-2.2h-9.3l-296.8,0.2l-296.8-0.2h-9.3h-4.6H191h-0.9c-0.6,0.1-1.2,0.1-1.8,0.3\n                        c-2.4,0.5-4.6,1.8-6.3,3.7c-0.4,0.5-0.8,1-1.1,1.5c-0.2,0.3-0.3,0.5-0.5,0.8l-0.6,1l-2.2,4.1l-17.9,32.5l-35.8,65l-36,64.9\n                        l-36.1,64.8l-3.5-1.9L83.5,615l35.4-65.2l35.6-65.1l17.8-32.6l2.2-4.1l0.6-1c0.2-0.4,0.5-0.8,0.7-1.2c0.5-0.8,1.1-1.5,1.7-2.2\n                        c2.5-2.8,5.8-4.7,9.5-5.6c0.9-0.2,1.8-0.3,2.8-0.4h1.4h1.2h4.6h9.3l296.8-0.2l296.8,0.2h9.3c3.7,0,7.4,1.2,10.5,3.3\n                        c1.5,1.1,2.9,2.4,4,3.8c0.6,0.7,1.1,1.5,1.5,2.3l1.1,2l4.5,8.1l17.8,32.6l35.6,65.1l35.4,65.2l35.3,65.3L951.1,687.4z\"/>\n                </g>\n                <path className=\"st3-empty-folder\" d=\"M967.9,448.6v260c0,15.1-12.2,27.3-27.3,27.3H59.4c-15.1,0-27.3-12.2-27.3-27.3v-260c0,8.7,6.8,16.9,16.8,16.9\n                    h111.4c12.9,0,24.4,8.3,28.3,20.6l17.4,53.8c9.6,29.6,37.2,49.7,68.4,49.7h451c31.2,0,58.8-20.1,68.4-49.7l17.4-53.8\n                    c4-12.3,15.4-20.6,28.3-20.6H951C961.1,465.5,967.9,457.3,967.9,448.6z\"/>\n            </g>\n        </svg>\n    );\n};\n\nexport default EmptyFolder;","import React, {useState, useEffect, useContext} from \"react\";\nimport {Link} from 'react-router-dom';\nimport queryString from 'query-string';\n\n\nimport {projectsDao} from 'dao/projects.dao';\nimport LoadIcon from 'components/svg/loadIcon';\nimport ProjectForm from 'components/forms/projectForm';\nimport Pagination from 'components/modules/pagination';\nimport {join} from 'utils/index';\nimport Cover from 'components/modules/cover';\nimport SideOptions from 'components/modules/sideOptions';\n\nimport {AppContext} from \"components/providers/appProvider\";\nimport EmptyFolder from \"components/svg/emptyFolder\";\n\n/**\n *this component will show a projects list page\n */\n\nconst ProjectsList = function (props) {\n\n\n    //fetch data\n    const [projectsList, setProjectsList] = useState([]);\n\n    //bool to show the pagination list\n    const [totalResults, setTotalResults] = useState(0);\n\n    //bool to control the visualization of page\n    const [display, setDisplay] = useState(false);\n\n    //bool to control the visualization of input form\n    const [toggleform, setToggleForm] = useState(false);\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //set query params from url\n    const queryData = createQueryData(props.location.search);\n\n\n    //set title when component mounts\n    useEffect(() => {\n        appConsumer.setTitle(<div className=\"nav-elements\"> <h2 className=\"static-title\">PROJECTS</h2> </div>);\n        //I remove any old project name that was previously saved\n        appConsumer.setProjectName(\"\");\n    },[]); //run on component mount\n\n    useEffect(() => {\n\n        //flag that represents the state of component\n        let mounted = true;\n\n        //a wrapper function ask by react hook\n        const fetchData = async () => {\n\n            //hide the page\n            setDisplay(false);\n\n            //call the dao\n            const res = await projectsDao.getProjectsList({orderBy: \"date_last_modified\", ...queryData});\n\n            //error checking\n            //if the component is still mounted and  is 404 error\n            if (mounted && res && res.message === \"Not Found\") {\n                setProjectsList([]);\n                setTotalResults(0);\n                //show the page\n                setDisplay(true);\n            }\n            //if the component is still mounted and  there are some other errors\n            else if (mounted && res && res.message) {\n                //pass error object to global context\n                appConsumer.setError(res);\n            }\n            //if the component is still mounted and  res isn't null\n            else if (mounted && res) {\n                //update state\n\n                //I put even first and then odd ones so I can display 2 columns with left-right flow \n                var even_projs = [];\n                even_projs = res.results.filter(function(element, index){ if( index % 2 ) return element;});\n                var odd_projs = [];\n                odd_projs = res.results.filter(function(element, index){ if( !(index % 2) ) return element;});\n\n                setProjectsList(odd_projs.concat(even_projs));\n                setTotalResults(res.totalResults);\n                //show the page\n                setDisplay(true);\n            }\n        };\n\n        fetchData();\n\n        //when the component will unmount\n        return () => {\n            //set flag as unmounted\n            mounted = false;\n        };\n    }, [queryData.start, queryData.count]); //re-execute when these variables change\n\n\n    //handle to delete project\n    async function handleDelete(id){\n\n        console.log(\"deleting \" + id);\n        //call the dao\n        let res = await projectsDao.deleteProject(id);\n        //error checking\n        //if is other error\n        if (res && res.message) {\n            //pass error object to global context\n            appConsumer.setError(res);  \n        }\n        //if res isn't null\n        else if (res && res !== null) {\n            //create a new array without the project deleted\n            let newProjectsList = projectsList.filter((project)=>project.id !== id);\n            //update project list state\n            setProjectsList(newProjectsList);\n\n            appConsumer.setNotificationMessage(\"Successfully deleted\");\n        }\n    }\n\n\n\n    let output;\n    //if the page is loading\n    if (display === false) {\n        //print svg image\n        output = <LoadIcon/>;\n    }\n\n    else {\n\n        output = (\n            <div>\n                <Cover cls={toggleform ? \"full-screen\" : \"\"} handler={setToggleForm}/>\n                {/*print list of projects*/}\n                <PrintList projectsList={projectsList} path={props.match.url} handleDelete={handleDelete}/>\n                {/*set listId and continues value*/}\n                <Pagination start={queryData.start} count={queryData.count} totalResults={totalResults} path={props.match.url}/>\n\n                {/*print the input form to create/update the projects*/}\n                <ProjectForm visibility={toggleform} setVisibility={setToggleForm} history={props.history}/>\n                {/*button to show input form*/}\n                <button className=\"bottom-left-btn add-project-btn\" type=\"button\" value=\"toggle-insert-form\" \n                onClick={(e) => {\n                    setToggleForm(!toggleform);\n                }}>\n                    <div className=\"btn-title\">Add Project</div><div className=\"btn-icon\"> </div>\n                </button>\n            </div>\n        );\n\n    }\n\n    return output;\n\n\n};\n\n\n/**\n *  internal component only to print the list\n * @param projectsList projects list data\n * @param path current page url\n * @param handleDelete function to delete the project\n * */\nconst PrintList = function ({projectsList, path, handleDelete}) {\n\n    let sideOptions= [\"delete\"];\n\n    let maps;\n    //if list is empty, print a notice message\n    if (projectsList.length === 0) {\n        maps = (\n            <div className=\"empty-folder-wrapper\"> <EmptyFolder/> <p className=\"empty-folder-description\"> You don't have any projects yet </p></div>\n        );\n    }\n    //if list isn't empty, print list of projects\n    else {\n        maps = (projectsList.map((element, index) =>\n                <div key={element.id} className=\"light-modal project-card\">\n                    <SideOptions options={sideOptions} handler={handleDelete} target={element.id} cls=\"card-options project-card-options\"/>\n                    <Link to={join(path, \"/\" + element.id)}>\n                        <h3>{element.data.name}</h3>\n                        <p className=\"description\">{element.data.description}</p>\n                        <div className=\"project-dates\">\n                            <p>{/*created on <i>{element.date_created.slice(0, 10)}</i>*/}</p>\n                            <p>last modified on <i>{element.date_last_modified.slice(0, 10)}</i></p> \n                        </div>\n                    </Link>\n                </div>\n        ));\n    }\n\n    let output =  (\n        <div className={(projectsList.length === 0) ? \"project-cards-holder-empty\" : \"project-cards-holder\"}>\n            {maps}\n        </div>\n    );\n\n    return output;\n\n};\n\n/**\n * internal function to prepare a object of queryData\n * @param query\n * @return object of queryData for the fetch\n */\nfunction createQueryData(query){\n\n    //set query params from queryString of url\n    let params = queryString.parse( query);\n    let count = params.count || 10;\n    let start = params.start || 0;\n\n    //if \"before\" is defined by query then insert it in object, else insert \"after\" in object\n    let queryData = {start, count};\n    return queryData;\n\n}\n\n\n\n\n\nexport default ProjectsList;","import http from 'utils/conn'\nimport config from 'config/index'\n\n/**\n * dao to search local papers\n * @param queryData\n * @return {array[objects]}\n */\nasync function search(queryData){\n    let url = config.home+config.search;\n\n        const res = await http.get(url, queryData);\n        return res;\n\n}\n\n/**\n * get a specific paper\n */\nasync function selectById(id){\n    let url = config.home + config.papers + \"/\" + id;\n\n    const res = await http.get(url);\n    return res;\n}\n\n/**\n * dao to search similar papers\n * @param bodyData\n * @return {array[objects]}\n */\nasync function searchSimilar(bodyData){\n    let url = config.home+config.search_similar;\n\n    console.log(bodyData);\n\n    const res = await http.post(url, bodyData);\n    \n    \n    return res;\n\n}\n\nconst paperDao = {\n    search,\n    selectById,\n    searchSimilar,\n    \"abortRequest\" : http.abortRequest\n}\n\n\n\nexport {paperDao};","import http from 'utils/conn'\nimport config from 'config/index'\n\n/**\n * dao to get a list of paper associated with a project\n * @param queryData\n * @return {array[objects]}\n */\nasync function getPapersList(queryData) {\n    let url = config.home + config.papers\n    const res = await http.get(url, queryData);\n    return res;\n\n}\n\n/**\n * dao to get a paper\n * @param paper_id\n * @return {Object} paper requested\n */\nasync function getPaper(paper_id) {\n    let url = config.home + config.papers + \"/\" + paper_id;\n    return await http.get(url);\n}\n\n/**\n * dao to post a new paper\n * @param bodyData\n * @return {Object} project created\n */\nasync function postPaperIntoProject(bodyData) {\n    let url = config.home + config.papers;\n    return await http.post(url, bodyData);\n}\n\n/**\n * dao to post a new custom paper\n * @param bodyData\n * @return {Object} project created\n */\nasync function postCustomPaperIntoProject(bodyData) {\n    let url = config.home + config.customPapers;\n    return await http.post(url, bodyData);\n}\n\n\n/**\n * dao to put a old paper\n * @param paper_id\n * @param bodyData\n * @return {String} empty string\n */\nasync function putPaper(paper_id, bodyData) {\n    let url = config.home + config.papers + \"/\" + paper_id;\n    return await http.put(url, bodyData);\n}\n\n/**\n * dao to delete a paper\n * @param paper_id\n * @param bodyData\n * @return {String} empty string\n */\nasync function deletePaper(paper_id) {\n    let url = config.home + config.papers + \"/\" + paper_id;\n    return await http.delete(url);\n}\n\n\nconst projectPapersDao = {\n    getPapersList,\n    getPaper,\n    postPaperIntoProject,\n    postCustomPaperIntoProject,\n    putPaper,\n    deletePaper,\n    \"abortRequest\": http.abortRequest\n}\n\n\nexport {projectPapersDao};","import React from \"react\";\n\n/**\n * component svg close-btn\n */\nconst SelectTick = function (props) {\n\n    return (\n        <svg id=\"select-tick\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 1000 1000\">\n            <polyline className=\"st-tick\" points=\"918,192.3 389.3,807.7 82,450 \">\n                <animate attributeName=\"points\" dur=\"0.2s\" repeatCount=\"1\" fill=\"freeze\"\n                    from=\"500,600 400,700 200,750\"\n                    to=\"918,192.3 389.3,807.7 82,450 \"\n                />\n            </polyline>\n        </svg>\n    );\n};\n\nexport default SelectTick;\n","import React, {useState, useEffect} from \"react\";\n\nimport SelectTick from 'components/svg/selectTick';\n\nconst CheckBox = function ({ val, name, label, isChecked, handler }) {\n\n    let output = \"\";\n    const [tick, setTick] = useState(<></>);\n    useEffect(() => {\n        if(isChecked){\n            setTick(<SelectTick/>);\n        }else{\n            setTick(<></>)\n        }\n    }, [isChecked])\n\n    \n    output = (\n        <label className=\"checkbox-container\">\n            <input type=\"checkbox\" value={val} name={name} checked={isChecked} onChange={(e) => {console.log(\"clickekdkdkdkd\"); handler(e)}} />\n            <span className=\"checkmark\">{tick}</span>\n            <span className=\"name\">{label}</span>\n        </label>\n    );\n    return output;\n}\n\nexport default CheckBox;","import React from \"react\";\n\n/**\n * component svg close-btn\n */\nconst RadioTick = function (props) {\n\n    return (\n        <svg id=\"radio-tick\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t        viewBox=\"0 0 1000 1000\">\n            <circle className=\"st-circle\" cx=\"500\" cy=\"500\" r=\"375\">\n                <animate attributeName=\"r\" dur=\"0.2s\" repeatCount=\"1\" fill=\"freeze\"\n                                from=\"0\"\n                                to=\"375\"\n                />\n            </circle>\n        </svg>\n    );\n};\n\nexport default RadioTick;\n","import React, {useState, useEffect} from \"react\";\n\nimport RadioTick from 'components/svg/radioTick';\n\nconst RadioBox = function ({ label, name, val, isChecked , handler}) {\n\n    let output = \"\";\n    const [tick, setTick] = useState(<></>);\n    useEffect(() => {\n        if(isChecked){\n            setTick(<RadioTick/>);\n        }else{\n            setTick(<></>)\n        }\n    }, [isChecked])\n\n    output= (\n        <label className=\"radiobox-container\">\n        <input type=\"radio\" value={val} name={name} checked={isChecked} onChange={handler}/>\n        <span className=\"radiomark\">{tick}</span>\n        <span>{label}</span>\n        </label>\n    );\n    return output;\n}\n\nexport default RadioBox;","import React from \"react\";\n\n/**\n * component svg \n */\nconst NoPapers = function (props) {\n\n    return (\n        <svg version=\"1.1\" id=\"no-papers\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t    viewBox=\"0 0 1000 1000\">\n            <line className=\"st0-no-papers\" x1=\"790\" y1=\"223.1\" x2=\"790\" y2=\"255.6\"/>\n            <line className=\"st1-no-papers\" x1=\"790\" y1=\"357.8\" x2=\"790\" y2=\"801.3\"/>\n            <polyline className=\"st0-no-papers\" points=\"790,852.4 790,884.9 757.5,884.9 \t\t\"/>\n            <line className=\"st2-no-papers\" x1=\"635.6\" y1=\"884.9\" x2=\"303.4\" y2=\"884.9\"/>\n            <polyline className=\"st0-no-papers\" points=\"242.5,884.9 210,884.9 210,852.4 \t\t\"/>\n            <line className=\"st3-no-papers\" x1=\"210\" y1=\"757.8\" x2=\"210\" y2=\"194.9\"/>\n            <polyline className=\"st0-no-papers\" points=\"210,147.6 210,115.1 242.5,115.1 \t\t\"/>\n            <polyline className=\"st4-no-papers\" points=\"338.4,115.1 682,115.1 733.1,166.2 \t\t\"/>\n            <polyline className=\"st0-no-papers\" points=\"767,200.1 790,223.1 757.5,223.1 \t\t\"/>\n            <polyline className=\"st0-no-papers\" points=\"714.5,223.1 682,223.1 682,190.6 \t\t\"/>\n            <line className=\"st0-no-papers\" x1=\"682\" y1=\"147.6\" x2=\"682\" y2=\"115.1\"/>\n        </svg>\n    );\n};\n\nexport default NoPapers;","import React, {useContext, useState} from \"react\";\nimport ClampLines from 'react-clamp-lines';\nimport {Link, withRouter} from 'react-router-dom';\n\nimport CheckBox from \"components/forms/checkbox\";\nimport SideOptions from 'components/modules/sideOptions';\nimport {projectPapersDao} from 'dao/projectPapers.dao';\nimport {AppContext} from 'components/providers/appProvider'\n\nimport NoPapers from \"components/svg/noPapers\";\n\nimport {join} from 'utils/index';\n/**\n * prints the papers list of a local search on the fake database\n */\n/*\nconst PrintLocalSearchList = function ({papersList, handlePaperSelection}) {\n\n    let output = papersList.map((element, index) =>\n        <div key={element.id} className=\"paper-card\">\n            <CheckBox name={\"\"} label={\"\"} val={element.eid}  handler={handlePaperSelection}/>\n            <Link to={\"#\"}><h3>{element.data && element.data.title}</h3></Link>\n            <ClampLines\n                text={element.data && element.data.abstract}\n                lines={4}\n                ellipsis=\"...\"\n                moreText=\"Expand\"\n                lessText=\"Collapse\"\n                className=\"paragraph\"\n                moreText=\"more\"\n                lessText=\"less\"\n            />\n        </div>\n    );\n    return output;\n\n};\n*/\n\n/**\n * prints the results of a search on scopus\n */\nconst PrintScoupusSearchList_w = function ({papersList, handlePaperSelection, selectedEidList, history, match, setSimilarPaperData}) {\n\n    //side options\n    let sideOptions= [\"search similar\"];\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //handle for the side options\n    async function handleSideOptions(id, name, data){\n        if(name === \"delete\"){\n            console.log(\"deleting \" + id);\n            //call the dao\n            let res = await projectPapersDao.deletePaper(id);\n            //error checking\n            //if is other error\n            if (res.message) {\n                //pass error object to global context\n                appConsumer.setError(res);\n            }\n            //if res isn't null\n            else if (res !== null) {\n\n                appConsumer.setNotificationMessage(\"Successfully deleted!\");\n\n            }\n        }else if(name === \"search similar\"){\n            console.log(\"here you want to search for a similar paper\");\n            console.log(data);\n\n            //I extract the path to check if I'm on /search or /searchsimilar\n            let path = (match.path[match.path.length - 1] === \"/\") ? match.path.substring(0, match.path.length - 1) : match.path;\n            let goSimilar = path;\n            if(path[path.length - 1] === \"h\"){\n                goSimilar = path + \"similar\";\n                //I set the paper in the storage before switching page\n                const storage = window.localStorage;\n                storage.setItem(\"similarPaperData\", JSON.stringify(data));\n                history.push(goSimilar);\n            }else{\n                setSimilarPaperData(data);\n            }\n\n        }\n    }\n\n    let output = papersList.map((element, index) =>\n        <div key={index} className=\"paper-card\">\n            <CheckBox name={element.title} label={\"\"} val={element.eid}  isChecked ={selectedEidList.includes(element.eid)} handler={handlePaperSelection}/>\n            <SideOptions options={sideOptions} handler={handleSideOptions} target={element.id} data={element} cls=\"card-options paper-card-options\"/>\n            <Link to={\"#\"}><h3>{element.title}</h3></Link>\n            <div className=\"extra-info\">\n                <p className=\"authors\">{element.authors}</p>\n                <p className=\"eid\">{element.eid}</p>\n                <p className=\"date\">{element.year}</p>\n            </div>\n            <ClampLines\n                text={element.abstract}\n                lines={4}\n                ellipsis=\"...\"\n                className=\"paragraph\"\n                moreText=\"more\"\n                lessText=\"less\"\n            />\n        </div>\n    );\n    return output;\n\n};\n\n/**\n * prints a list of papers and handles their removal from the project\n */\n\nconst PrintPapersList_w = function ({papersList, location, history}) {\n\n    const [localPaperList, setLocalPaperList] = useState(papersList);\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //side options\n    let sideOptions= [\"delete\", \"search similar\"];\n\n    //handle for the side options\n    async function handleSideOptions(id, name, data){\n        if(name === \"delete\"){\n            console.log(\"deleting \" + id);\n            //call the dao\n            let res = await projectPapersDao.deletePaper(id);\n            //error checking\n            //if is other error\n            if (res.message) {\n                //pass error object to global context\n                appConsumer.setError(res);\n            }\n            //if res isn't null\n            else if (res !== null) {\n\n                appConsumer.setNotificationMessage(\"Successfully deleted\");\n                let newPapersList = localPaperList.filter((paper)=>paper.id !== id);\n                setLocalPaperList(newPapersList);\n            }\n        }else if(name === \"search similar\"){\n            console.log(\"here you want to search for a similar paper\");\n            console.log(location);\n\n            const storage = window.localStorage;\n            storage.setItem(\"similarPaperData\", JSON.stringify(data));\n            history.push(join(location.pathname, \"/searchsimilar\"));\n        }\n    }\n\n    let output;\n    //if list is empty, print a notice message\n    if (localPaperList.length === 0) {\n        output = (\n            <div className=\"empty-project-wrapper\"> <NoPapers/> <p className=\"empty-project-description\"> There are no papers here, you can add new ones by searching </p></div>\n        );\n    }\n    //if list isn't empty, print list of papers\n    else {\n        output = (\n            localPaperList.map((element) =>\n                <div key={element.id} className=\"paper-card\">\n                    <SideOptions options={sideOptions} handler={handleSideOptions} target={element.id} data={element.data} cls=\"card-options paper-card-options\"/>\n                    <Link to={\"#\"}>\n                        <h3>{element.data.title}</h3>\n                    </Link>\n                    <div className=\"extra-info\">\n                        <p className=\"authors\">{element.data.authors}</p>\n                        <p className=\"eid\">{element.data.eid || element.data.doi}</p>\n                        <p className=\"date\">{element.data.year}</p>\n                    </div>\n                    <ClampLines\n                        text={element.data.abstract}\n                        lines={4}\n                        ellipsis=\"...\"\n                        className=\"paragraph\"\n                        moreText=\"more\"\n                        lessText=\"less\"\n                    />\n                </div>\n            )\n        );\n    }\n    return output;\n\n\n};\n\nexport const PrintPapersList = PrintPapersList_w;\nexport const PrintScoupusSearchList = withRouter(PrintScoupusSearchList_w);","import React from \"react\";\n\n/**\n * component svg select arrow\n * 'focused' is a flag used for displaying a different shape\n */\nconst SelectArrow= function ({focused}) {\n    var from=\"\";\n    var to=\"\";\n    //I check if the upper component is focused and then I animate\n    if(focused){\n        from=\"90,295.5 500,704.5 910,295.5 \";\n        to=\"90,704.5 500,295.5 910,704.5 \";;\n    }else{\n        from=\"90,704.5 500,295.5 910,704.5 \";;\n        to=\"90,295.5 500,704.5 910,295.5 \";\n    }\n    return (\n    <svg version=\"1.1\" id=\"arrow-select\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n        viewBox=\"0 0 1000 1000\">\n            <polyline className=\"st-arrow-select\" points={from}>\n            <animate attributeType=\"XML\" id=\"ani-select-arrow\" attributeName=\"points\" from={from} to={to} begin=\"0s\" dur=\"0.2s\" repeatCount=\"1\" fill=\"freeze\" />\n            </polyline>\n        </svg>\n    );\n};\n\nexport default SelectArrow;\n\n","import React, {useState} from \"react\";\nimport SelectArrow from 'components/svg/selectArrow';\n\n\n/**\n * this component acts as an html <select>\n * it needs an array of options, the index of the selected one and the hadler to change the status of the upper component calling this one\n */\nconst Select = ({ options, selected, handler }) => {\n    \n    //this is useful for the animation\n    const [focused, setFocused] = useState(false);\n\n\n\n    function handleFocus(e){\n        //handle arrow animation and focus of menu\n        document.getElementById(\"ani-select-arrow\").beginElement();//trigger svg animation\n        setFocused(!focused);\n    }\n\n    var output = (\n        <div className=\"custom-select\">\n            <div className=\"selected\" tabIndex={-2} onBlur={handleFocus} onFocus={handleFocus}>{options[selected].label} <div className=\"arrow\"><SelectArrow focused={focused}/></div></div>\n            <div className=\"options-holder\" style={{fontSize: (!focused) ? '0px' : '15px', borderBottom: (!focused) ? \"0px solid #d7d7d7\" : \"1px solid #d7d7d7\", borderLeft: (!focused) ? \"0px solid #d7d7d7\" : \"1px solid #d7d7d7\", borderRight: (!focused) ? \"0px solid #d7d7d7\" : \"1px solid #d7d7d7\", borderTop:\"none\"}}>\n                {options.map((element, index) => (\n                <div key={index} data-value={index} className=\"option\" style={{padding: (!focused) ? '0px' : '2px' }} onMouseDown={handler}>\n                    {element.label}\n                </div>))}\n            </div>\n        </div>\n    );\n    return output;\n}\n\nexport default Select;","import React from \"react\";\n\n/**\n * component svg menu button\n */\nconst SearchButton = function (props) {\n\n    return (\n        <svg id=\"search-icon\" xmlns=\"http://www.w3.org/2000/svg\"\n             xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n             viewBox=\"0 0 1000 1000\">\n            <path className=\"st0\" d=\"M626.9,644.3c-73.5,0-142.6-28.6-194.6-80.6s-80.6-121.1-80.6-194.6s28.6-142.6,80.6-194.6\n                c52-52,121.1-80.6,194.6-80.6c73.5,0,142.6,28.6,194.6,80.6c52,52,80.6,121.1,80.6,194.6s-28.6,142.6-80.6,194.6\n                S700.4,644.3,626.9,644.3z\"/>\n            <line className=\"st1\" x1=\"145.2\" y1=\"850.8\" x2=\"431.7\" y2=\"564.3\"/>\n        </svg>\n    );\n};\n\nexport default SearchButton;\n","import React from \"react\";\n\n/**\n * component svg menu button\n */\nconst SearchSimilarButton = function (props) {\n\n    return (\n        <svg id=\"similar-paper-search-icon\" xmlns=\"http://www.w3.org/2000/svg\" \n            xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n             viewBox=\"0 0 1000 1000\">\n            <polyline className=\"st0-sps\" points=\"795.8,214 734.8,214 736.8,146 \t\t\"/>\n            <polyline className=\"st0-sps\" points=\"842.8,214 842.8,875.8 262.8,875.8 262.8,106 734.8,106 \t\t\"/>\n            <line className=\"st0-sps\" x1=\"842.8\" y1=\"214\" x2=\"734.8\" y2=\"106\"/>\n            <line className=\"st1-sps\" x1=\"350.8\" y1=\"198.9\" x2=\"644.8\" y2=\"198.9\"/>\n            <line className=\"st2-sps\" x1=\"346.8\" y1=\"385.4\" x2=\"752.8\" y2=\"385.4\"/>\n            <line className=\"st2-sps\" x1=\"544\" y1=\"485.9\" x2=\"752.8\" y2=\"485.9\"/>\n            <line className=\"st3-sps\" x1=\"346.8\" y1=\"485.9\" x2=\"544\" y2=\"485.9\"/>\n            <line className=\"st2-sps\" x1=\"575.9\" y1=\"586.4\" x2=\"752.8\" y2=\"586.4\"/>\n            <line className=\"st3-sps\" x1=\"346.8\" y1=\"586.4\" x2=\"575.9\" y2=\"586.4\"/>\n            <line className=\"st2-sps\" x1=\"555.5\" y1=\"686.9\" x2=\"752.8\" y2=\"686.9\"/>\n            <line className=\"st3-sps\" x1=\"346.8\" y1=\"686.9\" x2=\"555.5\" y2=\"686.9\"/>\n            <circle className=\"st4-sps\" cx=\"410.8\" cy=\"594.3\" r=\"171.7\"/>\n            <line className=\"st4-sps\" x1=\"111.2\" y1=\"894\" x2=\"289.4\" y2=\"715.7\"/>\n        </svg>\n        \n    );\n};\n\nexport default SearchSimilarButton;\n","import React, {useState, useEffect} from \"react\";\n\n/**\n * component svg order arrow button\n@param {string} up [ASC or DESC]\n */\nconst OrderArrow= function ({display, up}) {\n\n    let output = \"\";\n\n    let from=\"\";\n    let to=\"\";\n\n    //I check where the arrow should point to(up or down) checking the 'up' flag passed by the parent component\n    if(up ===\"ASC\"){\n        from=\"371.7,293 500,165 628.3,293 \";\n        to=\"371.7,491.9 500,619.9 628.3,491.9 \";\n    }else{\n        from=\"371.7,491.9 500,619.9 628.3,491.9 \";\n        to=\"371.7,293 500,165 628.3,293 \";\n    }\n\n    const [destination, setDestination] = useState(to);\n\n    useEffect(() => {\n      setDestination(to);\n    }, [to])\n\n    if(display){\n        output = (\n            <svg version=\"1.1\" id=\"order-arrow\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 1000 1000\" >\n                <polyline className=\"st-order-arrow-head\" points=\"371.7,293 500,165 628.3,293 \" transform=\"matrix(1.5303008,0,0,1.5303008,-279.47582,-105.57059)\">\n                    <animate attributeType=\"XML\" id=\"ani-order-arrow\" attributeName=\"points\" from={from} to={destination} begin=\"0s\" dur=\"0.2s\" repeatCount=\"1\" fill=\"freeze\" />\n                </polyline>\n                <line className=\"st-order-arrow\" x1=\"485.67453\" y1=\"145.09268\" x2=\"485.67453\" y2=\"827.75989\"/>\n            </svg>\n        );\n    }\n    \n    return output;\n};\n\nexport default OrderArrow;","import React from \"react\";\n\n/**\n * component svg close-btn\n */\nconst RemoveButton = function (props) {\n\n    return (\n        <svg id=\"remove-button\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 1000 1000\">\n        <line className=\"rb\" x1=\"134\" y1=\"866\" x2=\"866\" y2=\"134\"/>\n        <line className=\"rb\" x1=\"134\" y1=\"134\" x2=\"866\" y2=\"866\"/>\n        </svg>\n    );\n};\n\nexport default RemoveButton;\n","import React from \"react\";\n\n/**\n * component svg \n */\nconst NoSearchResults = function (props) {\n\n    return (\n        <svg version=\"1.1\" id=\"no-results\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 1000 1000\">\n            <circle className=\"st0-no-results\" cx=\"585.3\" cy=\"419.7\" r=\"271.7\"/>\n            <line className=\"st3-no-results\" x1=\"111.2\" y1=\"894\" x2=\"393.2\" y2=\"611.8\"/>\n            <path className=\"st1-no-results\" d=\"M460.6,533c83.1-20,166.2-20,249.4,0\"/>\n            <line className=\"st2-no-results\" x1=\"683.8\" y1=\"329\" x2=\"683.8\" y2=\"337\"/>\n            <line className=\"st2-no-results\" x1=\"512.8\" y1=\"329\" x2=\"512.8\" y2=\"337\"/>\n        </svg>\n    );\n};\n\nexport default NoSearchResults;","import React, {useState, useEffect, useContext} from \"react\";\nimport {Link} from 'react-router-dom'\nimport queryString from \"query-string\";\n\n\nimport {paperDao} from 'dao/paper.dao';\nimport {projectPapersDao} from 'dao/projectPapers.dao'\n\nimport CheckBox from \"components/forms/checkbox\";\nimport RadioBox from \"components/forms/radiobox\";\nimport {PrintScoupusSearchList} from 'components/papers/printPapersList';\nimport Select from 'components/forms/select';\nimport Pagination from \"components/modules/pagination\";\n\nimport LoadIcon from 'components/svg/loadIcon';\nimport SearchButton from 'components/svg/searchButton';\nimport SearchSimilarButton from 'components/svg/searchSimilarButton';\nimport OrderArrow from 'components/svg/orderArrow';\nimport RemoveButton from 'components/svg/removeButton';\nimport NoSearchResults from \"components/svg/noSearchResults\";\n\nimport {AppContext} from 'components/providers/appProvider'\n\nimport {createQueryStringFromObject, getIndexOfObjectArrayByKeyAndValue, arrayOfObjectsContains} from 'utils/index';\n\n\n// Load the lodash build\nconst _ = require('lodash');\n\n//order options\nconst orderByOptions = [\n    {label: 'Title', value: 'title'},\n    {label: 'Date', value: 'date'}\n];\n\n//search by  options\nconst searchByOptions = [\n    {label: 'all', value: 'all'},\n    {label: 'author', value: 'author'},\n    {label: 'content', value: 'content'},\n    {label: 'adv. query', value: 'advanced'}\n];\n\n//year options\nconst startYear = 2017;\nconst endYear = new Date().getFullYear() + 2;\n//create a int array from startYear to endYear, then convert it to string array, after this concatenate with \"all\"\nconst yearOptions = [\"all\", ...(_.range(startYear, endYear).map(String))];\n\n\n/**\n * this is component form to search for the paper in project page\n * */\n\nconst SearchForm = function ({project_id, location, match, history}) {\n\n\n    //fetch data\n    const [papersList, setPapersList] = useState([]);\n\n    //bool to control the visualization of page\n    const [display, setDisplay] = useState(true);\n\n    //bool to show the pagination list\n    const [totalResults, setTotalResults] = useState(0);\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n\n    //set query params from url\n    let queryData = createQueryData(location.search);\n    //console.log(queryData);\n\n    //get the localStorage object\n    const storage = window.localStorage;\n    let selectedPapersListFromStorage;\n    if (!window.localStorage) {\n        console.log(\"the browser must be support localStorage\");\n    }\n    //if exists already this attribute in the local storage\n    if (storage.getItem(\"selectedPapersList\")) {\n        selectedPapersListFromStorage = JSON.parse(storage.getItem(\"selectedPapersList\"));\n    }\n    //if not exists, we create a new array\n    else {\n        selectedPapersListFromStorage = [];\n    }\n\n    // list of selected papers\n    const [selectedPapersList, setSelectedPapersList] = useState(selectedPapersListFromStorage);\n\n    //state for search form\n    const [keywords, setKeyWords] = useState(\"_\");\n    const [source, setSource] = useState({\"scopus\": true, \"googleScholar\": false, \"arXiv\": false});\n    const [searchBy, setSearchBy] = useState(\"all\");\n    const [year, setYear] = useState(\"all\");\n\n    //state for sorting arrow animation\n    const [up, setUp] = useState(queryData.sort);\n\n\n    useEffect(() => {\n        //flag that represents the state of component\n        let mounted = true;\n\n        //if the sorting parameter changes I update the status and trigger the SVG animation\n        if (up !== queryData.sort) {\n            setUp(queryData.sort);\n            if(document.getElementById(\"ani-order-arrow\")){\n                document.getElementById(\"ani-order-arrow\").beginElement();\n            }\n        }\n\n        //a wrapper function ask by react hook\n        const fetchData = async () => {\n\n            //update the values of state from url\n            setKeyWords(queryData.query);\n            setSource({\"scopus\": queryData.scopus, \"googleScholar\": queryData.googleScholar, \"arXiv\": queryData.arXiv});\n            setSearchBy(queryData.searchBy);\n            setYear(queryData.year);\n\n            //if there is queryString from URL\n            if (queryData.query !== \"\") {\n\n                setDisplay(false);\n\n                //always call the dao to search on scopus\n                let res = await paperDao.search(queryData);\n\n                //error checking\n                //if the component is still mounted and  is 404 error\n                if (mounted && res && res.message === \"Not Found\") {\n                    setPapersList([]);\n                    setTotalResults(0);\n                    //show the page\n                    setDisplay(true);\n                }\n                //if the component is still mounted and  there are some other errors\n                else if (mounted && res && res.message) {\n                    //pass error object to global context\n                    appConsumer.setError(res);\n                }\n                //if the component is still mounted and  res isn't null\n                else if (mounted && res) {\n                    //update state\n                    setPapersList(res.results);\n                    setTotalResults(res.totalResults);\n                    //show the page\n                    setDisplay(true);\n                }\n            }\n        };\n\n        fetchData();\n\n        //when the component will unmount\n        return () => {\n            //set flag as unmounted\n            mounted = false;\n        };\n\n    }, [project_id, queryData.query, queryData.orderBy, queryData.searchBy, queryData.sort, queryData.year, queryData.start, queryData.count, queryData.scopus, queryData.googleScholar, queryData.arXiv]);  //re-execute when these variables change\n\n\n    /*\n     START OF 'RESULT PAPERS HANDLING' ########################################################\n     */\n\n    //handler for sort selection\n    function handleSelection(e) {\n        //get index\n        let index = parseInt(e.target.getAttribute('data-value'));\n        //get value by index\n        queryData.orderBy = orderByOptions[index].value;\n        //update url\n        let queryString = createQueryStringFromObject(queryData);\n        history.push(queryString);\n\n    }\n\n    //handler for order selection(ASC|DESC)\n    function handelOrder(e) {\n\n        if (queryData.sort === \"ASC\") {\n            queryData.sort = \"DESC\";\n        }\n        else {\n            queryData.sort = \"ASC\";\n        }\n        //update url\n        let queryString = createQueryStringFromObject(queryData);\n        history.push(queryString);\n    }\n\n\n    /*function to insert and remove the paper id from selected list*/\n    function handlePaperSelection(event) {\n\n        let newList;\n        //get eid\n        let eid = event.target.value;\n        //get ttitle\n        let title = event.target.name;\n        //if id is not included in the list yet\n        if (getIndexOfObjectArrayByKeyAndValue(selectedPapersList, \"eid\", eid) === -1) {\n            //create a copy of array\n            newList = [...selectedPapersList];\n            //insert into array\n            newList.push({\"eid\": eid, \"title\": title});\n\n        }\n        //if id already exists in the list\n        else {\n            //remove the  target paper from array\n            newList = selectedPapersList.filter(function (element) {\n                return element.eid !== eid;\n            });\n        }\n\n        //update array\n        setSelectedPapersList(newList);\n        //update array in local storage\n        storage.setItem(\"selectedPapersList\", JSON.stringify(newList));\n    }\n\n    /*function to select all papers*/\n    function selectAllPapers(event) {\n\n        let newList;\n\n        //if not all papers are selected yet\n        if (!arrayOfObjectsContains(selectedPapersList, papersList, \"eid\")) {\n\n            //I get the list of the papers in the current page\n            let allPapersInPage = papersList.map((paper) => {\n                return {\"eid\": paper.eid, \"title\": paper.title}\n            });\n            //and merge them with the previously selected ones\n            let tmpList = [...allPapersInPage, ...selectedPapersList];\n            newList = _.uniqBy(tmpList, 'eid');\n\n        }\n        //if all papers are selected, we need to remove them\n        else {\n            //I get the list of the papers in the current page\n            let allPapersInPage = papersList.map((paper) => {\n                return {\"eid\": paper.eid, \"title\": paper.title}\n            });\n            //I filter the selectedPapersList by removing the papers that are in the current page\n            newList = selectedPapersList.filter(x => !allPapersInPage.some(paper => paper.eid === x.eid));\n        }\n\n        //update array\n        setSelectedPapersList(newList);\n        //update array in local storage\n        storage.setItem(\"selectedPapersList\", JSON.stringify(newList));\n    }\n\n\n    /*function to add the post in the project*/\n    async function handleAddPapers(event) {\n\n        event.preventDefault();\n\n        if (selectedPapersList.length === 0) {\n            appConsumer.setNotificationMessage(\"The list is empty!\");\n        }\n        else {\n\n            //create a eidList from the list of selected paper\n            let arrayEid = selectedPapersList.map(element => element.eid);\n            //call dao\n            let res = await projectPapersDao.postPaperIntoProject({\n                \"arrayEid\": arrayEid, \"project_id\": project_id\n            });\n            //if there is the error\n            if (res && res.message) {\n                //pass error object to global context\n                appConsumer.setError(res);\n                return null;\n            }\n\n            //empties the state\n            setSelectedPapersList([]);\n            //update the storage\n            storage.removeItem(\"selectedPapersList\");\n            appConsumer.setNotificationMessage(\"Insert completed\");\n        }\n\n    }\n\n    /*\n     END OF 'RESULT PAPERS HANDLING' ########################################################\n     */\n\n\n    /*function to send the query*/\n    async function handleSendSearch(event) {\n\n        event.preventDefault();\n\n        //if query input is empty\n        if (keywords === \"\") {\n            appConsumer.setNotificationMessage(\"Search string is empty\")\n        }\n        else {\n            //synchronize the query data from react state hooks\n            queryData.query = keywords;\n            queryData.scopus = source.scopus;\n            queryData.googleScholar = source.googleScholar;\n            queryData.arXiv = source.arXiv;\n            queryData.searchBy = searchBy;\n            queryData.year = year;\n\n            //send query url\n            let queryString = createQueryStringFromObject(queryData);\n            //launch to search\n            history.push(queryString);\n\n        }\n\n    }\n\n    /**\n     *handle to update hook state by input change\n     */\n    function handleOnInputChange(event) {\n\n        let newSource;\n\n        switch (event.target.name) {\n            case \"query\":\n                setKeyWords(event.target.value);\n                break;\n            case \"scopus\":\n                //copy the old source\n                newSource = {...source};\n                //switch between true and false\n                newSource.scopus = !source.scopus;\n                setSource(newSource);\n                break;\n\n            case \"googleScholar\":\n                //copy the old source\n                newSource = {...source};\n                //switch between true and false\n                newSource.googleScholar = !source.googleScholar;\n                setSource(newSource);\n                break;\n            case \"arXiv\":\n                //copy the old source\n                newSource = {...source};\n                //switch between true and false\n                newSource.arXiv = !source.arXiv;\n                setSource(newSource);\n                break;\n            case \"searchBy\":\n                setSearchBy(event.target.value);\n                break;\n            case \"year\":\n                setYear(event.target.value);\n                break;\n            default:\n                break;\n        }\n\n\n    }\n\n    /*\n     #######################################\n     need to  create a new child component for the part of <form>, when we have more information on search options\n     ######################################\n     */\n    let formPart = (\n        <>{}\n            <form className={(queryData.query === \"\") ? 'search-form' : 'search-form small'}\n                  onSubmit={handleSendSearch}>\n                {/*search form*/}\n                <div style={{position: 'relative'}}>\n                    <input\n                        type=\"text\"\n                        placeholder=\"search\"\n                        name=\"query\"\n                        value={keywords}\n                        onChange={handleOnInputChange}\n                    />\n                    <button className=\"go-search\" type=\"submit\" value=\"Submit\">\n                        <SearchButton/>\n                    </button>\n                    <Link to={\"/projects/\" + project_id + \"/searchsimilar\"}>\n                        <button className=\"go-similar\" type=\"button\">\n                            <SearchSimilarButton/>\n                        </button>\n                    </Link>\n                </div>\n\n                <div className=\"option-holder\">\n                    <label>Source:</label><br/>\n\n                    <div className=\"checkboxes-holder\">\n                        <CheckBox label=\"Scopus\" name=\"scopus\" val=\"\" isChecked={source.scopus}\n                                  handler={handleOnInputChange}/>\n                        <CheckBox label=\"Google Scholar\" name=\"googleScholar\" val=\"\" isChecked={source.googleScholar}\n                                  handler={handleOnInputChange}/>\n                        <CheckBox label=\"arXiv\" name=\"arXiv\" val=\"\" isChecked={source.arXiv}\n                                  handler={handleOnInputChange}/>\n                    </div>\n\n                    <label>Search by:</label><br/>\n\n                    <div className=\"checkboxes-holder\">\n                        <RadioBox label={searchByOptions[0].label} name=\"searchBy\" val={searchByOptions[0].value}\n                                  isChecked={searchBy === searchByOptions[0].value} handler={handleOnInputChange}/>\n                        <RadioBox label={searchByOptions[1].label} name=\"searchBy\" val={searchByOptions[1].value}\n                                  isChecked={searchBy === searchByOptions[1].value} handler={handleOnInputChange}/>\n                        <RadioBox label={searchByOptions[2].label} name=\"searchBy\" val={searchByOptions[2].value}\n                                  isChecked={searchBy === searchByOptions[2].value} handler={handleOnInputChange}/>\n                        <RadioBox label={searchByOptions[3].label} name=\"searchBy\" val={searchByOptions[3].value}\n                                  isChecked={searchBy === searchByOptions[3].value} handler={handleOnInputChange}/>\n                    </div>\n\n                    <label>Year:</label><br/>\n                    <div className=\"checkboxes-holder\">\n                        {\n                            yearOptions.map((singleYear, index) =>\n                                <RadioBox key={index} label={singleYear} name=\"year\" val={singleYear}\n                                          isChecked={year === singleYear} handler={handleOnInputChange}/>\n                            )\n                        }\n                    </div>\n                </div>\n\n            </form>\n        </>);\n\n\n    let resultPart = \"\";\n\n    //if is loading\n    if (display === false) {\n\n        resultPart = (\n            <div className=\"paper-card-holder\">\n                <div className=\"paper-card-holder-head\"\n                     style={{pointerEvents: \"none\"}}>{/* this way the user cannot sort while loading the results */}\n                    <div className=\"select-all\">\n                        <CheckBox label=\"Select All\" name=\"select_all\" val=\"\" isChecked={false}\n                                  handler={selectAllPapers}/>\n                    </div>\n                    <div className=\"order\">\n                        <label>sort by:</label>\n                        <Select options={orderByOptions}\n                                selected={getIndexOfObjectArrayByKeyAndValue(orderByOptions, \"value\", queryData.orderBy)}\n                                handler={handleSelection}/>\n                        <button type=\"button\" onClick={handelOrder}><OrderArrow display={true} up={(queryData.sort)}/>\n                        </button>\n                    </div>\n                </div>\n                <SelectedPapersListBox selectedPapersList={selectedPapersList}/>\n                <div className=\"search-loading-holder\">\n                    <LoadIcon class={\"small\"}/>\n                </div>\n            </div>);\n    }\n\n    //if the search results list is empty\n    else if (papersList.length === 0 && queryData.query !== \"\") {\n        //the class is used only to workaround a small bug that display not found just as the search start before the loading icon\n        resultPart = (\n            <div className=\"no-results\"> <NoSearchResults/> <p className=\"not-found-description\"> Nothing was found </p> </div>\n        );\n    }\n    else if (papersList.length > 0 && queryData.query !== \"\") {\n\n        //create a eidList from the list of selected paper\n        let arrayEid = selectedPapersList.map(element => element.eid);\n\n        resultPart = (\n            <div className=\"paper-card-holder\">\n                <div className=\"paper-card-holder-head\">\n                    <div className=\"select-all\">\n                        <CheckBox label=\"Select All\" name=\"select_all\" val=\"\"\n                                  isChecked={arrayOfObjectsContains(selectedPapersList, papersList, \"eid\")}\n                                  handler={selectAllPapers}/>\n                    </div>\n                    <div className=\"order\">\n                        <label>sort by:</label>\n                        <Select options={orderByOptions}\n                                selected={getIndexOfObjectArrayByKeyAndValue(orderByOptions, \"value\", queryData.orderBy)}\n                                handler={handleSelection}/>\n                        <button type=\"button\" onClick={handelOrder}><OrderArrow display={true} up={(queryData.sort)}/>\n                        </button>\n                    </div>\n                </div>\n                <SelectedPapersListBox selectedPapersList={selectedPapersList}\n                                       handlePaperSelection={handlePaperSelection}/>\n\n                <PrintScoupusSearchList papersList={papersList} handlePaperSelection={handlePaperSelection}\n                                        selectedEidList={arrayEid}/>\n                <Pagination start={queryData.start} count={queryData.count} totalResults={totalResults}\n                            path={match.url}/>\n            </div>\n        );\n    }\n\n\n    let output = (\n        <>\n            {formPart}\n            <form className=\"search-results\" onSubmit={handleAddPapers}>\n                {resultPart}\n            </form>\n        </>\n    );\n\n    return output;\n};\n\n\n/**\n * internal component to print the box of list of selected paper\n */\nconst SelectedPapersListBox = function ({selectedPapersList, handlePaperSelection}) {\n\n    let output = \"\";\n    output = (\n        <div className=\"selected-papers-list\" style={{\n            opacity: (selectedPapersList.length > 0) ? \"1.0\" : \"0.0\",\n            pointerEvents: (selectedPapersList.length > 0) ? \"auto\" : \"none\"\n        }}>\n            <h3>\n                {\"SELECTED PAPERS\"} <br/><span>(total : {selectedPapersList.length})</span>\n            </h3>\n            <div className=\"submission-wrapper\">\n                <div className=\"papers-wrapper\" style={{border: (selectedPapersList.length > 0) ? \"\" : \"0px\"}}>\n                    <div className=\"papers-flex\" style={{padding: (selectedPapersList.length > 0) ? \"\" : \"0px\"}}>\n                        {selectedPapersList.map((element, index) =>\n                            <p key={index}>\n                                <span>{element.title}</span>\n                                <button type=\"button\" className=\"remove-btn\" name={element.title}\n                                        value={element.eid} //name and value don't work on the button event for some reasons\n                                        onClick={(e) => {\n                                            handlePaperSelection({target: {name: element.title, value: element.eid}})\n                                        }}>\n                                    <RemoveButton/>\n                                </button>\n                            </p>\n                        )}\n                    </div>\n                </div>\n                <button style={{\n                    border: (selectedPapersList.length > 0) ? \"\" : \"0px\",\n                    margin: (selectedPapersList.length > 0) ? \"\" : \"0px\",\n                    height: (selectedPapersList.length > 0) ? \"\" : \"0px\",\n                    pointerEvents: (selectedPapersList.length > 0) ? \"auto\" : \"none\"\n                }} className=\"ti-btn add-resultpaper-btn\" type=\"submit\" value=\"Submit\">\n                    <div className=\"btn-title\">Add Selected Paper</div>\n                    <div className=\"btn-icon\"></div>\n                </button>\n            </div>\n        </div>\n    );\n\n    return output;\n\n};\n\n\n/**\n * internal function to prepare a object of queryData\n * @param queryUrl\n * @return object of queryData for the fetch\n */\nfunction createQueryData(queryUrl) {\n\n\n    //set query params from queryString of url\n    let params = queryString.parse(queryUrl);\n    let query = params.query || \"\";\n\n    let searchBy = params.searchBy || \"all\";\n    let orderBy = params.orderBy || \"title\";\n    let sort = params.sort || \"ASC\";\n    let start = params.start || 0;\n    let count = params.count || 10;\n\n\n    let scopus;\n    if (params.scopus === undefined) {\n        scopus = true;\n    }\n    else {\n        scopus = (params.scopus === \"true\");\n    }\n\n    let googleScholar = (params.googleScholar === \"true\");\n    let arXiv = (params.arXiv === \"true\");\n\n    let year = params.year || \"all\";\n\n    let queryData = {query, searchBy, orderBy, sort, scopus, googleScholar, arXiv, year, start, count};\n\n    return queryData;\n\n}\n\n\nexport default SearchForm;","import http from 'utils/conn'\nimport config from 'config/index'\n\n/**\n * dao to post the file pdf to backend\n * @param data the file data\n * @return {objects}\n */\nasync function updatePdf(data) {\n    let url = config.home +config.pdf_parse_server;\n\n    let res = await http.postFile(url, data);\n    return res;\n\n}\n\n\nconst updateFileDao = {\n    updatePdf,\n    \"abortRequest\": http.abortRequest\n}\n\n\nexport {updateFileDao};","import React from \"react\";\n\n/**\n * component svg go-btn\n */\nconst GoButton = function (props) {\n\n    return (\n        <svg id=\"go-button\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t viewBox=\"0 0 1000 1000\">\n\n            <polyline\n            className=\"st1-go\"\n            points=\"371.7,481.9 500,609.9 628.3,481.9 \"\n            transform=\"matrix(0,-1.4834458,1.4856134,0,-92.453824,1228.1491)\"/>\n            <line\n            className=\"st0-go\"\n            x1=\"810.69312\"\n            y1=\"486.42624\"\n            x2=\"206.34099\"\n            y2=\"486.42624\"/>\n\n        </svg>\n    );\n};\n\nexport default GoButton;\n","import React, {useRef} from \"react\";\nimport ClampLines from 'react-clamp-lines';\nimport {Link} from 'react-router-dom';\n\nimport CloseButton from 'components/svg/closeButton';\nimport GoButton from \"components/svg/goButton\";\nimport LoadIcon from \"components/svg/loadIcon\";\n\n/**\n * the search form component used for inserting the data relative to the paper we are searching for similar ones\n */\nconst SearchSimilarPapers = ({close, //the setter for closing the form when it's visible(sets the visibility to false)\n                                style, //style of the component\n                                project_id,\n                                input, //the string input\n                                handler, //handler for the string input\n                                paperInfo, //the data of the retrieved paper(should match the paper we are searching similarities for)\n                                fetching, //flag to control when the component is fetching the data related to the paper we are searching similarities for\n                                setPaperInfo, //sets the info of the paper we are searching similarites for\n                                setPaperFile, //handles the input of a file(when we upload a file instead os specifying the paper by a string)\n                                history\n                            }) => {\n    \n    let output = \"\";\n    let content = \"\";\n    let topRightButton = \"\";\n\n    //reference for the input file field\n    const inputElement = useRef(null);\n\n\n    //clicking the button will trigger the input file\n    const onButtonClick = () => {\n        inputElement.current.click();\n    };\n\n    async function handleSubmission(){\n        //if the user submits a paper I set the paperFile variable to its content so the main form can work with it\n        if(inputElement.current.files[0]){\n            setPaperFile(inputElement.current.files[0]);\n        }\n    }\n\n    //output\n    if(fetching){\n        content = (<div className=\"load-icon-similar-paper\"><LoadIcon/></div>);\n    }else if(paperInfo && paperInfo.title){\n        content = (\n            <>\n            <h3 className=\"similar-paper-title\">{paperInfo.title}</h3>\n            <ClampLines\n                text={paperInfo.abstract}\n                lines={4}\n                ellipsis=\"...\"\n                className=\"similar-paper-paragraph\"\n                moreText=\"more\"\n                lessText=\"less\"\n            />\n            </>\n        );\n    }else{\n        content = (\n            <>\n                <p className=\"similar-description\">Search for Similar Papers</p>\n                <div className=\"DOI-holder\">\n                    <input\n                        type=\"text\"\n                        placeholder=\"type DOI, EID, or paper title\"\n                        value={input}\n                        onChange={handler}\n                        name=\"query\"\n                    />\n                    <button className=\"go-search-similar DOI-btn\" type=\"submit\" value=\"Submit\">\n                        <GoButton/>\n                    </button>\n                </div>\n                <p className=\"or\">or</p>\n                <div className=\"file-input-container\">\n                    <input type=\"file\" id=\"real-input\" ref={inputElement} onChange={handleSubmission}/>\n                    <button type=\"button\" className=\"browse-btn\" onClick={onButtonClick}>\n                        Upload a Paper\n                    </button>\n                </div>\n            </>\n        );\n    }\n    if(paperInfo){\n        topRightButton = (\n            <button type=\"button\" className={\"close-btn red-x\"} onClick={(e) => {\n                setPaperInfo(undefined);//I delete the similar paper info\n                setPaperFile(undefined);//I delete its file\n                history.push({});\n            }}><CloseButton/></button>\n        );\n    }else{\n        topRightButton = (\n            <Link to={\"/projects/\"+ project_id + \"/search\"} ><button type=\"button\" className={\"close-btn\"}><CloseButton/></button></Link>\n        );\n    }\n    output = (\n        <div style={{...style}} className=\"light-modal similar-search-paper-upload\">\n            {topRightButton}\n            {content}\n        </div>\n    );\n    return output;\n}\n\nexport default SearchSimilarPapers;","import React, {useState, useEffect, useContext} from \"react\";\nimport queryString from \"query-string\";\n\n\nimport {paperDao} from 'dao/paper.dao';\nimport {projectPapersDao} from 'dao/projectPapers.dao';\nimport {updateFileDao} from \"dao/updateFile.dao\";\n\nimport CheckBox from \"components/forms/checkbox\";\nimport RadioBox from \"components/forms/radiobox\";\nimport {PrintScoupusSearchList} from 'components/papers/printPapersList';\nimport Select from 'components/forms/select';\nimport Pagination from \"components/modules/pagination\";\nimport SearchSimilarPapers from \"components/forms/searchSimilarPapers\";\n\nimport OrderArrow from 'components/svg/orderArrow';\nimport LoadIcon from 'components/svg/loadIcon';\nimport RemoveButton from 'components/svg/removeButton';\nimport NoSearchResults from \"components/svg/noSearchResults\";\n\nimport {AppContext} from 'components/providers/appProvider'\n\nimport {createQueryStringFromObject, getIndexOfObjectArrayByKeyAndValue, arrayOfObjectsContains} from 'utils/index';\n\n\n\n// Load the lodash build\nconst _ = require('lodash');\n\n//order options\nconst orderByOptions = [\n    {label: 'Title', value: 'title'},\n    {label: 'Date', value: 'date'}\n];\n\n\n//year options\nconst startYear = 2017;\nconst endYear = new Date().getFullYear() + 2;;\n//create a int array from startYear to endYear, then convert it to string array, after this concatenate with \"all\"\nconst yearOptions = [\"all\", ...(_.range(startYear, endYear).map(String))];\n\n\n/**\n * this is component form to search for the paper in project page\n * */\n\nconst SearchSimilarForm = function ({project_id, location, match, history}) {\n\n\n    //list of result papers data\n    const [papersList, setPapersList] = useState([]);\n\n    //bool to control the visualization of the results when fetching results data\n    const [display, setDisplay] = useState(true);\n\n    //bool to show the pagination list\n    const [totalResults, setTotalResults] = useState(0);\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n\n    //set query params from url\n    let queryData = createQueryData(location.search);\n    //console.log(queryData);\n\n    //get the localStorage object\n    const storage = window.localStorage;\n    let selectedPapersListFromStorage;\n    let similarPaperDataFromStorage;\n    if (!window.localStorage) {\n        console.log(\"the browser must be support localStorage\");\n    }\n    \n    //if exists already this attribute in the local storage\n    if (storage.getItem(\"selectedPapersList\")) {\n        selectedPapersListFromStorage = JSON.parse(storage.getItem(\"selectedPapersList\"));\n    }\n    //if not exists, we create a new array\n    else {\n        selectedPapersListFromStorage = [];\n    }\n\n    //if exists already this attribute in the local storage\n    if (storage.getItem(\"similarPaperData\")) {\n        similarPaperDataFromStorage = JSON.parse(storage.getItem(\"similarPaperData\"));\n    }\n    //if not exists, we create a new array\n    else {\n        similarPaperDataFromStorage = null;\n    }\n\n    // list of selected papers\n    const [selectedPapersList, setSelectedPapersList] = useState(selectedPapersListFromStorage);\n\n    //state for search form\n    const [keywords, setKeyWords] = useState(\"\");\n    const [source, setSource] = useState({\"scopus\": true, \"googleScholar\": false, \"arXiv\": false});\n    const [year, setYear] = useState(\"all\");\n    const [similarPaperData, setSimilarPaperData] = useState(similarPaperDataFromStorage); //the data of the paper to search similarities for\n    const [similarPaperFile, setSimilarPaperFile] = useState(undefined); //the file of the paper to search similarities for\n\n    //state for sorting arrow animation\n    const [up, setUp] = useState(queryData.sort);\n\n    //state for 'similar papers search' form\n    const [similarFormVisibility, setSimilarFormVisibility] = useState(false);\n\n    //bool for target similar paper fetching\n    const [similarPaperFetch, setSimilarPaperFetch] = useState(false);\n\n\n    /*\n        START OF USEEFFECT FOR HANDLING QUERY PARAMETERS ###################################################\n    */\n\n    //effect for query parameters input\n    useEffect(() => {\n\n        let mounted = true;\n\n        console.log(\"RUNNING THE BIG EFFECT\")\n\n        console.log(queryData);\n        //if the sorting parameter changes I update the status and trigger the SVG animation\n        if(up !== queryData.sort){\n            setUp(queryData.sort);\n            if(document.getElementById(\"ani-order-arrow\")){\n                document.getElementById(\"ani-order-arrow\").beginElement();\n            }\n        }\n\n\n        //fetches data when searching for similarities\n        const fetchMainPaper = async () => {\n\n            //standard options parameters\n            setKeyWords(queryData.query);\n            setSource({\"scopus\": queryData.scopus, \"googleScholar\": queryData.googleScholar, \"arXiv\": queryData.arXiv});\n            setYear(queryData.year);\n\n            \n            //if there's a file I can do an api call to parse it\n            if(similarPaperFile){\n                \n                console.log(\"FILE NAME : \" + similarPaperFile.name);\n\n                setPapersList([]);\n                setTotalResults(0);\n\n                //check file extension and its mine type\n                if(!/\\.(pdf|PDF)$/.test(similarPaperFile.name) || similarPaperFile.type.indexOf(\"application/pdf\") === -1){\n                    appConsumer.setNotificationMessage(\"The file must be a pdf!\");\n                }\n                else{\n                    //open flag of loading\n                    setSimilarPaperFetch(true);\n                    console.log(\"FETCHING PARSE PDF\")\n                    //prepare the form data for post\n                    let formData = new FormData();\n                    formData.append('file', similarPaperFile);\n\n                    //call the dao\n                    console.log(\"CALLING THE PAPER PARSER SERVICE\")\n                    let res = await updateFileDao.updatePdf(formData);\n    \n                    //if there is a error\n                    if (res && res.message) {\n                        //pass error object to global context\n                        appConsumer.setNotificationMessage(\"Error during parsing file\");\n                        setDisplay(true);\n                        setSimilarPaperFetch(false);\n                    }\n                    else{\n                        console.log(res);\n                        //set paperdata(which whill call the useEffect on the paperData)\n                        setSimilarPaperData(res);\n                        //display the paper data\n                        setSimilarPaperFetch(false);\n                    }\n\n                }\n            }\n            //if there's a query I can retrieve similar papers based on the query\n            else if (queryData.query !== \"\") {\n                \n                setPapersList([]);\n                setTotalResults(0);\n\n                setSimilarPaperFetch(true);\n                //this will be the call to the service identifying a specific paper\n                let resx = await paperDao.search({\"query\" : queryData.query});\n\n                console.log(resx);\n\n                //if there is a error\n                if (resx && resx.message) {\n                    //pass error object to global context\n                    appConsumer.setError(resx);\n                }else{\n                    console.log(resx);\n                    //set paperdata(which whill call the useEffect on the paperData)\n                    setSimilarPaperData(resx.results[0]);\n                    setSimilarPaperFetch(false);\n\n                }\n            }\n            else{\n                console.log(\"no file (& no similarPaperString)\");\n            }\n\n        };\n\n\n        fetchMainPaper();\n\n        //when the component will unmount\n        return () => {\n            console.log(\"unmounting searchSimilar component\")\n            localStorage.removeItem(\"similarPaperData\");\n            paperDao.abortRequest();\n            projectPapersDao.abortRequest();\n            updateFileDao.abortRequest();\n            mounted = false;\n        };\n\n    }, [project_id, similarPaperFile, queryData.query]);  //re-execute when these variables change\n\n\n    /*\n        END OF USEEFFECT FOR HANDLING QUERY PARAMETERS #######################################################\n    */\n\n\n    //update local storage every time the similar paper data changes\n    useEffect(() => {\n        console.log(\"RUNNING THE SMALL EFFECT\");\n        if(similarPaperData){\n            //fetches for similar papers\n            const fetchSimilarPapers= async () => {\n                \n                setDisplay(false);\n                storage.setItem(\"similarPaperData\", JSON.stringify(similarPaperData));\n\n                //I call the dao for searching for similar papers based on similarPaperString\n                //this will be the call for the similarity search\n                let resx = await paperDao.searchSimilar({\"paperData\" : similarPaperData, \"start\" : queryData.start, \"count\" : queryData.count});\n                console.log(resx);\n\n                //error checking\n                //if is 404 error\n                if (resx && resx.message === \"Not Found\") {\n                    setPapersList([]);\n                    setTotalResults(0);\n                    //show the page\n                    setDisplay(true);\n                }\n                //if is other error\n                else if (resx && resx.message) {\n                    //pass error object to global context\n                    appConsumer.setError(resx);\n                }\n                //if res isn't null\n                else if (resx !== null) {\n                    //update state\n                    setPapersList(resx.results);\n                    setTotalResults(resx.totalResults);\n                    //show the page\n                    setDisplay(true);\n                }\n            }\n\n            fetchSimilarPapers();\n        }else{\n            storage.removeItem(\"similarPaperData\");\n        }\n    }, [similarPaperData, queryData.orderBy, queryData.sort, queryData.year, queryData.start, queryData.count, queryData.scopus, queryData.googleScholar, queryData.arXiv])\n\n    /*handles the submission of a search */\n    function handleSendSearch(event) {\n\n        console.log(\"SUBMITTING SEARCH\");\n        if(event){\n            event.preventDefault();\n        }\n\n        console.log(\"similarity search was called\");\n        //if query input is empty\n        if (keywords === \"\" && !similarPaperFile) {\n            appConsumer.setNotificationMessage(\"Similar paper string is empty\")\n        }\n        else {\n            //synchronize the query data from react state hooks\n            //if there isn't any file I search with the string\n            if(!similarPaperFile){\n                console.log(\"there isn't a file\")\n                queryData.query = keywords;\n            }else{\n                console.log(\"there's a file\")\n                queryData.query = \"\";\n            }\n            queryData.scopus = source.scopus;\n            queryData.googleScholar = source.googleScholar;\n            queryData.arXiv = source.arXiv;\n            queryData.year = year;\n\n            //send query url\n            let queryString = createQueryStringFromObject(queryData);\n            //launch to search\n            history.push(queryString);//this allows pushing the same data and refreshing the page with the hash router\n\n        }\n\n\n    }\n\n    /**\n     *handle to update hook state by input change on the form fields\n     */\n    function handleOnInputChange(event) {\n\n        let newSource;\n\n        switch (event.target.name) {\n            case \"query\":\n                setKeyWords(event.target.value);\n                break;\n            case \"scopus\":\n                //copy the old source\n                newSource = {...source};\n                //switch between true and false\n                newSource.scopus = !source.scopus;\n                setSource(newSource);\n                break;\n\n            case \"googleScholar\":\n                //copy the old source\n                newSource = {...source};\n                //switch between true and false\n                newSource.googleScholar = !source.googleScholar;\n                setSource(newSource);\n                break;\n            case \"arXiv\":\n                //copy the old source\n                newSource = {...source};\n                //switch between true and false\n                newSource.arXiv = !source.arXiv;\n                setSource(newSource);\n                break;\n            case \"year\":\n                setYear(event.target.value);\n                break;\n            default:\n                break;\n        }\n\n\n    }\n\n    /*\n     #######################################\n     need to  create a new child component for the part of <form>, when we have more information on search options\n     ######################################\n     */\n    let formPart = (\n        <>\n            <form className={(queryData.query === \"\" && !similarPaperFile && !similarPaperData) ? 'search-form' : 'search-form small'}\n                    style={{marginTop: (similarFormVisibility) ? \"30px\" : \"60px\"}}\n                    onSubmit={handleSendSearch}>\n                {/*search form*/}\n                \n                <SearchSimilarPapers style={{boxShadow: \"0px 0px 3px -1px rgba(0, 0, 0, 0.25)\"}}\n                    project_id={project_id}\n                    close={setSimilarFormVisibility} handler={handleOnInputChange} \n                    input={keywords} paperInfo={similarPaperData}\n                    fetching={similarPaperFetch} setPaperInfo={setSimilarPaperData}\n                    setPaperFile={setSimilarPaperFile}\n                    history={history}/>\n                \n                <div className=\"option-holder\">\n                    <label>Source:</label><br/>\n\n                    <div className=\"checkboxes-holder\">\n                        <CheckBox label=\"Scopus\" name=\"scopus\" val=\"\" isChecked={source.scopus}\n                                  handler={handleOnInputChange}/>\n                        <CheckBox label=\"Google Scholar\" name=\"googleScholar\" val=\"\" isChecked={source.googleScholar}\n                                  handler={handleOnInputChange}/>\n                        <CheckBox label=\"arXiv\" name=\"arXiv\" val=\"\" isChecked={source.arXiv}\n                                  handler={handleOnInputChange}/>\n                    </div>\n\n                    <label>Year:</label><br/>\n                    <div className=\"checkboxes-holder\" >\n                        {\n                            yearOptions.map((singleYear, index) =>\n                                <RadioBox key={index} label={singleYear} name=\"year\" val={singleYear}\n                                          isChecked={year === singleYear} handler={handleOnInputChange}/>\n                            )\n                        }\n                    </div>\n                </div>\n            </form>\n        </>);\n\n\n    let resultPart = \"\";\n\n     /*\n        START OF 'RESULT PAPERS HANDLING' ########################################################\n    */\n\n    //handler for sort selection\n    function handleSelection(e) {\n        //get index\n        let index = parseInt(e.target.getAttribute('data-value'));\n        //get value by index\n        queryData.orderBy = orderByOptions[index].value;\n        //update url\n        let queryString = createQueryStringFromObject(queryData);\n        history.push(queryString);\n\n    }\n\n    //handler for order selection(ASC|DESC)\n    function handelOrder(e) {\n\n        if (queryData.sort === \"ASC\") {\n            queryData.sort = \"DESC\";\n        }\n        else {\n            queryData.sort = \"ASC\";\n        }\n        //update url\n        let queryString = createQueryStringFromObject(queryData);\n        history.push(queryString);\n    }\n\n\n    /*function to insert and remove the paper id from selected list*/\n    function handlePaperSelection(event) {\n        let newList;\n        //get eid\n        let eid = event.target.value;\n        //get ttitle\n        let title = event.target.name;\n        //if id is not included in the list yet\n        if (getIndexOfObjectArrayByKeyAndValue(selectedPapersList, \"eid\", eid) === -1) {\n           //create a copy of array\n            newList = [...selectedPapersList];\n            //insert into array\n            newList.push({\"eid\": eid, \"title\": title});\n\n        }\n        //if id already exists in the list\n        else {\n            //remove the  target paper from array\n            newList = selectedPapersList.filter(function (element) {\n                return element.eid !== eid;\n            });\n        }\n\n        //update array\n        setSelectedPapersList(newList);\n        storage.setItem(\"selectedPapersList\", JSON.stringify(newList));\n    }\n\n    /*function to select all papers*/\n    function selectAllPapers(event) {\n        \n        let newList;\n        \n        //if not all papers are selected yet\n        if(!arrayOfObjectsContains(selectedPapersList, papersList, \"eid\")){\n            //I get the list of the papers in the current page\n            let allPapersInPage = papersList.map((paper) => {return {\"eid\" : paper.eid, \"title\" : paper.title}});\n            //and merge them with the previously selected ones\n            let tmpList = [...allPapersInPage, ...selectedPapersList];\n            newList = _.uniqBy(tmpList, 'eid');\n        }else{//otherwise\n            //I get the list of the papers in the current page\n            let allPapersInPage = papersList.map((paper) => {return {\"eid\" : paper.eid, \"title\" : paper.title}});\n            //I filter the selectedPapersList by removing the papers that are in the current page\n            newList = selectedPapersList.filter(x => !allPapersInPage.some(paper => paper.eid === x.eid));\n        }\n        \n        setSelectedPapersList(newList);\n\n        //update array in local storage\n        storage.setItem(\"selectedPapersList\", JSON.stringify(newList));\n    }\n\n    /*function to add the post in the project*/\n    async function handleAddPapers(event) {\n\n        event.preventDefault();\n        //console.log(selectedPapersList);\n\n       //create a eidList from the list of selected paper\n        let arrayEid = selectedPapersList.map(element => element.eid);\n        //call dao\n        let res = await projectPapersDao.postPaperIntoProject({\n            \"arrayEid\": arrayEid, \"project_id\": project_id\n        });\n        //if there is the error\n        if (res && res.message) {\n            //pass error object to global context\n            appConsumer.setError(res);\n            return null;\n        }\n\n        //empties the state\n        setSelectedPapersList([]);\n\n        //update the storage\n        storage.removeItem(\"selectedPapersList\");\n\n        appConsumer.setNotificationMessage(\"Insert completed\");\n\n    }\n\n    /*\n        END OF 'RESULT PAPERS HANDLING' ########################################################\n    */\n\n    //if is loading\n    if (display === false) {\n\n        resultPart = (\n            <div className=\"paper-card-holder\">\n                <div className=\"paper-card-holder-head\" style={{pointerEvents: \"none\"}}>{/* this way the user cannot sort while loading the results */}\n                    <div className=\"select-all\">\n                    <CheckBox label=\"Select All\" name=\"select_all\" val=\"\" isChecked={false} handler={selectAllPapers}/>\n                    </div>\n                    <div className=\"order\">\n                        <label>sort by:</label>\n                        <Select options={orderByOptions}\n                                selected={getIndexOfObjectArrayByKeyAndValue(orderByOptions, \"value\", queryData.orderBy)}\n                                handler={handleSelection}/>\n                        <button type=\"button\" onClick={handelOrder}><OrderArrow display={true} up={(queryData.sort)}/></button>\n                    </div>\n                </div>\n                <SelectedPapersListBox selectedPapersList={selectedPapersList}/>\n                <div className=\"search-loading-holder\">\n                    <LoadIcon class={\"small\"}/>\n                </div>\n            </div>);\n    }\n\n    //if the search results list is empty\n    else if (papersList.length === 0 && (queryData.query !== \"\" || similarPaperFile || similarPaperData) && !similarPaperFetch) {\n        //the class is used only to workaround a small bug that display not found just as the search start before the loading icon\n        resultPart = (\n            <div className=\"no-results\"> <NoSearchResults/> <p className=\"not-found-description\"> Nothing was found </p> </div>\n        );\n    }\n    else if (papersList.length > 0 && (queryData.query !== \"\" || similarPaperFile || similarPaperData)) {\n\n        //create a eidList from the list of selected paper\n        let arrayEid = selectedPapersList.map(element => element.eid);\n\n        resultPart = (\n            <div className=\"paper-card-holder\">\n                <div className=\"paper-card-holder-head\">\n                    <div className=\"select-all\">\n                    <CheckBox label=\"Select All\" name=\"select_all\" val=\"\" isChecked={arrayOfObjectsContains(selectedPapersList, papersList, \"eid\")} handler={selectAllPapers}/>\n                    </div>\n                    <div className=\"order\">\n                        <label>sort by:</label>\n                        <Select options={orderByOptions}\n                                selected={getIndexOfObjectArrayByKeyAndValue(orderByOptions, \"value\", queryData.orderBy)}\n                                handler={handleSelection}/>\n                        <button type=\"button\" onClick={handelOrder}><OrderArrow display={true} up={(queryData.sort)}/></button>\n                    </div>\n                </div>\n                <SelectedPapersListBox selectedPapersList={selectedPapersList} handlePaperSelection={handlePaperSelection}/>\n\n                <PrintScoupusSearchList papersList={papersList} handlePaperSelection={handlePaperSelection} selectedEidList={arrayEid} setSimilarPaperData={setSimilarPaperData}/>\n                <Pagination start={queryData.start} count={queryData.count} totalResults={totalResults} path={match.url}/>\n            </div>\n        );\n    }\n\n\n    let output = (\n        <>\n            {formPart}\n            <form className=\"search-results\" onSubmit={handleAddPapers}>\n                {resultPart}\n            </form>\n        </>\n    );\n\n    return output;\n};\n\n\n/**\n * internal component to print the box of list of selected paper\n */\nconst SelectedPapersListBox = function ({selectedPapersList, handlePaperSelection}){\n\n    let output = \"\";\n    output = (\n        <div className=\"selected-papers-list\" style={{opacity: (selectedPapersList.length>0) ? \"1.0\" : \"0.0\", pointerEvents: (selectedPapersList.length>0) ? \"auto\" : \"none\"}}>\n            <h3>\n                {\"SELECTED PAPERS\"} <br/><span>(total : {selectedPapersList.length})</span>\n            </h3>\n            <div className=\"submission-wrapper\">\n                <div className=\"papers-wrapper\" style={{border: (selectedPapersList.length>0) ? \"\" : \"0px\"}}>\n                    <div className=\"papers-flex\" style={{padding: (selectedPapersList.length>0) ? \"\" : \"0px\"}}>\n                        {selectedPapersList.map((element, index) =>\n                            <p key={index}>\n                                <span>{element.title}</span> \n                                <button type=\"button\" className=\"remove-btn\" name={element.title} value={element.eid} //name and value don't work on the button event for some reasons\n                                    onClick={(e) => {handlePaperSelection({target: {name: element.title, value:element.eid}})}}>\n                                    <RemoveButton/>\n                                </button>\n                            </p>\n                        )}\n                    </div>\n                </div>\n                <button style={{border: (selectedPapersList.length>0) ? \"\" : \"0px\", margin: (selectedPapersList.length>0) ? \"\" : \"0px\", height: (selectedPapersList.length>0) ? \"\" : \"0px\", pointerEvents: (selectedPapersList.length>0) ? \"auto\" : \"none\"}} className=\"ti-btn add-resultpaper-btn\" type=\"submit\" value=\"Submit\">\n                    <div className=\"btn-title\">Add Selected Paper</div><div className=\"btn-icon\"> </div>\n                </button>\n            </div>\n        </div>\n    );\n\n    return output;\n\n};\n\n\n/**\n * internal function to prepare a object of queryData\n * @param queryUrl\n * @return object of queryData for the fetch\n */\nfunction createQueryData(queryUrl) {\n\n\n    //set query params from queryString of url\n    let params = queryString.parse(queryUrl);\n    let query = params.query || \"\";\n\n    let orderBy = params.orderBy || \"title\";\n    let sort = params.sort || \"ASC\";\n    let start = params.start || 0;\n    let count = params.count || 10;\n\n\n    let scopus;\n    if (params.scopus === undefined) {\n        scopus = true;\n    }\n    else {\n        scopus = (params.scopus === \"true\");\n    }\n\n    let googleScholar = (params.googleScholar === \"true\");\n    let arXiv = (params.arXiv === \"true\");\n\n    let year = params.year || \"all\";\n\n    let queryData = {query, orderBy, sort, scopus, googleScholar, arXiv, year, start, count};\n\n    return queryData;\n\n}\n\n\nexport default SearchSimilarForm;","import React, {useState, useEffect, useContext} from \"react\";\nimport queryString from \"query-string\";\n\nimport {projectPapersDao} from 'dao/projectPapers.dao';\n\nimport LoadIcon from 'components/svg/loadIcon';\nimport {PrintPapersList} from 'components/papers/printPapersList';\nimport Select from 'components/forms/select';\nimport OrderArrow from 'components/svg/orderArrow';\nimport Pagination from \"components/modules/pagination\";\nimport {createQueryStringFromObject, getIndexOfObjectArrayByKeyAndValue} from 'utils/index';\n\nimport {AppContext} from 'components/providers/appProvider'\n\n\n\n\n//order options\nconst orderByOptions = [\n    { value: 'date_created', label: 'Recently Added' },\n    { value: 'title', label: 'Title' },\n    { value: 'authors', label: 'Authors' }\n  ];\n\n/**\n * the local component that shows the papers list of a project\n */\nconst PapersList = ({project_id, location, match, history}) => {\n\n\n    //fetch data\n    const [papersList, setPapersList] = useState([]);\n\n    //bool to show the pagination list\n    const [totalResults, setTotalResults] = useState(0);\n\n    //bool to control the visualization of page\n    const [display, setDisplay] = useState(false);\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //set query params from url\n    const queryData = createQueryData(location.search);\n\n    const [up, setUp] = useState(queryData.sort);\n\n    useEffect(() => {\n\n        //flag that represents the state of component\n        let  mounted = true;\n\n        if(queryData.orderBy !== \"date_created\" && up !== queryData.sort){\n            setUp(queryData.sort);\n            document.getElementById(\"ani-order-arrow\").beginElement();\n        }\n\n        //a wrapper function ask by react hook\n        const fetchData = async () => {\n            //hide the page\n            setDisplay(false);\n\n            //call the dao\n            let res = await projectPapersDao.getPapersList({project_id, ...queryData});\n\n            //error checking\n            //if the component is still mounted and  is 404 error\n            if (mounted && res && res.message === \"Not Found\") {\n                setPapersList([]);\n                setTotalResults(0);\n                //show the page\n                setDisplay(true);\n            }\n            //if the component is still mounted and  there are some other errors\n            else if (mounted && res && res.message) {\n                //pass error object to global context\n                appConsumer.setError(res);\n            }\n            //if the component is still mounted and  res isn't null\n            else if (mounted && res) {\n\n                //update state\n                setPapersList(res.results);\n                setTotalResults(res.totalResults);\n                //show the page\n                setDisplay(true);\n            }\n\n        };\n        fetchData();\n\n        //when the component will unmount\n        return () => {\n            //set flag as unmounted\n            mounted = false;\n        };\n    }, [queryData.start, queryData.count, queryData.sort, queryData.orderBy]); //re-execute when these variables change\n\n\n    //handler for sort selection\n    function handleSelection(e){\n        let index = parseInt(e.target.getAttribute('data-value'));\n\n        //if I previously ordered by 'most recent' then I sort the next order by ASC\n        if(queryData.orderBy === \"date_created\"){\n            queryData.sort = \"ASC\";\n        }\n        queryData.orderBy=orderByOptions[index].value;\n\n        //update url\n        let queryString = createQueryStringFromObject(queryData);\n        history.push(queryString);\n    }\n\n    //handler for order selection(ASC|DESC)\n    function handelOrder(e){\n        //trigger svg animation\n        if(queryData.sort === \"ASC\"){\n            queryData.sort = \"DESC\";\n        }\n        else{\n            queryData.sort = \"ASC\";\n        }\n        //update url\n        let queryString = createQueryStringFromObject(queryData);\n        history.push(queryString);\n    }\n\n\n\n    let output;\n    //if the page is loading\n    if (display === false) {\n        //print loading image\n        output = (\n            <div className=\"paper-card-holder\">\n                <div className=\"order\" style={{pointerEvents: \"none\"}}>{/* this way the user cannot sort while loading the results */}\n                    <label>sort by:</label>\n                    <Select options={orderByOptions} selected={getIndexOfObjectArrayByKeyAndValue(orderByOptions, \"value\",queryData.orderBy)} handler={handleSelection}/>\n                    <button type=\"button\" onClick={handelOrder}><OrderArrow display={queryData.orderBy !== \"date_created\"} up={up}/></button>\n                </div>\n                <LoadIcon class={\"small\"}/>\n            </div> );\n    }\n    else {\n\n        output = (\n            <div className=\"paper-card-holder\">\n                <div className=\"order\">\n                    <label>sort by:</label>\n                    <Select options={orderByOptions} selected={getIndexOfObjectArrayByKeyAndValue(orderByOptions, \"value\", queryData.orderBy)} handler={handleSelection}/>\n                    <button type=\"button\" onClick={handelOrder}><OrderArrow display={queryData.orderBy !== \"date_created\"} up={up}/></button>\n                </div>\n                <PrintPapersList papersList={papersList} location={location} history={history}/>\n                <Pagination start={queryData.start} count={queryData.count} totalResults={totalResults} path={match.url}/>\n            </div>\n        );\n    }\n\n    output = (\n        <div className=\"papers-list\">\n            {output}\n        </div>\n    );\n\n    return output;\n\n};\n\n\n\n\n/**\n * internal function to prepare a object of queryData\n * @param query\n * @return object of queryData for the fetch\n */\nfunction createQueryData(query){\n\n    //set query params from queryString of url\n    let params = queryString.parse( query);\n    let count = params.count || 10;\n    let start = params.start || 0;\n    let orderBy = params.orderBy || \"date_created\";\n    let sort = params.sort || \"ASC\";\n\n    if(orderBy === \"date_created\"){\n        sort = \"DESC\";\n    }\n\n    //if \"before\" is defined by query then insert it in object, else insert \"after\" in object\n    let queryData = {orderBy, sort, start, count };\n    return queryData;\n\n}\n\n\n\nexport default PapersList;","import React, {useState, useEffect} from \"react\";\nimport SelectArrow from 'components/svg/selectArrow';\n\n\n/**\n * this component acts as an html <select>\n * it needs an array of options, the index of the selected one and the hadler to change the status of the upper component calling this one\n */\nconst Select = ({ options, form, name }) => {\n    \n\n    //this is useful for the animation\n    const [focused, setFocused] = useState(false);\n\n    //this keeps the selected option\n    const [selected, setSelected] = useState(0)\n\n    //this handle the selection setting the index of the selected option\n    function handler(e){\n        let index = parseInt(e.target.getAttribute('data-value'));\n        setSelected(index);\n    }\n\n    //this updates the field value for formik\n    useEffect(() => {\n        form.setFieldValue(name, options[selected].value);\n    }, [selected])\n\n    function handleFocus(e){\n        //handle arrow animation and focus of menu\n        document.getElementById(\"ani-select-arrow\").beginElement();//trigger svg animation\n        setFocused(!focused);\n    }\n\n    var output = (\n        <div className=\"custom-select\">\n            <div className=\"selected\" tabIndex={-2} onBlur={handleFocus} onFocus={handleFocus}>{options[selected].label} <div className=\"arrow\"><SelectArrow focused={focused}/></div></div>\n            <div className=\"options-holder\" style={{fontSize: (!focused) ? '0px' : '15px', borderBottom: (!focused) ? \"0px solid #d7d7d7\" : \"1px solid #d7d7d7\", borderLeft: (!focused) ? \"0px solid #d7d7d7\" : \"1px solid #d7d7d7\", borderRight: (!focused) ? \"0px solid #d7d7d7\" : \"1px solid #d7d7d7\", borderTop:\"none\"}}>\n                {options.map((element, index) => (\n                <div key={index} data-value={index} className=\"option\" style={{padding: (!focused) ? '0px' : '2px' }} onMouseDown={handler}>\n                    {element.label}\n                </div>))}\n            </div>\n        </div>\n    );\n    return output;\n}\n\nexport default Select;","import React, {useContext} from \"react\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport {projectPapersDao} from 'dao/projectPapers.dao'\n\nimport Select from 'components/forms/selectformik';\n\nimport { AppContext } from 'components/providers/appProvider'\n\n//order options\nconst paperType = [\n    { value: 'article', label: 'Article' },\n    { value: 'book_chapter', label: 'Book Chapter' },\n    { value: 'conf_publication', label: 'Conf. Publication' }\n  ];\n\n/**\n * this is the form for create or edit the paper\n * @param props.projectId  relative project where we will insert the paper\n */\nfunction PaperForm(props) {\n\n    let yup = require('yup');\n    const uuid = require(\"uuid\");\n\n    //validation schema for form\n    const paperValidationSchema = yup.object().shape({\n        title: yup.string().required('please enter a title'),\n        authors: yup.string().required('please enter an author'),\n        year: yup.number().required('please enter a year').min(1000).max(new Date().getFullYear() + 1).integer(),\n        //document_type: yup.string().required('please enter a paper type'),\n        abstract: yup.string().required('please enter the abstract')\n    });\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    return (\n        <>\n        <Formik\n            initialValues={{\n                title: (props.customPaper && props.customPaper.title) || '',\n                authors: (props.customPaper && props.customPaper.authors) || '',\n                year: (props.customPaper && props.customPaper.year) || '',\n                abstract: (props.customPaper && props.customPaper.abstract) || '',\n                //it is not present in pdf parse service\n                document_type: (props.customPaper && props.customPaper.document_type) || '',\n                doi: (props.customPaper && props.customPaper.doi) || \"\"\n            }}\n            validationSchema={paperValidationSchema}\n            onSubmit={async (values, { setSubmitting }) => {\n                //if doi is not specified I set it as empty string\n                if(values.doi === undefined){\n                    values.doi = \"\";\n                }\n                const paperData = {...values, \n                    year: values.year.toString(), \n                    source_title: values.title, \n                    link: \"custom_paper\", \n                    source: \"slr_custom_papers\", \n                    abstract_structured: \"0\",\n                    filter_oa_include: \"0\",\n                    filter_study_include: \"0\",\n                    notes: \"\",\n                    //data necessary for identifying custom papers\n                    manual: \"true\"}\n                console.log(paperData);\n                \n                let res = await projectPapersDao.postCustomPaperIntoProject({\n                    paper: paperData, project_id: props.projectId\n                });\n                //error checking\n                if (res && res.message) {\n                    //pass error object to global context\n                    appConsumer.setError(res);\n                }else{\n                    props.history.push(props.url);\n                }\n                setSubmitting(false);\n            }}\n            validateOnBlur={false}\n        >\n        {({ errors, touched, isSubmitting }) => (\n            <Form className=\"new-paper-form\">\n                <Field\n                    style={{borderBottom: (errors.title && touched.title) ? \"1px solid #d81e1e\" : \"\"}}\n                    id=\"title\"\n                    name=\"title\"\n                    type=\"text\" \n                    placeholder=\"Paper Title\"/>\n                <div className=\"new-paper-form-ad\">\n                    <div className=\"author-year\">\n                        <Field\n                            style={{borderBottom: (errors.authors && touched.authors) ? \"1px solid #d81e1e\" : \"\"}}\n                            name=\"authors\"\n                            type=\"text\" \n                            placeholder=\"paper author\"/>\n                        <Field \n                            style={{borderBottom: (errors.year && touched.year) ? \"1px solid #d81e1e\" : \"\"}}\n                            name=\"year\"\n                            type=\"number\"\n                            placeholder=\"year\"/>\n                    </div>\n                    <div className=\"type-doi\">\n                        <Field\n                            name=\"document_type\"\n                            render={({ field, form }) => (\n                                    <Select options={paperType} {...field} form={form}/>\n                            )}\n                        />\n                        <Field \n                            name=\"doi\"\n                            type=\"text\"\n                            placeholder=\"DOI(optional)\"/>\n                    </div>\n                </div>\n                <Field\n                    style={{borderBottom: (errors.abstract && touched.abstract) ? \"1px solid #d81e1e\" : \"\"}}\n                    name=\"abstract\"\n                    placeholder=\"Paper Abstract\"\n                    component=\"textarea\"/>\n                <button type=\"submit\" disabled={isSubmitting ||\n                    (errors.title && touched.title) ||\n                    (errors.authors && touched.authors) ||\n                    (errors.year && touched.year) ||\n                    (errors.abstract && touched.abstract)\n                }>Add paper</button>\n            </Form>\n        )}\n        </Formik>\n        </>\n    );\n\n\n}\n\n\nexport default PaperForm;","import React, {useState, useRef, useContext} from \"react\";\nimport PaperForm from 'components/forms/custompaper';\nimport LoadIcon from \"components/svg/loadIcon\";\n\nimport {updateFileDao} from \"dao/updateFile.dao\";\n\nimport {AppContext} from 'components/providers/appProvider';\n\nfunction CustomPaperPage({projectId, url, history}) {\n\n\n    const [paperDataFetch, setPaperDataFetch] = useState(false);\n    const [paperData, setPaperData] = useState(undefined);\n    const [displayForm, setDisplayForm] = useState(false);\n\n    //reference for the input file field\n    const inputElement = useRef(null);\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    async function handleSubmission(){\n\n        //get the file object\n        let file = inputElement.current.files[0];\n        //if this file exist\n        if(file){\n\n            //check file extension and its mine type\n            if(!/\\.(pdf|PDF)$/.test(file.name) || file.type.indexOf(\"application/pdf\") === -1){\n                appConsumer.setNotificationMessage(\"The file must be a pdf!\");\n            }\n            else{\n                //open flag of loading\n                setPaperDataFetch(true);\n\n                //prepare the form data for post\n                let formData = new FormData();\n                formData.append('file', file);\n\n                //call the dao\n               let res = await updateFileDao.updatePdf(formData);\n\n               //if there is a error\n                if (res && res.message) {\n                    //pass error object to global context\n                    appConsumer.setNotificationMessage(\"Error during parsing file\");\n                   \n                }\n                else{\n                    //set paperdata\n                    setPaperData(res);\n                    //display the form\n                    setDisplayForm(true);\n                }\n\n                //close flag of loading\n                setPaperDataFetch(false);\n\n            }\n        }\n    }\n\n    let output = \"\";\n\n    if(!displayForm && !paperDataFetch){\n        output = (\n            <div className=\"new-paper-page-wrapper\">\n                <div>\n                    <div className=\"file-input-container\">\n                        <input type=\"file\"name =\"file\" id=\"real-input\" ref={inputElement} onChange={handleSubmission}/>\n                        <button type=\"button\" className=\"browse-btn\" onClick={() => {inputElement.current.click();}}>\n                            Upload a Paper\n                        </button>\n                    </div>\n                        or<br/>\n                    <button type=\"button\"\n                        onClick={() => {setDisplayForm(true)}}\n                    >insert data manually</button>\n                </div>\n            </div>\n        );\n    }else if(paperDataFetch){\n        output = (\n            <div className=\"new-paper-page-wrapper\">\n                <div className=\"file-input-container\">\n                    <input type=\"file\" id=\"real-input\"/>\n                    <button type=\"button\" className=\"browse-btn\">\n                        <LoadIcon/>\n                    </button>\n                </div>\n                    or<br/>\n                <button type=\"button\"\n                    onClick={() => {/* reset connection to api if necessary */ setPaperDataFetch(false); setDisplayForm(true);}}\n                >abort and insert data manually</button>\n            </div>\n        );\n    }else{\n        output = (\n            <PaperForm projectId={projectId} url={url} history={history} customPaper={paperData}/>\n        );\n    }\n\n    return output;\n\n}\n\n\nexport default CustomPaperPage;","import React from \"react\";\n\n/**\n * component svg edit button\n * based on the 'confirm' flag the icon will change\n */\nconst EditButton = function ({confirm}) {\n    var output = <></>;\n    if(!confirm){//if the user is not editing\n        output = (<svg version=\"1.1\" id=\"edit-button\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t    viewBox=\"0 0 1000 1000\">\n            <path className=\"st-pencil\" d=\"M224,632.3l-81.6,225.3L367.7,776l0,0L833,310.7c39.4-39.4,39.9-103.3,0.7-142.9c-0.5-0.5-1-1-1.4-1.4\n            c-39.6-39.2-103.6-38.7-142.9,0.7L224,632.3L224,632.3z\"/>\n            <path className=\"st-pencil-border\" d=\"M367.7,776c-24-71.7-71.9-119.6-143.7-143.7\"/>\n            <path className=\"st-pencil\" d=\"M805.7,338c-24-71.7-71.9-119.6-143.7-143.7\"/>\n        </svg>);\n    }else{//if the user is editing\n        output = (\n            <svg version=\"1.1\" id=\"confirm-edit-button\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n\t            viewBox=\"0 0 1000 1000\">\n                <polyline className=\"st-confirm\" points=\"918,192.3 389.3,807.7 82,450 \"/>\n            </svg>\n        );\n    }\n    return output;\n};\n\nexport default EditButton;\n","import React, {useState} from \"react\";\n\nimport EditButton from \"components/svg/editButton\";\n\n/**\n * this is the description component for the project page\n */\n\n\nconst ProjectDescription = function({description, update, date_last_modified, date_created}){\n\n\n    //this is used as a toggle for checking if the user is trying to edit the name of the project\n    const [editing, setEditing] = useState(false);\n\n    //handles the click on the edit/confirm button\n    function handleEditRequest(e){\n        console.log(\"CLICK\");\n        if(!editing){//if the user was not editing I allow him to edit\n            setTimeout(//I wait for the button event to fire before blurring out the textarea\n                function(){\n                    document.getElementById(\"edit-project-description-input\").focus();\n                },100);\n            \n            setEditing(true);\n            console.log(editing)\n        }else{//if the user was editing I submit its changes\n            update();\n        }\n    }\n\n    //format the date string\n    function formatDate(date){\n        return <span className=\"date\">{date.slice(0,10)} at {date.slice(11,19)}</span>\n    }\n\n\n    return (\n        <div className={(!editing) ? \"project-description hidden-form-description\" : \"project-description\"}>\n            <h2>Description:</h2>\n            <p style={{fontSize: (editing) ? \"0px\" : \"15px\"}}> {description}</p>\n            <form className=\"edit-project-description\" style={{height:(editing) ? \"\" : \"0px\"}}>\n                    <textarea id=\"edit-project-description-input\"  defaultValue={description} style={{width: (editing) ? \"100%\" : \"0%\", padding: (editing) ? \"\" : \"0px\", height:(editing) ? \"\" : \"0px\"}}\n                    onBlur={(e) => {\n                                    console.log(\"blurring\");\n                                    setEditing(false);\n                                }}\n                    />\n                    <button className=\"edit-button\" onMouseDown={handleEditRequest} type=\"button\">\n                        <EditButton confirm={editing}/>\n                    </button>\n            </form>\n            <h2>Additional info:</h2>\n            <p className=\"project-date-info\"> <span>Created</span> {formatDate(date_created)} </p>\n            <p className=\"project-date-info\"> <span>Last edited</span> {formatDate(date_last_modified)} </p>\n        </div>\n    );\n}\n\nexport default ProjectDescription;","import React, {useState} from \"react\";\n\nimport EditButton from \"components/svg/editButton\";\n\n/**\n * this is the head component of page\n * @param \"menu_elements\" contains the list of menu-items\n */\n\n\nconst ProjectName = function({name, update}){\n\n    //this is used as a toggle for checking if the user is trying to edit the name of the project\n    const [editing, setEditing] = useState(false);\n\n    //checks if there's an edit request\n    function handleEditRequest(e){\n        if(!editing){//if the user is not editing the name yet(the check is useful because handleEditRequest and handleConfirm fire at the same time)\n            document.getElementById(\"edit-project-name-input\").focus();\n            setEditing(!editing);\n        }\n    }\n\n    //checks if the user wants to confirm the change\n    function handleConfirm(e){\n        if(editing){//if the user was editing I confirm its request and call the api(the check is useful because handleEditRequest and handleConfirm fire at the same time)\n            update();\n            setEditing(!editing);\n        }\n    }\n\n    return(\n        <div className={(editing) ? \"nav-elements\" : \"nav-elements hidden-form\"}> <h2 style={{fontSize: (editing) ? \"0px\" : \"21px\"}}>{name}</h2> \n            {/*clicking on the div containing the title will allow the user to access the form for editing the project name*/}\n            <form className=\"edit-project-name\"  onClick={handleEditRequest} onSubmit={(e) => {e.preventDefault()}}>\n                <input type=\"text\" id=\"edit-project-name-input\" defaultValue={name} style={{width: (editing) ? \"\" : \"0px\", padding: (editing) ? \"\" : \"0px\"}}\n                    onBlur={(e) => {setEditing(false)}}\n                />\n                <button className=\"edit-button\" onMouseDown={handleConfirm} type=\"button\"><EditButton confirm={editing}/></button>\n                {/*clicking on the button will confirm the new name*/}\n            </form>\n        </div>\n    );\n}\n\nexport default ProjectName;","import React from \"react\";\n\n/**\n * component svg \n */\nconst Ghost = function (props) {\n\n    return (\n        <svg version=\"1.1\" id=\"ghost\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\"\n            viewBox=\"0 0 1000 1000\">\n            <path class=\"st0-ghost\" d=\"M949.5,759c-34.3-97-89.7-188.9-98.5-293.2c0-0.3,0-0.6,0-0.9s-0.8-0.1-0.1-1c-5.7-99-58.2-209-174.7-205.1\n                C550.8,263,499.5,395.2,512,505.6c16.2,110.9,19.6,217.5,6.4,329\"/>\n            <ellipse transform=\"matrix(1.122617e-02 -0.9999 0.9999 1.122617e-02 200.0576 961.9827)\" cx=\"586.5\" cy=\"379.8\" rx=\"21.8\" ry=\"27.4\"/>\n            <ellipse transform=\"matrix(1.122617e-02 -0.9999 0.9999 1.122617e-02 329.3011 1095.6136)\" cx=\"718.6\" cy=\"381.3\" rx=\"21.8\" ry=\"29.1\"/>\n            <path d=\"M678.8,453.7c2.3,22-9.1,49.7-35.9,45.1c-26.8-4.6-21.4-27.8-21.6-47.3c-0.2-19.5-3-38.9,20.7-41.1S676.5,431.7,678.8,453.7\n                z\"/>\n            <path class=\"st1-ghost\" d=\"M407.8,331.6c31.9-17.6,51.3-40.8,51.3-66.3c0-55.2-91.5-100-204.3-100s-204.3,44.8-204.3,100\n                s91.5,100,204.3,100c33.7,0,65.5-4,93.6-11.1c21.9,31.4,51.9,40.2,98.4,39.6C417.6,378.1,408.1,355.2,407.8,331.6z\"/>\n            <text transform=\"matrix(1 0 0 1 159.4091 299.821)\" class=\"st2-ghost\">404</text>\n            <path class=\"st0-ghost\" d=\"M518.4,834.6l18.3-11.6c25.3-16.1,57.5-16.4,83.2-0.9l0,0c25.3,15.3,56.9,15.2,82.1-0.2l33.1-20.3\n                c34.3-21,76.8-23.7,113.5-7.1l0,0c37.7,17,82.1,1.4,100.8-35.5l0,0\"/>\n        </svg>\n    );\n};\n\nexport default Ghost;","import React from \"react\";\nimport Ghost from \"components/svg/ghost\";\n\n\n\n/**\n * 404 page\n */\nconst PageNotFound = function (props) {\n    //get data from global context\n    return (\n        <div className=\"page-not-found-wrapper\">\n            <Ghost/>\n        </div>\n    );\n};\n\nexport default PageNotFound;","import React, {useState, useEffect, useContext} from \"react\";\nimport {Route, Link, Switch} from 'react-router-dom';\n\nimport SearchForm from 'components/forms/searchform';\nimport SearchSimilarForm from 'components/forms/searchSimilarForm';\nimport PapersList from 'components/papers/papersList';\nimport CustomPaperPage from 'components/papers/customPaperPage';\nimport {projectsDao} from 'dao/projects.dao';\nimport LoadIcon from 'components/svg/loadIcon';\nimport ProjectDescription from 'components/projects/projectDescription';\nimport ProjectName from 'components/projects/projectName';\nimport {join} from 'utils/index';\n\nimport {AppContext} from 'components/providers/appProvider'\nimport PageNotFound from \"components/modules/pageNotFound\";\n\n\n/**\n *this component will show a projects page\n */\nconst ProjectPage = (props) => {\n\n    //project object of page\n    const [project, setProject] = useState({data: {name: \"loading...\"}});\n\n    //bool to control the visualization of page\n    const [display, setDisplay] = useState(false);\n\n    //notFound state for hiding the navbar\n    const [notFound, setNotFound] = useState(false);\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    const project_id = props.match.params.id;\n\n    //set the project title\n    useEffect(() => {\n        if(project.data.name === \"loading...\"){\n            appConsumer.setTitle(<div className=\"nav-elements\"> <h2 className=\"static-title\">{project.data.name}</h2> </div>);//I set the page title\n        }else{\n            appConsumer.setTitle(<ProjectName name={project.data.name} update={updateProject}/>);\n            appConsumer.setProjectName(project.data.name);\n        }\n    \n    }, [project]);\n\n    useEffect(() => {\n\n        //flag that represents the state of component\n        let mounted = true;\n\n        setDisplay(false);\n        //a wrapper function ask by react hook\n        const fetchData = async () => {\n            console.log(\"fetch project page\");\n\n            //call the dao\n            let res = await projectsDao.getProject(project_id);\n\n            //error checking\n            //if the component is still mounted and there is some other errors\n            if (mounted && res && res.message) {\n                //pass error object to global context\n                appConsumer.setError(res);\n            }\n            //if the component is still mounted and res isn't null\n            else if (mounted && res ) {\n                //update state\n                setProject(res);\n                //show the page\n                setDisplay(true);\n            }\n        };\n        fetchData();\n        //when the component will unmount\n        return () => {\n\n            //set flag as unmounted\n            mounted = false;\n        };\n    }, [project_id]); //re-execute when these variables change\n    \n\n    //function for updating the description and name\n    async function updateProject(){\n\n        let new_name = document.getElementById(\"edit-project-name-input\").value;\n        let new_desc = document.getElementById(\"edit-project-description-input\").value;\n\n\n        //if the new name o description are difference from the old name o description\n        if(new_name !== project.data.name || new_desc !== project.data.description){\n\n            //call the dao\n            let res = await projectsDao.putProject(project_id, {name: new_name, description : new_desc});\n\n            //error checking\n            //if is other error\n            if (res && res.message) {\n                //pass error object to global context\n                appConsumer.setError(res);\n            }\n            //if res isn't null\n            else if (res && res !== null) {\n                console.log(\"UPDATED SUCCESSFULLY!\");\n                window.location.reload();\n            }\n\n\n        }\n    }\n\n\n    let output;\n\n    //if the page is loading\n    if (display === false) {\n        //print svg image\n        output = <LoadIcon/>;\n    }\n    else {\n        output = (\n            <div className=\"project-wrapper\">\n                <ProjectPageHead match={props.match} notFound={notFound}/>\n\n                {/*route the papers list*/}\n                <Switch>\n                    <Route exact  path={props.match.url} render={function(props){\n                        setNotFound(false);\n                        return (\n                            <>\n                                <ProjectDescription description={project.data.description} update={updateProject} date_last_modified={project.date_last_modified} date_created={project.date_created}/>\n                                <PapersList project_id={project_id} location={props.location} match={props.match} history={props.history}/>\n                                <Link to={join(props.match.url,\"/addpaper\")}>\n                                    <button className=\"bottom-left-btn add-custompaper-btn\">\n                                        <div className=\"btn-title\">Add Custom Paper</div><div className=\"btn-icon\"> </div>\n                                    </button>\n                                </Link>\n\n                            </>\n                        );\n                    }}/>\n\n                    {/*route the form of search*/}\n                    <Route exact path={props.match.url + \"/search\"} render={function(props){\n                        setNotFound(false);\n                        return (<SearchForm project_id={project_id} {...props} />);\n                    }}/>\n\n                    <Route exact path={props.match.url + \"/searchsimilar\"} render={function(props){\n                        setNotFound(false);\n                        return (<SearchSimilarForm project_id={project_id} {...props} />);\n                    }}/>\n\n                    <Route path = {props.match.url + \"/addpaper\"} render={() =>\n                        <>\n                            <Link className=\"back\" to={props.match.url}>  </Link>\n                            <CustomPaperPage projectId={project.id} url={props.match.url} history={props.history}/>\n                        </>\n                    } />\n                    <Route render={(props) => {setNotFound(true); return <PageNotFound/>}}/>\n                </Switch>\n\n            </div>\n        );\n    }\n\n    return output;\n};\n\n/**\n * this is the local component to print head of project page\n */\nconst ProjectPageHead = function ({match, notFound}) {\n    const lc = window.location.hash.substr(window.location.hash.length - 9);\n    const slider = (((\"#\" + match.url) === window.location.hash.split(\"?\")[0]) || (lc === \"/addpaper\" || lc === \"addpaper/\"));\n    let output = (\n        <>\n            <div className=\"project-nav-link-wrapper\" style={{display: (notFound || (lc === \"/addpaper\" || lc === \"addpaper/\")) ? \"none\" : \"\"}}>\n                <div className=\"nav-link\">\n                    <Link to={match.url}>papers</Link>\n                </div>\n                <div className=\"nav-link\">\n                    <Link to={join(match.url, \"/search\")}>search</Link>\n                </div>\n                <div className=\"underline\" style={{left: slider ? \"25px\" : \"175px\"}}/>\n            </div>\n        </>\n    );\n    return output;\n\n};\n\n\nexport default ProjectPage;","import React, {useContext} from \"react\";\nimport {Route, Switch} from \"react-router-dom\";\n\nimport {AppContext} from 'components/providers/appProvider';\n\nimport Home from 'components/home';\nimport ProjectsList from 'components/projects/projectsList';\nimport ProjectPage from 'components/projects/projectPage';\nimport LoadIcon from 'components/svg/loadIcon';\nimport PageNotFound from \"./modules/pageNotFound\";\n\n/**\n * compotent main of page\n */\nconst Main = function(props){\n\n    let output = \"\";\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //If I'm fecthing the user I dispay a loading icon\n    if(appConsumer.userFetch){\n        output = (<LoadIcon/>);\n    }\n    //I render routes only if the user is logged\n    else if(appConsumer.user){\n        output = (\n            <Switch>\n                <Route exact path=\"/\" render={() => <Home/> }/>\n                <Route exact path=\"/projects\" render={(props) => <ProjectsList {...props} />}/>\n                <Route path=\"/projects/:id\" render={(props) => <ProjectPage {...props} />}/>\n                <Route render={(props) => <PageNotFound/>}/>\n            </Switch>\n        );\n    }\n    else{\n        output = (<Home/>);\n    }\n\n    return (\n        <div className=\"main-wrapper\">\n            {output}\n        </div>\n    );\n};\n\nexport default Main;","import React, {useContext} from \"react\";\n\nimport {AppContext} from \"components/providers/appProvider\";\n\n/**\n * this is the head component of page\n * @param props\n * @param \"menu_elements\" contains the list of menu-items\n */\n\n\nconst NavBar = function(props){\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    \n    return (\n        <div className=\"navigation-wrapper\">\n\n            {/*background of the menu-bar*/}\n            <nav className={appConsumer.user ? \"main-nav\" : \"main-nav nav-title-to-left\"}>\n                {appConsumer.title}\n            </nav>\n            {props.children}\n\n        </div>\n    );\n}\n\nexport default NavBar;","import React, {useContext} from \"react\";\nimport { AppContext } from 'components/providers/appProvider'\n\n/*\n* this is the component that visualize user information box\n* */\nconst UserInfo = function(props){\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n\n    //not logged in as default\n    let output = (\n        <div className=\"user\">\n            <h3>you're not logged in</h3>\n        </div>\n    );\n\n    //if user is logged in I load his data\n    if(appConsumer.user){\n        output = (\n            <div className=\"user\" >\n                <img className=\"face\" alt=\"profile\" src={appConsumer.user.image}/>\n                <div className=\"user-info\">\n                    {appConsumer.user.name}\n                    <br/>\n                    {appConsumer.user.surname}\n                </div>\n            </div>\n        );\n    }\n\n    return output;\n\n};\n\nexport  default  UserInfo;","import React from \"react\";\n\n/**\n * component svg menu button\n */\nconst MenuButton = function (props) {\n\n    return (\n\n        <svg id=\"menu-button\" xmlns=\"http://www.w3.org/2000/svg\" xmlnsXlink=\"http://www.w3.org/1999/xlink\"\n             x=\"0px\" y=\"0px\"\n             viewBox=\"0 0 1000 1000\">\n            <path className=\"st0\" d=\"M214,482.1\"/>\n            <line className=\"st-t\" x1=\"172\" y1=\"482.1\" x2=\"172\" y2=\"482.1\"/>\n            <line className=\"st-m\" x1=\"500\" y1=\"482.1\" x2=\"500\" y2=\"482.1\"/>\n            <line className=\"st-b\" x1=\"828\" y1=\"482.1\" x2=\"828\" y2=\"482.1\"/>\n        </svg>\n    );\n};\n\nexport default MenuButton;\n","import React, {useState, useContext} from \"react\";\nimport {Link} from 'react-router-dom';\n\nimport { AppContext } from 'components/providers/appProvider';\n\nimport UserInfo from 'components/navigation/userInfo';\nimport config from 'config/index';\nimport MenuButton from 'components/svg/menuButton';\nimport Cover from 'components/modules/cover';\n\n/**\n *this is the side menu component\n */\nconst SideMenu = function (props) {\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    //bool to control the visualization of menu\n    const [shown, setShown] = useState(false);\n    const [firstTime, setFirstTime] = useState(true);\n\n\n    //function to open/close the menu\n    function handleToggleMenuButton() {\n        setShown(!shown);\n        setFirstTime(false);\n    }\n\n    //function to close the menu\n    function handleMenuBlur(e) {\n        setShown(false);\n    }\n\n    /**\n     * logout handler function\n     */\n    async function logout (e){\n        console.log(\"logging out\");\n\n        //this way we won't trigger the menu animation again if the user logs in again \n        setFirstTime(true);\n        //remove token from storage\n        localStorage.removeItem(\"userToken\");\n        //remove user info from context\n        appConsumer.setUser(null);\n\n    }\n\n    //change the class of element by menu state\n    var clsidemenu = \"modal side-menu up\";\n    var clsbutton = \"button-wrapper close\";\n\n    if (firstTime) {\n        clsidemenu = \"modal side-menu\"\n    }\n    if (shown) {\n        clsbutton = \"button-wrapper open\"\n        clsidemenu = \"modal side-menu down\"\n    }\n\n    if(appConsumer.user){\n        return (\n            <div className=\"menu\">\n                <Cover cls={(shown) ? \"full-screen-transparent\" : \"\"} handler={handleMenuBlur}/>\n                <div className={clsbutton} onClick={handleToggleMenuButton}>\n                    <MenuButton/>\n                </div>\n\n                <div className={clsidemenu} tabIndex={-1}>\n\n                    {/*user info box*/}\n                    <UserInfo/>\n                    <PrintMenu handleMenuBlur={handleMenuBlur}/>\n                    <div className=\"entry-holder\">\n                        <button type=\"button\" className=\"menu-option\" onClick={logout} onMouseUp={handleMenuBlur}>Log out</button>\n                    </div>\n                </div>\n            </div>\n        );\n    }else{\n        return (\n            <div className=\"menu\">\n            </div>\n        );\n    }\n};\n\n/**\n *internal component that is used only for print menu items\n */\nconst PrintMenu = function (props) {\n\n    let output = (\n        config.menu_list.map((element, index) => (\n                <div key={index} className=\"entry-holder\">\n                    <Link to={element.link} className=\"menu-option\"\n                          onMouseUp={props.handleMenuBlur}>{element.content}</Link>\n                </div>\n            )\n        )\n    );\n    return output;\n\n\n}\n\n\nexport default SideMenu;","import React, {useContext} from 'react';\nimport {Link, withRouter} from 'react-router-dom';\n\nimport {AppContext} from 'components/providers/appProvider';\n\n\nconst BreadCrumbs = function(props) {\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n    \n    let bcPath = <></>;\n\n    function createBreadCrumbs(){\n\n        //I extract the location from the router\n        const { location } = props;\n\n        //I split the pathname by '/' and remove empty strings\n        let path = location.pathname.split('/').filter(x => x);\n\n        //will contain the partial url\n        let href= \"/\";\n        //will contain the link element\n        let link;\n        //array of JSX elements containing the links\n        let bc = [];\n\n        //I don't print ' > ' at the end if there's only one link\n        if(path.length === 0){\n            link = (<div key={0}></div>);\n        }else{\n            link = (<Link key={0} to={href}>Home<span> > </span></Link>);\n        }\n\n        //I push the initial breadcrumb (</> if we are in the home)\n        bc.push(link);\n\n        //I iterate over the paths taking care of links\n        for(let i = 0; i < path.length; i++){\n\n            //avoids the path '/' and the trailing slash\n            if(href === \"/\"){\n                href += path[i];//I update the partial url\n            }else{\n                href += (\"/\" + path[i]);//I update the partial url\n            }\n            \n            //I check whether is the ID of a project \n            if(path[i-1] && path[i-1] === \"projects\"){\n                //I retrieve the project title from the context\n                link = (<Link key={i+1} to={href}>{appConsumer.projectName}</Link>);\n            }else{\n                switch (path[i]) {\n                    case \"projects\":\n                        link = (<Link key={i+1} to={href}>My Projects</Link>);\n                        break;\n                    case \"searchsimilar\":\n                        link = (<Link key={i+1} to={href}>Search for similar papers</Link>);\n                        break;\n                    case \"search\":\n                        link = (<Link key={i+1} to={href}>Search</Link>);\n                        break;\n                    default:\n                        link = (<Link key={i+1} to={href}>{path[i]}</Link>);\n                        break;\n                }\n            }\n\n            //I push the link into the list of breadcrumbs\n            bc.push(link);\n\n            //I put ' > ' at the end\n            if(i < (path.length - 1)){\n                bc.push(<span key={i+9999}>{\" > \"}</span>);\n            }\n            \n        }\n        return bc;\n\n    }\n\n    if(appConsumer.user){\n        bcPath = createBreadCrumbs();\n    }\n    \n\n    return (\n        <div className=\"relative-header\">\n            <div className=\"breadcrumbs\">{bcPath}</div>\n        </div>\n    );\n\n}\n\nexport default withRouter(BreadCrumbs);\n","import React, {useContext} from \"react\";\n\nimport { AppContext } from 'components/providers/appProvider'\nimport CloseButton from 'components/svg/closeButton';\n\n/**\n * component for notification\n */\nconst Notification = function (props) {\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    let output = <></>;\n\n    //if there's a notification I sent it in input\n    if(appConsumer.notificationMessage){\n\n        //I automatically remove it after 5 seconds\n        setTimeout(() => {\n            appConsumer.setNotificationMessage(undefined);\n        }, 5000);\n\n        output = (\n            <div className=\"top-right-notification\">\n                <div className=\"message-content\">\n                    {appConsumer.notificationMessage}\n                </div>\n                <button type=\"button\" className=\"close-notification-btn\" onClick={(e) => {appConsumer.setNotificationMessage(undefined)}}>\n                    <CloseButton/>\n                </button>\n            </div>\n        );\n    }\n    return output;\n};\n\nexport default Notification;","import React, {useContext} from 'react';\nimport {withRouter} from 'react-router-dom';\nimport {GoogleLogin} from 'react-google-login';\n\nimport config from 'config/index'\n\nimport {AppContext} from 'components/providers/appProvider';\n\n\n/**\n * this component handles the google login and logout from the platform\n */\nconst UsersLogin = function (props) {\n\n    //output var\n    let output = <></>;\n\n    //get the localStorage object\n    const storage = window.localStorage;\n\n    //get history element from router\n    const { history } = props;\n\n    //get data from global context\n    const appConsumer = useContext(AppContext);\n\n    /**\n     * google response handler function\n     */\n    async function responseGoogle(response){\n        //if the google login is succeeded\n        if (response.tokenId) {\n            console.log(response.profileObj);\n            let user = {\"email\": response.profileObj.email, \n                        \"name\": response.profileObj.givenName, \n                        \"surname\": response.profileObj.familyName, \n                        \"image\": response.profileObj.imageUrl};\n\n            // set the user data in context provider\n            appConsumer.setUser(user);\n            //and save the token as string in localStorage\n            storage.setItem(\"userToken\", response.tokenId);\n\n\n            //redirect to home page\n            history.push(\"/\");\n            \n        }\n    }\n\n    //part of visualization-----------------------------\n\n    //if there's no token or I'm not fetching an user\n    if ((!storage.getItem(\"userToken\") && !appConsumer.userFetch) || (!appConsumer.userFetch && !appConsumer.user)) {\n\n        output = (\n            <div className=\"login-holder\">\n                <GoogleLogin\n                    clientId={config.google_login_client_id}\n                    buttonText=\"Login\"\n                    onSuccess={responseGoogle}\n                    onFailure={responseGoogle}\n                    cookiePolicy={'single_host_origin'}\n                />\n            </div>\n        );\n    }\n    return output;\n\n}\n\nexport default withRouter(UsersLogin); //I export passing router components\n","import React from 'react';\nimport {HashRouter as Router} from \"react-router-dom\";\n\n\n\nimport Main from 'components/main';\n\nimport NavBar from 'components/navigation/navBar';\nimport SideMenu from 'components/navigation/sideMenu';\nimport BreadCrumbs from 'components/modules/breadCrumbs';\n\nimport Notification from 'components/modules/notification';\n\nimport UsersLogin from 'components/modules/usersLogin';\n\n\nimport  {AppProvider} from 'components/providers/appProvider';\n\n\n/**\n *this is the start point of application\n */\n\nconst App = function(props) {\n\n\n        return (\n            <Router>\n                <div className=\"app\">\n\n                    {/*mount a root context object*/}\n                    <AppProvider>\n\n                        <NavBar>\n                            {/*component menu*/}\n                            <SideMenu/>\n                        </NavBar>\n\n                        <BreadCrumbs/>\n\n                        <Notification/>\n\n                        <Main/>\n\n                        <UsersLogin/>\n\n                    </AppProvider>\n                </div>\n            </Router>\n        );\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from 'App';\nimport * as serviceWorker from 'serviceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}