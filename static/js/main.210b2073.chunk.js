(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{121:function(e,t,a){e.exports=a(274)},274:function(e,t,a){"use strict";a.r(t);var r,n,l=a(0),c=a.n(l),s=a(117),o=a.n(s),i=a(5),u=a(23),m=function(e){return c.a.createElement("div",{className:"main-wrapper"},e.children)},p=a(2),d=function(e){var t=e.confirm;c.a.createElement(c.a.Fragment,null);return t?c.a.createElement("svg",{version:"1.1",id:"confirm-edit-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("polyline",{className:"st-confirm",points:"918,192.3 389.3,807.7 82,450 "})):c.a.createElement("svg",{version:"1.1",id:"edit-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("path",{className:"st-pencil",d:"M224,632.3l-81.6,225.3L367.7,776l0,0L833,310.7c39.4-39.4,39.9-103.3,0.7-142.9c-0.5-0.5-1-1-1.4-1.4 c-39.6-39.2-103.6-38.7-142.9,0.7L224,632.3L224,632.3z"}),c.a.createElement("path",{className:"st-pencil-border",d:"M367.7,776c-24-71.7-71.9-119.6-143.7-143.7"}),c.a.createElement("path",{className:"st-pencil",d:"M805.7,338c-24-71.7-71.9-119.6-143.7-143.7"}))},h=function(e){var t=Object(l.useContext)(f);return c.a.createElement("div",{className:"navigation-wrapper"},c.a.createElement("nav",{className:"main-nav"},t.title),e.children)},E=function(){var e,t=Object(l.useContext)(f);return Object(l.useEffect)(function(){return function(){t.setError(null)}}),e=t.error.payload?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Error code:"),c.a.createElement("p",null,t.error.payload.statusCode),c.a.createElement("p",null,"Error name:"),c.a.createElement("p",null,t.error.payload.error),c.a.createElement("p",null,"Error message"),c.a.createElement("p",null,t.error.payload.message)):c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"Error name:"),c.a.createElement("p",null,t.error.name),c.a.createElement("p",null,"Error message"),c.a.createElement("p",null,t.error.message)),e=c.a.createElement("div",{className:"error-wrapper",style:{textAlign:"center"}},e,c.a.createElement("br",null),c.a.createElement("button",{type:"button",onClick:function(){window.history.back(),t.setError(null)}},c.a.createElement("u",null,"return to previous page")),c.a.createElement("br",null),c.a.createElement("p",null,"or"),c.a.createElement("br",null),c.a.createElement("button",{type:"button",onClick:function(){t.setError(null)}},c.a.createElement("u",null,"refresh")))},f=c.a.createContext(),b=function(e){var t={image:c.a.createElement("img",{className:"face",alt:"profile",src:"https://placekitten.com/100/100"}),name:"Mario",surname:"Rossi"},a=Object(l.useState)(null),r=Object(p.a)(a,2),n=r[0],s=r[1],o=Object(l.useState)(c.a.createElement("div",{className:"nav-elements"}," ",c.a.createElement("h2",{className:"static-title"},"HOME")," ")),i=Object(p.a)(o,2),u={user:t,error:n,setError:s,title:i[0],setTitle:i[1]};return n?c.a.createElement(f.Provider,{value:u},c.a.createElement(E,null)):c.a.createElement(f.Provider,{value:u},e.children)},v=function(e){var t=Object(l.useContext)(f);return Object(l.useEffect)(function(){t.setTitle(c.a.createElement("div",{className:"nav-elements"}," ",c.a.createElement("h2",{className:"static-title"},"HOME")," "))},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",null,"Systematic Literature Review manager"),c.a.createElement("h2",{style:{fontSize:22,fontWeight:"normal"}},"the system right now allows you to"),c.a.createElement("ul",{style:{fontSize:18,fontWeight:"lighter"}},c.a.createElement("li",null,"browse a list of prjects"),c.a.createElement("li",null,"add a new project"),c.a.createElement("li",null,"browse the list of papers on a project"),c.a.createElement("li",null,"search(from scopus) and add papers to a project")),c.a.createElement("h2",{style:{fontSize:22,fontWeight:"normal"}},"notes"),c.a.createElement("ul",{style:{fontSize:18,fontWeight:"lighter"}},c.a.createElement("li",null,c.a.createElement("i",null,"the scopus search works partially(can't retrieve the description)"),c.a.createElement("ul",null,c.a.createElement("li",{style:{fontSize:16}},c.a.createElement("i",null,'from Elsevier developer portal : "The data available depends on your institutional subscriptions, and only when you\'re making calls from within your institutional network are you considered a subscriber"')))),c.a.createElement("li",null,c.a.createElement("i",null,"the options don't affect the search, for now"))))},x=function(e){var t=Object(l.useContext)(f);return c.a.createElement("div",{className:"user"},t.user.image,c.a.createElement("div",{className:"user-info"},t.user.name,c.a.createElement("br",null),t.user.surname))},y={home:"https://crowdai-slr-api-dev.herokuapp.com/",search:"search",scopus_search:"search-scopus",projects:"projects",papers:"papers",menu_list:[{id:4,content:"home",link:"/"},{id:5,content:"my projects",link:"/projects"},{id:6,content:"account",link:"#"}],max_total_number_for_results:5e3},g=function(e){return c.a.createElement("svg",{id:"menu-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("path",{className:"st0",d:"M214,482.1"}),c.a.createElement("line",{className:"st-t",x1:"172",y1:"482.1",x2:"172",y2:"482.1"}),c.a.createElement("line",{className:"st-m",x1:"500",y1:"482.1",x2:"500",y2:"482.1"}),c.a.createElement("line",{className:"st-b",x1:"828",y1:"482.1",x2:"828",y2:"482.1"}))},w=function(e){var t=e.cls,a=e.handler;return c.a.createElement("div",{className:"cover "+t,onClick:function(e){a(!1)}})},j=function(e){return y.menu_list.map(function(t,a){return c.a.createElement("div",{key:a},c.a.createElement(i.b,{to:t.link,className:"menu-option",onMouseUp:e.handleMenuBlur},t.content))})},k=function(e){var t=Object(l.useState)(!1),a=Object(p.a)(t,2),r=a[0],n=a[1],s=Object(l.useState)(!0),o=Object(p.a)(s,2),i=o[0],u=o[1];function m(e){n(!1)}var d="modal side-menu up",h="button-wrapper close";return i&&(d="modal side-menu"),r&&(h="button-wrapper open",d="modal side-menu down"),c.a.createElement("div",{className:"menu"},c.a.createElement(w,{cls:r?"full-screen-transparent":"",handler:m}),c.a.createElement("div",{className:h,onClick:function(){n(!r),u(!1)}},c.a.createElement(g,null)),c.a.createElement("div",{className:d,tabIndex:-1},c.a.createElement(x,null),c.a.createElement(j,{handleMenuBlur:m})))},N=a(1),O=a.n(N),S=a(15),C=a(3),B=a(18),P=a.n(B),_=1e4;function L(e){return T.apply(this,arguments)}function T(){return(T=Object(C.a)(O.a.mark(function e(t){var a,l,c,s,o,i,u,m=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=m.length>1&&void 0!==m[1]?m[1]:{},e.prev=1,r=new AbortController,l=r.signal,n=0,c=Object.assign({credentials:"include",mode:"cors",signal:l},a),s=setTimeout(function(){return r.abort(),void(n=2)},_),e.next=9,fetch(t,c);case 9:return o=e.sent,clearTimeout(s),e.next=13,I(o);case 13:return i=e.sent,D(o,i),e.abrupt("return",i);case 18:if(e.prev=18,e.t0=e.catch(1),2!==n){e.next=26;break}return(u=new Error("Error: Time out to get response from backend")).name="timeout",e.abrupt("return",u);case 26:if(1!==n){e.next=28;break}return e.abrupt("return",null);case 28:return e.abrupt("return",e.t0);case 29:case"end":return e.stop()}},e,null,[[1,18]])}))).apply(this,arguments)}function q(){return(q=Object(C.a)(O.a.mark(function e(t){var a,r,n,l=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=l.length>1&&void 0!==l[1]?l[1]:"",r="",""!==a){for(n in r="?",a)r+=n+"="+encodeURIComponent(a[n])+"&";r=r.slice(0,r.length-1)}return e.next=5,L(t+r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function X(){return(X=Object(C.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE"},e.next=3,L(t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(){return(F=Object(C.a)(O.a.mark(function e(t){var a,r,n,l,c=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"",(r=new Headers).append("Accept","application/json, text/plain, */*"),r.append("Cache-Control","no-cache"),r.append("Content-Type","application/json;charset=UTF-8"),n=JSON.stringify(a,null,2),l={method:"POST",headers:r,body:n},e.next=9,L(t,l);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return(A=Object(C.a)(O.a.mark(function e(t){var a,r,n,l,c=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>1&&void 0!==c[1]?c[1]:"",(r=new Headers).append("Accept","application/json, text/plain, */*"),r.append("Cache-Control","no-cache"),r.append("Content-Type","application/json;charset=UTF-8"),n=JSON.stringify(a,null,2),l={method:"PUT",headers:r,body:n},e.next=9,L(t,l);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e,t){if(e.status<200||e.status>=300){var a=new Error(e.statusText);throw a.data=e,t.payload&&(a.payload=t.payload),a}}function I(e){return R.apply(this,arguments)}function R(){return(R=Object(C.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.headers.get("Content-Type"),r=null,null==a){e.next=21;break}if(!(a.indexOf("text")>-1)){e.next=7;break}return e.next=6,t.text();case 6:r=e.sent;case 7:if(!(a.indexOf("form")>-1)){e.next=11;break}return e.next=10,t.formData();case 10:r=e.sent;case 11:if(!(a.indexOf("video")>-1)){e.next=15;break}return e.next=14,t.blob();case 14:r=e.sent;case 15:if(!(a.indexOf("json")>-1)){e.next=19;break}return e.next=18,t.json();case 18:r=e.sent;case 19:e.next=25;break;case 21:if(null==t){e.next=25;break}return e.next=24,t.text();case 24:r=e.sent;case 25:return e.abrupt("return",r);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}var M={get:function(e){return q.apply(this,arguments)},post:function(e){return F.apply(this,arguments)},delete:function(e){return X.apply(this,arguments)},put:function(e){return A.apply(this,arguments)},abortRequest:function(){r.abort(),n=1}};function z(){return(z=Object(C.a)(O.a.mark(function e(){var t,a,r,n=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:"",a=y.home+y.projects,e.next=4,M.get(a,t);case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return(U=Object(C.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.projects+"/"+t,e.next=3,M.get(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function V(){return(V=Object(C.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.projects,e.next=3,M.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function W(){return(W=Object(C.a)(O.a.mark(function e(t,a){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.home+y.projects+"/"+t,e.next=3,M.put(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(){return(J=Object(C.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.projects+"/"+t,e.next=3,M.delete(a);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var H={getProjectsList:function(){return z.apply(this,arguments)},getProject:function(e){return U.apply(this,arguments)},postProject:function(e){return V.apply(this,arguments)},putProject:function(e,t){return W.apply(this,arguments)},deleteProject:function(e){return J.apply(this,arguments)},abortRequest:M.abortRequest},Y=function(e){return c.a.createElement("svg",{id:"loading-icon",className:e.class,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("g",null,c.a.createElement("path",{id:"loading-circle1",d:" M 500, 500 m -160, 0 a 160,160 0 1,0 320,0 a 160,160 0 1,0 -320,0 "}),c.a.createElement("path",{id:"loading-circle2",d:" M 500, 500 m -305, 0 a 305,305 0 1,0 610,0 a 305,305 0 1,0 -610,0 "})))},K=a(9),G=function(e){return c.a.createElement("svg",{id:"close-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("line",{className:"ln",x1:"134",y1:"866",x2:"866",y2:"134"}),c.a.createElement("line",{className:"ln",x1:"134",y1:"134",x2:"866",y2:"866"}))};var $=function(e){var t=a(76),r=Object(l.useState)(!1),n=Object(p.a)(r,2),s=(n[0],n[1],t.object().shape({name:t.string().required("please enter a title"),description:t.string().required("please enter a description")})),o=Object(l.useContext)(f);return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.c,{initialValues:{name:"",description:""},validationSchema:s,onSubmit:function(){var t=Object(C.a)(O.a.mark(function t(a,r){var n,l,c;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.setSubmitting,l={name:a.name,description:a.description},t.next=4,H.postProject(l);case 4:(c=t.sent).message?o.setError(c):e.history.push("/projects/"+c.id),n(!1);case 7:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),validateOnBlur:!1},function(t){var a=t.errors,r=t.touched,n=t.isSubmitting,l=(t.setErrors,t.validateField),s=t.handleChange;return c.a.createElement(K.b,{className:"modal add-project",style:{visibility:e.visibility?"":"hidden"}},c.a.createElement("button",{type:"button",className:"close-btn",onClick:function(t){e.setVisibility(!e.visibility)}},c.a.createElement(G,null)),c.a.createElement("br",null),c.a.createElement(K.a,{style:{borderBottom:a.name&&r.name?"solid 1px #d81e1e":""},name:"name",type:"text",placeholder:"Project Name",onChange:function(e){s(e),l("name")}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement(K.a,{style:{borderBottom:a.description&&r.description?"solid 1px #d81e1e":""},name:"description",component:"textarea",placeholder:"Project Description"}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",disabled:n||a.name&&r.name||a.description&&r.description},"Add Project"))}))};var Q=function(e){var t=e.start,a=e.count,r=e.totalResults,n=e.path;r>y.max_total_number_for_results&&(r=y.max_total_number_for_results),n=function(e){var t=window.location.href.split("?")[1];if(t){t=t.split("#")[0];for(var a="",r=t.split("&"),n=0;n<r.length;n++){var l=r[n].split("=")[0];"start"!==l&&"count"!==l&&(a+=r[n]+"&")}e=e+"?"+a}else e+="?";return e}(n);var l="",s="",o="",u="",m=[],p=Math.floor(t/a)+1,d=Math.ceil(r/a);if(d>1){p>1&&(l=c.a.createElement("li",null,c.a.createElement(i.b,{className:"prev-page",to:n+"start="+((p-1)*a>0?(p-2)*a:0)+"&count="+a},"<"))),p<d&&(s=c.a.createElement("li",null,c.a.createElement(i.b,{className:"next-page",to:n+"start="+p*a+"&count="+a},">"))),p>6&&(o=c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(i.b,{className:"first-page",to:n+"start=0&count="+a},"1")),c.a.createElement("li",null,c.a.createElement("span",null,"...")))),p<d-5&&(u=c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement("span",null,"...")),c.a.createElement("li",null,c.a.createElement(i.b,{style:{display:"inline-block"},className:"last-page",to:n+"start="+(d-1)*a+"&count="+a},d))));for(var h=p-4;h<=p+4;h++)h>0&&h<=d&&(h!==p?m.push(c.a.createElement(i.b,{className:"normal-page",to:n+"start="+(h-1)*a+"&count="+a},h)):m.push(c.a.createElement("span",{className:"current-page"},p)))}return c.a.createElement("ul",{className:"pagination"},l,o,m.map(function(e,t){return c.a.createElement("li",{style:{display:"inline-block",margin:10},key:t},e)}),u,s)};function Z(e,t){return"/"===e.charAt(e.length-1)?e.slice(0,-1)+t:e+t}function ee(e){for(var t="?",a=Object.keys(e),r=0;r<a.length;r++)"date_created"===e.orderBy&&"sort"===a[r]||(t+=a[r]+"="+encodeURIComponent(e[a[r]]),r!==a.length-1&&(t+="&"));return t}function te(e,t,a){for(var r=-1,n=0;n<e.length;n++)if(e[n][t]===a){r=n;break}return r}var ae=function(e){return c.a.createElement("svg",{version:"1.1",id:"options-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("path",{className:"st0",d:"M214,482.1"}),c.a.createElement("line",{className:"st-options",x1:"500",y1:"250",x2:"500",y2:"250"}),c.a.createElement("line",{className:"st-options",x1:"500",y1:"500",x2:"500",y2:"500"}),c.a.createElement("line",{className:"st-options",x1:"500",y1:"750",x2:"500",y2:"750"}))},re=function(e){var t=e.cls,a=e.options,r=e.handler,n=e.target,s=Object(l.useState)(!1),o=Object(p.a)(s,2),i=o[0],u=o[1];return c.a.createElement("div",{className:t},c.a.createElement("button",{type:"button",onBlur:function(e){i&&u(!1)},onMouseDown:function(e){u(!i)}},c.a.createElement(ae,null)),c.a.createElement("div",{style:{fontSize:i?"12px":"0px",padding:i?"2px":"0px",border:i?"solid 1px #e8e8e8":"solid 0px #e8e8e8"},className:"options-list"},a.map(function(e,t){return c.a.createElement("div",{key:t,onMouseDown:function(t){return r(n,e)},className:"option"},e)})))},ne=function(e){var t,a=e.projectsList,r=e.path,n=e.handleDelete,l=["delete"];return t=0===a.length?c.a.createElement("div",null,"there aren't projects"):a.map(function(e,t){return c.a.createElement("div",{key:e.id,className:"light-modal project-card"},c.a.createElement(re,{options:l,handler:n,target:e.id,cls:"card-options project-card-options"}),c.a.createElement(i.b,{to:Z(r,"/"+e.id)},c.a.createElement("h3",null,e.data.name),c.a.createElement("p",null,e.data.description)))}),c.a.createElement("div",{className:"project-cards-holder"},t)};var le=function(e){var t=Object(l.useState)([]),a=Object(p.a)(t,2),r=a[0],n=a[1],s=Object(l.useState)(0),o=Object(p.a)(s,2),i=o[0],u=o[1],m=Object(l.useState)(!1),d=Object(p.a)(m,2),h=d[0],E=d[1],b=Object(l.useState)(!1),v=Object(p.a)(b,2),x=v[0],y=v[1],g=Object(l.useContext)(f),j=function(e){var t=P.a.parse(e),a=t.count||10;return{start:t.start||0,count:a}}(e.location.search);function k(){return(k=Object(C.a)(O.a.mark(function e(t){var a,l;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("deleting "+t),e.next=3,H.deleteProject(t);case 3:(a=e.sent).message?g.setError(a):null!==a&&(l=r.filter(function(e){return e.id!==t}),n(l),alert("DELETED SUCCESSFULLY!"));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(l.useEffect)(function(){g.setTitle(c.a.createElement("div",{className:"nav-elements"}," ",c.a.createElement("h2",{className:"static-title"},"PROJECTS")," "))},[]),Object(l.useEffect)(function(){return function(){var e=Object(C.a)(O.a.mark(function e(){var t,a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,H.getProjectsList(Object(S.a)({orderBy:"date_last_modified"},j));case 3:(t=e.sent)&&"Not Found"===t.message?(n([]),u(0),E(!0)):t&&t.message?g.setError(t):null!==t&&(a=t.results.filter(function(e,t){if(t%2)return e}),r=[],r=t.results.filter(function(e,t){if(!(t%2))return e}),n(r.concat(a)),u(t.totalResults),E(!0));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){H.abortRequest()}},[j.start,j.count]),!1===h?c.a.createElement(Y,null):c.a.createElement("div",null,c.a.createElement(w,{cls:x?"full-screen":"",handler:y}),c.a.createElement(ne,{projectsList:r,path:e.match.url,handleDelete:function(e){return k.apply(this,arguments)}}),c.a.createElement(Q,{start:j.start,count:j.count,totalResults:i,path:e.match.url}),c.a.createElement($,{visibility:x,setVisibility:y,history:e.history}),c.a.createElement("button",{className:"bottom-left-btn add-project-btn",type:"button",value:"toggle-insert-form",onClick:function(e){y(!x)}},c.a.createElement("div",{className:"btn-title"},"Add Project"),c.a.createElement("div",{className:"btn-icon"}," ")))},ce=a(72),se=a(73),oe=a(50),ie=a.n(oe);function ue(){return(ue=Object(C.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.search,e.next=3,M.get(a,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var me={search:function(e){return ue.apply(this,arguments)},abortRequest:M.abortRequest};function pe(){return(pe=Object(C.a)(O.a.mark(function e(t){var a,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.papers,e.next=3,M.get(a,t);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(){return(de=Object(C.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.papers+"/"+t,e.next=3,M.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(){return(he=Object(C.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.papers,e.next=3,M.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ee(){return(Ee=Object(C.a)(O.a.mark(function e(t,a){var r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=y.home+y.papers+"/"+t,e.next=3,M.put(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function fe(){return(fe=Object(C.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.home+y.papers+"/"+t,e.next=3,M.delete(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var be={getPapersList:function(e){return pe.apply(this,arguments)},getPaper:function(e){return de.apply(this,arguments)},postPaperIntoProject:function(e){return he.apply(this,arguments)},putPaper:function(e,t){return Ee.apply(this,arguments)},deletePaper:function(e){return fe.apply(this,arguments)},abortRequest:M.abortRequest},ve=function(e){return c.a.createElement("svg",{id:"select-tick",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("polyline",{className:"st-tick",points:"918,192.3 389.3,807.7 82,450 "},c.a.createElement("animate",{attributeName:"points",dur:"0.2s",repeatCount:"1",fill:"freeze",from:"500,600 400,700 200,750",to:"918,192.3 389.3,807.7 82,450 "})))},xe=function(e){var t=e.val,a=e.name,r=e.label,n=e.isChecked,l=e.handler,s="";return n&&(s=c.a.createElement(ve,null)),c.a.createElement("label",{className:"checkbox-container"},c.a.createElement("input",{type:"checkbox",value:t,name:a,checked:n,onChange:l}),c.a.createElement("span",{className:"checkmark"},s),c.a.createElement("span",null,r))},ye=function(e){return c.a.createElement("svg",{id:"radio-tick",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("circle",{className:"st-circle",cx:"500",cy:"500",r:"375"},c.a.createElement("animate",{attributeName:"r",dur:"0.2s",repeatCount:"1",fill:"freeze",from:"0",to:"375"})))},ge=function(e){var t=e.label,a=e.name,r=e.val,n=e.isChecked,l=e.handler,s="";return n&&(s=c.a.createElement(ye,null)),c.a.createElement("label",{className:"radiobox-container"},c.a.createElement("input",{type:"radio",value:r,name:a,checked:n,onChange:l}),c.a.createElement("span",{className:"radiomark"},s),c.a.createElement("span",null,t))},we=function(e){return c.a.createElement("svg",{id:"search-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("path",{className:"st0",d:"M626.9,644.3c-73.5,0-142.6-28.6-194.6-80.6s-80.6-121.1-80.6-194.6s28.6-142.6,80.6-194.6 c52-52,121.1-80.6,194.6-80.6c73.5,0,142.6,28.6,194.6,80.6c52,52,80.6,121.1,80.6,194.6s-28.6,142.6-80.6,194.6 S700.4,644.3,626.9,644.3z"}),c.a.createElement("line",{className:"st1",x1:"145.2",y1:"850.8",x2:"431.7",y2:"564.3"}))},je=function(e){var t=e.papersList,a=e.handlePaperSelection,r=e.selectedEidList;return t.map(function(e,t){return c.a.createElement("div",{key:t,className:"paper-card"},c.a.createElement(xe,{name:e.title,label:"",val:e.eid,isChecked:r.includes(e.eid),handler:a}),c.a.createElement(i.b,{to:"#"},c.a.createElement("h3",null,e.title)),c.a.createElement("div",{className:"extra-info"},c.a.createElement("p",{className:"authors"},e.authors),c.a.createElement("p",{className:"eid"},e.eid),c.a.createElement("p",{className:"date"},e.date)),c.a.createElement(ie.a,{text:e.abstract,lines:4,ellipsis:"...",className:"paragraph",moreText:"more",lessText:"less"}))})},ke=function(e){var t=e.papersList,a=(e.location,e.history,Object(l.useState)(t)),r=Object(p.a)(a,2),n=r[0],s=r[1],o=Object(l.useContext)(f),u=["delete"];function m(e,t){return d.apply(this,arguments)}function d(){return(d=Object(C.a)(O.a.mark(function e(t,a){var r,l;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("delete"!==a){e.next=6;break}return console.log("deleting "+t),e.next=4,be.deletePaper(t);case 4:(r=e.sent).message?o.setError(r):null!==r&&(alert("DELETED SUCCESSFULLY!"),l=n.filter(function(e){return e.id!==t}),s(l));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}return 0===n.length?c.a.createElement("div",null,"there are no papers here, you can add new ones by searching"):n.map(function(e){return c.a.createElement("div",{key:e.id,className:"paper-card"},c.a.createElement(re,{options:u,handler:m,target:e.id,cls:"card-options paper-card-options"}),c.a.createElement(i.b,{to:"#"},c.a.createElement("h3",null,e.data.title)),c.a.createElement("div",{className:"extra-info"},c.a.createElement("p",{className:"authors"},e.data.authors),c.a.createElement("p",{className:"eid"},e.data.eid),c.a.createElement("p",{className:"date"},e.data.date)),c.a.createElement(ie.a,{text:e.data.abstract,lines:4,ellipsis:"...",className:"paragraph",moreText:"more",lessText:"less"}))})},Ne=function(e){var t="",a="";return e.focused?(t="90,295.5 500,704.5 910,295.5 ",a="90,704.5 500,295.5 910,704.5 "):(t="90,704.5 500,295.5 910,704.5 ",a="90,295.5 500,704.5 910,295.5 "),c.a.createElement("svg",{version:"1.1",id:"arrow-select",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("polyline",{className:"st-arrow-select",points:t},c.a.createElement("animate",{attributeType:"XML",id:"ani-select-arrow",attributeName:"points",from:t,to:a,begin:"0s",dur:"0.2s",repeatCount:"1",fill:"freeze"})))},Oe=function(e){var t=e.options,a=e.selected,r=e.handler,n=Object(l.useState)(!1),s=Object(p.a)(n,2),o=s[0],i=s[1];function u(e){document.getElementById("ani-select-arrow").beginElement(),i(!o)}return c.a.createElement("div",{className:"custom-select"},c.a.createElement("div",{className:"selected",tabIndex:-2,onBlur:u,onFocus:u},t[a].label," ",c.a.createElement("div",{className:"arrow"},c.a.createElement(Ne,{focused:o}))),c.a.createElement("div",{className:"options-holder",style:{fontSize:o?"15px":"0px",borderBottom:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderLeft:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderRight:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderTop:"none"}},t.map(function(e,t){return c.a.createElement("div",{key:t,"data-value":t,className:"option",style:{padding:o?"2px":"0px"},onMouseDown:r},e.label)})))},Se=function(e){var t=e.display,a=e.up;console.log("UP => "+a);var r="",n="",l="";return"ASC"===a?(n="371.7,293 500,165 628.3,293 ",l="371.7,491.9 500,619.9 628.3,491.9 "):(n="371.7,491.9 500,619.9 628.3,491.9 ",l="371.7,293 500,165 628.3,293 "),t&&(r=c.a.createElement("svg",{version:"1.1",id:"order-arrow",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("polyline",{className:"st-order-arrow-head",points:l,transform:"matrix(1.5303008,0,0,1.5303008,-279.47582,-105.57059)"},c.a.createElement("animate",{attributeType:"XML",id:"ani-order-arrow",attributeName:"points",from:n,to:l,begin:"0s",dur:"0.2s",repeatCount:"1",fill:"freeze"})),c.a.createElement("line",{className:"st-order-arrow",x1:"485.67453",y1:"145.09268",x2:"485.67453",y2:"827.75989"}))),r},Ce=function(e){return c.a.createElement("svg",{id:"remove-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},c.a.createElement("line",{className:"rb",x1:"134",y1:"866",x2:"866",y2:"134"}),c.a.createElement("line",{className:"rb",x1:"134",y1:"134",x2:"866",y2:"866"}))},Be=a(273),Pe=[{label:"Title",value:"title"},{label:"Date",value:"date"}],_e=[{label:"all",value:"all"},{label:"author",value:"author"},{label:"content",value:"content"},{label:"adv. query",value:"advanced"}],Le=["all"].concat(Object(se.a)(Be.range(2017,2020).map(String))),Te=function(e){var t=e.selectedPapersList,a=e.handlePaperSelection;return c.a.createElement("div",{className:"selected-papers-list",style:{opacity:t.length>0?"1.0":"0.0",pointerEvents:t.length>0?"auto":"none"}},c.a.createElement("h3",null,"SELECTED PAPERS"," ",c.a.createElement("br",null),c.a.createElement("span",null,"(total : ",t.length,")")),c.a.createElement("div",{className:"submission-wrapper"},c.a.createElement("div",{className:"papers-wrapper",style:{border:t.length>0?"":"0px"}},c.a.createElement("div",{className:"papers-flex",style:{padding:t.length>0?"":"0px"}},t.map(function(e,t){return c.a.createElement("p",{key:t},c.a.createElement("span",null,e.title),c.a.createElement("button",{type:"button",className:"remove-btn",name:e.title,value:e.eid,onClick:function(t){a({target:{name:e.title,value:e.eid}})}},c.a.createElement(Ce,null)))}))),c.a.createElement("button",{style:{border:t.length>0?"":"0px",margin:t.length>0?"":"0px",height:t.length>0?"":"0px",pointerEvents:t.length>0?"auto":"none"},className:"ti-btn add-resultpaper-btn",type:"submit",value:"Submit"},c.a.createElement("div",{className:"btn-title"},"Add Selected Paper"),c.a.createElement("div",{className:"btn-icon"}," "))))};var qe=function(e){var t=e.project_id,a=e.location,r=e.match,n=e.history,s=Object(l.useState)([]),o=Object(p.a)(s,2),i=o[0],u=o[1],m=Object(l.useState)(!0),d=Object(p.a)(m,2),h=d[0],E=d[1],b=Object(l.useState)(0),v=Object(p.a)(b,2),x=v[0],y=v[1],g=Object(l.useContext)(f),w=function(e){var t,a=P.a.parse(e),r=a.query||"",n=a.searchBy||"all",l=a.orderBy||"title",c=a.sort||"ASC",s=a.start||0,o=a.count||10;t=void 0===a.scopus||"true"===a.scopus;var i="true"===a.googleScholar,u="true"===a.arXiv,m=a.year||"all";return{query:r,searchBy:n,orderBy:l,sort:c,scopus:t,googleScholar:i,arXiv:u,year:m,start:s,count:o}}(a.search),j=Object(l.useState)([]),k=Object(p.a)(j,2),N=k[0],B=k[1],_=Object(l.useState)("_"),L=Object(p.a)(_,2),T=L[0],q=L[1],X=Object(l.useState)({scopus:!0,googleScholar:!1,arXiv:!1}),F=Object(p.a)(X,2),A=F[0],D=F[1],I=Object(l.useState)("all"),R=Object(p.a)(I,2),M=R[0],z=R[1],U=Object(l.useState)("all"),V=Object(p.a)(U,2),W=V[0],J=V[1];function H(e){var t=parseInt(e.target.getAttribute("data-value"));w.orderBy=Pe[t].value;var a=ee(w);n.push(a)}function K(e){document.getElementById("ani-order-arrow").beginElement(),"ASC"===w.sort?w.sort="DESC":w.sort="ASC";var t=ee(w);n.push(t)}function G(e){var t,a=e.target.value,r=e.target.name;-1===te(N,"eid",a)?(t=Object(se.a)(N)).push({eid:a,title:r}):t=N.filter(function(e){return e.eid!==a}),B(t)}function $(){return($=Object(C.a)(O.a.mark(function e(a){var r,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=N.map(function(e){return e.eid}),e.next=4,be.postPaperIntoProject({arrayEid:r,project_id:t});case 4:if(!(n=e.sent)||!n.message){e.next=8;break}return g.setError(n),e.abrupt("return",null);case 8:B([]),alert("insert completed");case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Z(){return(Z=Object(C.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===T?alert("search string is empty"):(w.query=T,w.scopus=A.scopus,w.googleScholar=A.googleScholar,w.arXiv=A.arXiv,w.searchBy=M,w.year=W,a=ee(w),n.push(a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ae(e){var t;switch(e.target.name){case"query":q(e.target.value);break;case"scopus":(t=Object(S.a)({},A)).scopus=!A.scopus,D(t);break;case"googleScholar":(t=Object(S.a)({},A)).googleScholar=!A.googleScholar,D(t);break;case"arXiv":(t=Object(S.a)({},A)).arXiv=!A.arXiv,D(t);break;case"searchBy":z(e.target.value);break;case"year":J(e.target.value)}}Object(l.useEffect)(function(){!function(){var e=Object(C.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(q(w.query),D({scopus:w.scopus,googleScholar:w.googleScholar,arXiv:w.arXiv}),z(w.searchBy),J(w.year),""===w.query){e.next=10;break}return E(!1),e.next=8,me.search(w);case 8:(t=e.sent)&&"Not Found"===t.message?(u([]),y(0),E(!0)):t&&t.message?g.setError(t):null!==t&&(u(t.results),y(t.totalResults),E(!0));case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[t,w.query,w.orderBy,w.searchBy,w.sort,w.year,w.start,w.count,w.scopus,w.googleScholar,w.arXiv]);var re=c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:""===w.query?"search-form":"search-form small",onSubmit:function(e){return Z.apply(this,arguments)}},c.a.createElement("div",{style:{position:"relative"}},c.a.createElement("input",{type:"text",placeholder:"search",name:"query",value:T,onChange:ae}),c.a.createElement("button",{type:"submit",value:"Submit"},c.a.createElement(we,null))),c.a.createElement("div",{className:"option-holder"},c.a.createElement("label",null,"Source:"),c.a.createElement("br",null),c.a.createElement("div",{className:"checkboxes-holder"},c.a.createElement(xe,{label:"Scopus",name:"scopus",val:"",isChecked:A.scopus,handler:ae}),c.a.createElement(xe,{label:"Google Scholar",name:"googleScholar",val:"",isChecked:A.googleScholar,handler:ae}),c.a.createElement(xe,{label:"arXiv",name:"arXiv",val:"",isChecked:A.arXiv,handler:ae})),c.a.createElement("label",null,"Search by:"),c.a.createElement("br",null),c.a.createElement("div",{className:"checkboxes-holder"},c.a.createElement(ge,{label:_e[0].label,name:"searchBy",val:_e[0].value,isChecked:M===_e[0].value,handler:ae}),c.a.createElement(ge,{label:_e[1].label,name:"searchBy",val:_e[1].value,isChecked:M===_e[1].value,handler:ae}),c.a.createElement(ge,{label:_e[2].label,name:"searchBy",val:_e[2].value,isChecked:M===_e[2].value,handler:ae}),c.a.createElement(ge,{label:_e[3].label,name:"searchBy",val:_e[3].value,isChecked:M===_e[3].value,handler:ae})),c.a.createElement("label",null,"Year:"),c.a.createElement("br",null),c.a.createElement("div",{className:"checkboxes-holder"},Le.map(function(e,t){return c.a.createElement(ge,{key:t,label:e,name:"year",val:e,isChecked:W===e,handler:ae})}))))),ne="";if(!1===h)ne=c.a.createElement("div",{className:"paper-card-holder"},c.a.createElement("div",{className:"order",style:{pointerEvents:"none"}},c.a.createElement("label",null,"sort by:"),c.a.createElement(Oe,{options:Pe,selected:te(Pe,"value",w.orderBy),handler:H}),c.a.createElement("button",{type:"button",onClick:K},c.a.createElement(Se,{display:!0,up:w.sort}))),c.a.createElement(Te,{selectedPapersList:N}),c.a.createElement("div",{className:"search-loading-holder"},c.a.createElement(Y,{class:"small"})));else if(0===i.length&&""!==w.query)ne=c.a.createElement("div",{className:"not-found"}," not found :( ");else if(i.length>0&&""!==w.query){var le=N.map(function(e){return e.eid});ne=c.a.createElement("div",{className:"paper-card-holder"},c.a.createElement("div",{className:"order"},c.a.createElement("label",null,"sort by:"),c.a.createElement(Oe,{options:Pe,selected:te(Pe,"value",w.orderBy),handler:H}),c.a.createElement("button",{type:"button",onClick:K},c.a.createElement(Se,{display:!0,up:w.sort}))),c.a.createElement(Te,{selectedPapersList:N,handlePaperSelection:G}),c.a.createElement(je,{papersList:i,handlePaperSelection:G,selectedEidList:le}),c.a.createElement(Q,{start:w.start,count:w.count,totalResults:x,path:r.url}))}return c.a.createElement(c.a.Fragment,null,re,c.a.createElement("form",{className:"search-results",onSubmit:function(e){return $.apply(this,arguments)}},ne))},Xe=[{value:"date_created",label:"most recent"},{value:"title",label:"Title"},{value:"authors",label:"Authors"}];var Fe=function(e){var t,a=e.project_id,r=e.location,n=e.match,s=e.history,o=Object(l.useState)([]),i=Object(p.a)(o,2),u=i[0],m=i[1],d=Object(l.useState)(0),h=Object(p.a)(d,2),E=h[0],b=h[1],v=Object(l.useState)(!1),x=Object(p.a)(v,2),y=x[0],g=x[1],w=Object(l.useContext)(f),j=function(e){var t=P.a.parse(e),a=t.count||10,r=t.start||0,n=t.orderBy||"date_created",l=t.sort||"ASC";return"date_created"===n&&(l="DESC"),{orderBy:n,sort:l,start:r,count:a}}(r.search),k=Object(l.useState)(j.sort),N=Object(p.a)(k,2),B=N[0],_=N[1];function L(e){var t=parseInt(e.target.getAttribute("data-value"));"date_created"===j.orderBy&&(j.sort="ASC"),j.orderBy=Xe[t].value;var a=ee(j);s.push(a)}function T(e){"ASC"===j.sort?j.sort="DESC":j.sort="ASC";var t=ee(j);s.push(t)}return Object(l.useEffect)(function(){return"date_created"!==j.orderBy&&B!==j.sort&&(_(j.sort),document.getElementById("ani-order-arrow").beginElement()),function(){var e=Object(C.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.next=3,be.getPapersList(Object(S.a)({project_id:a},j));case 3:(t=e.sent)&&"Not Found"===t.message?(m([]),b(0),g(!0)):t&&t.message?w.setError(t):null!==t&&(m(t.results),b(t.totalResults),g(!0));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){be.abortRequest()}},[j.start,j.count,j.sort,j.orderBy]),t=!1===y?c.a.createElement("div",{className:"paper-card-holder"},c.a.createElement("div",{className:"order",style:{pointerEvents:"none"}},c.a.createElement("label",null,"sort by:"),c.a.createElement(Oe,{options:Xe,selected:te(Xe,"value",j.orderBy),handler:L}),c.a.createElement("button",{type:"button",onClick:T},c.a.createElement(Se,{display:"date_created"!==j.orderBy,up:B}))),c.a.createElement(Y,{class:"small"})):c.a.createElement("div",{className:"paper-card-holder"},c.a.createElement("div",{className:"order"},c.a.createElement("label",null,"sort by:"),c.a.createElement(Oe,{options:Xe,selected:te(Xe,"value",j.orderBy),handler:L}),c.a.createElement("button",{type:"button",onClick:T},c.a.createElement(Se,{display:"date_created"!==j.orderBy,up:B}))),c.a.createElement(ke,{papersList:u,location:r,history:s}),c.a.createElement(Q,{start:j.start,count:j.count,totalResults:E,path:n.url})),t=c.a.createElement("div",{className:"papers-list"},t)},Ae=function(e){var t=e.options,a=e.form,r=e.name,n=Object(l.useState)(!1),s=Object(p.a)(n,2),o=s[0],i=s[1],u=Object(l.useState)(0),m=Object(p.a)(u,2),d=m[0],h=m[1];function E(e){var t=parseInt(e.target.getAttribute("data-value"));h(t)}function f(e){document.getElementById("ani-select-arrow").beginElement(),i(!o)}return Object(l.useEffect)(function(){a.setFieldValue(r,t[d].value)},[d]),c.a.createElement("div",{className:"custom-select"},c.a.createElement("div",{className:"selected",tabIndex:-2,onBlur:f,onFocus:f},t[d].label," ",c.a.createElement("div",{className:"arrow"},c.a.createElement(Ne,{focused:o}))),c.a.createElement("div",{className:"options-holder",style:{fontSize:o?"15px":"0px",borderBottom:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderLeft:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderRight:o?"1px solid #d7d7d7":"0px solid #d7d7d7",borderTop:"none"}},t.map(function(e,t){return c.a.createElement("div",{key:t,"data-value":t,className:"option",style:{padding:o?"2px":"0px"},onMouseDown:E},e.label)})))},De=[{value:"article",label:"Article"},{value:"book_chapter",label:"Book Chapter"},{value:"conf_publication",label:"Conf. Publication"}];var Ie=function(e){var t=a(76),r=t.object().shape({title:t.string().required("please enter a title"),authors:t.string().required("please enter an author"),eid:t.string().required("please enter the paper eid"),date:t.string().required("please enter a date"),abstract:t.string().required("please enter the abstract")}),n=Object(l.useContext)(f);return c.a.createElement(c.a.Fragment,null,c.a.createElement(K.c,{initialValues:{title:"",eid:"",authors:"",document_type:"",date:"",abstract:""},validationSchema:r,onSubmit:function(){var t=Object(C.a)(O.a.mark(function t(a,r){var l,c,s;return O.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l=r.setSubmitting,c=Object(S.a)({},a,{year:a.date.substr(0,4),source_title:a.title,link:"custom_paper",source:"slr_custom_papers",abstract_structured:"0",filter_oa_include:"0",filter_study_include:"0",notes:""}),console.log(c),t.next=5,be.postPaperIntoProject({paper:c,project_id:e.projectId});case 5:(s=t.sent)&&s.message?n.setError(s):e.history.push(e.url),l(!1);case 8:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}(),validateOnBlur:!1},function(e){var t=e.errors,a=e.touched,r=e.isSubmitting;return c.a.createElement(K.b,{className:"new-paper-form"},c.a.createElement(K.a,{style:{borderBottom:t.title&&a.title?"1px solid #d81e1e":""},id:"title",name:"title",type:"text",placeholder:"Paper Title"}),c.a.createElement("div",{className:"new-paper-form-ad"},c.a.createElement("div",null,c.a.createElement(K.a,{style:{borderBottom:t.authors&&a.authors?"1px solid #d81e1e":""},name:"authors",type:"text",placeholder:"paper author"}),c.a.createElement(K.a,{style:{borderBottom:t.eid&&a.eid?"1px solid #d81e1e":""},name:"eid",type:"text",placeholder:"Paper EID"})),c.a.createElement("div",null,c.a.createElement(K.a,{style:{borderBottom:t.date&&a.date?"1px solid #d81e1e":""},name:"date",type:"date"}),c.a.createElement(K.a,{name:"document_type",render:function(e){var t=e.field,a=e.form;return c.a.createElement(Ae,Object.assign({options:De},t,{form:a}))}}))),c.a.createElement(K.a,{style:{borderBottom:t.abstract&&a.abstract?"1px solid #d81e1e":""},name:"abstract",placeholder:"Paper Abstract",component:"textarea"}),c.a.createElement("button",{type:"submit",disabled:r||t.title&&a.title||t.authors&&a.authors||t.eid&&a.eid||t.date&&a.date||t.abstract&&a.abstract},"Add paper"))}))},Re=function(e){var t=e.description,a=e.update,r=Object(l.useState)(!1),n=Object(p.a)(r,2),s=n[0],o=n[1];return c.a.createElement("div",{className:s?"project-description":"project-description hidden-form-description"},c.a.createElement("h2",null,"description:"),c.a.createElement("p",{style:{fontSize:s?"0px":"15px"}}," ",t),c.a.createElement("form",{className:"edit-project-description"},c.a.createElement("textarea",{id:"edit-project-description-input",defaultValue:t,style:{width:s?"100%":"0%",padding:s?"":"0px",height:s?"":"0px"},onBlur:function(e){console.log("blurring"),o(!1)}}),c.a.createElement("button",{className:"edit-button",onMouseDown:function(e){console.log("CLICK"),s?a():(setTimeout(function(){document.getElementById("edit-project-description-input").focus()},100),o(!0),console.log(s))},type:"button"},c.a.createElement(d,{confirm:s}))))},Me=function(e){var t=e.name,a=e.update,r=Object(l.useState)(!1),n=Object(p.a)(r,2),s=n[0],o=n[1];return c.a.createElement("div",{className:s?"nav-elements":"nav-elements hidden-form"}," ",c.a.createElement("h2",{style:{fontSize:s?"0px":"21px"}},t),c.a.createElement("form",{className:"edit-project-name",onClick:function(e){s||(document.getElementById("edit-project-name-input").focus(),o(!s))},onSubmit:function(e){e.preventDefault()}},c.a.createElement("input",{type:"text",id:"edit-project-name-input",defaultValue:t,style:{width:s?"":"0px",padding:s?"":"0px"},onBlur:function(e){o(!1)}}),c.a.createElement("button",{className:"edit-button",onMouseDown:function(e){s&&(a(),o(!s))},type:"button"},c.a.createElement(d,{confirm:s}))))},ze=function(e){var t=e.match,a=e.notFound,r=window.location.hash.substr(window.location.hash.length-9),n="#"+t.url===window.location.hash.split("?")[0]||"/addpaper"===r||"addpaper/"===r;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"project-nav-link-wrapper",style:{display:a||"/addpaper"===r||"addpaper/"===r?"none":""}},c.a.createElement("div",{className:"nav-link"},c.a.createElement(i.b,{to:t.url},"papers")),c.a.createElement("div",{className:"nav-link"},c.a.createElement(i.b,{to:Z(t.url,"/search")},"search")),c.a.createElement(ce.b,{flipKey:n},c.a.createElement(ce.a,{flipId:"underline"},c.a.createElement("div",{className:n?"underline underline-to-left":"underline underline-to-right"})))))},Ue=function(e){var t=Object(l.useState)({data:{name:"loading..."}}),a=Object(p.a)(t,2),r=a[0],n=a[1],s=Object(l.useState)(!1),o=Object(p.a)(s,2),m=o[0],d=o[1],h=Object(l.useState)(!1),E=Object(p.a)(h,2),b=E[0],v=E[1],x=Object(l.useContext)(f),y=e.match.params.id;function g(){return w.apply(this,arguments)}function w(){return(w=Object(C.a)(O.a.mark(function e(){var t,a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=document.getElementById("edit-project-name-input").value,a=document.getElementById("edit-project-description-input").value,t===r.data.name&&a===r.data.description){e.next=7;break}return e.next=5,H.putProject(y,{name:t,description:a});case 5:(n=e.sent).message?x.setError(n):null!==n&&(console.log("UPDATED SUCCESSFULLY!"),window.location.reload());case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}return Object(l.useEffect)(function(){"loading..."===r.data.name?x.setTitle(c.a.createElement("div",{className:"nav-elements"}," ",c.a.createElement("h2",{className:"static-title"},r.data.name)," ")):x.setTitle(c.a.createElement(Me,{name:r.data.name,update:g}))},[r]),Object(l.useEffect)(function(){return d(!1),function(){var e=Object(C.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getProject(y);case 2:(t=e.sent).message?x.setError(t):null!==t&&(n(t),d(!0));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){H.abortRequest()}},[y]),!1===m?c.a.createElement(Y,null):c.a.createElement("div",{className:"project-wrapper"},c.a.createElement(ze,{match:e.match,notFound:b}),c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:e.match.url,render:function(e){return v(!1),c.a.createElement(c.a.Fragment,null,c.a.createElement(Re,{description:r.data.description,update:g}),c.a.createElement(Fe,{project_id:y,location:e.location,match:e.match,history:e.history}),c.a.createElement(i.b,{to:Z(e.match.url,"/addpaper")},c.a.createElement("button",{className:"bottom-left-btn add-custompaper-btn"},c.a.createElement("div",{className:"btn-title"},"Add Custom Paper"),c.a.createElement("div",{className:"btn-icon"}," "))))}}),c.a.createElement(u.a,{exact:!0,path:e.match.url+"/search",render:function(e){return v(!1),c.a.createElement(qe,Object.assign({project_id:y},e))}}),c.a.createElement(u.a,{path:e.match.url+"/addpaper",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(i.b,{className:"back",to:e.match.url},"  "),c.a.createElement(Ie,{projectId:r.id,url:e.match.url,history:e.history}))}}),c.a.createElement(u.a,{render:function(e){return v(!0),c.a.createElement("div",null,"404")}})))},Ve=function(e){return c.a.createElement(i.a,null,c.a.createElement("div",{className:"app"},c.a.createElement(b,null,c.a.createElement(h,null,c.a.createElement(k,null)),c.a.createElement(m,null,c.a.createElement(u.c,null,c.a.createElement(u.a,{exact:!0,path:"/",render:function(){return c.a.createElement(v,null)}}),c.a.createElement(u.a,{exact:!0,path:"/projects",render:function(e){return c.a.createElement(le,e)}}),c.a.createElement(u.a,{path:"/projects/:id",render:function(e){return c.a.createElement(Ue,e)}}),c.a.createElement(u.a,{render:function(e){return c.a.createElement("div",null,"404")}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(Ve,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[121,1,2]]]);
//# sourceMappingURL=main.210b2073.chunk.js.map