(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a(42)},42:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),s=a.n(c),o=a(21),i=a.n(o),l=a(5),u=a(12),p=function(e){return s.a.createElement("div",{className:"main-wrapper"},e.children)},m=function(e){return s.a.createElement("h1",null,"hallo world")},d=function(e){return s.a.createElement("div",{className:"navigation-wrapper"},s.a.createElement("nav",{className:"main-nav"}),e.children)},f=a(4),h=function(){var e,t=Object(c.useContext)(b);return Object(c.useEffect)(function(){return function(){t.setError(null)}}),e=t.error.payload?s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Error code:"),s.a.createElement("p",null,t.error.payload.statusCode),s.a.createElement("p",null,"Error name:"),s.a.createElement("p",null,t.error.payload.error),s.a.createElement("p",null,"Error message"),s.a.createElement("p",null,t.error.payload.message)):s.a.createElement(s.a.Fragment,null,s.a.createElement("p",null,"Error name:"),s.a.createElement("p",null,t.error.name),s.a.createElement("p",null,"Error message"),s.a.createElement("p",null,t.error.message)),e=s.a.createElement("div",{className:"error-wrapper",style:{textAlign:"center"}},e)},b=s.a.createContext(),v=function(e){var t={image:s.a.createElement("img",{className:"face",alt:"profile",src:"https://placekitten.com/100/100"}),name:"mario",surname:"super"},a=Object(c.useState)(null),n=Object(f.a)(a,2),r=n[0],o={user:t,error:r,setError:n[1]};return r?s.a.createElement(b.Provider,{value:o},s.a.createElement(h,null)):s.a.createElement(b.Provider,{value:o},e.children)},E=function(e){var t=Object(c.useContext)(b);return s.a.createElement("div",{className:"user"},t.user.image,s.a.createElement("div",{className:"user-info"},t.user.name,s.a.createElement("br",null),t.user.surname))},x={home:"http://localhost:3000/",search:"search",scopus_search:"search-scopus",projects:"projects",papers:"papers",menu_list:[{id:4,content:"my projects",link:"/projects"},{id:5,content:"option3",link:"/"},{id:6,content:"option4",link:"/projects/1"}]},j=function(e){return s.a.createElement("svg",{id:"menu-button",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},s.a.createElement("path",{className:"st0",d:"M214,482.1"}),s.a.createElement("line",{className:"st-t",x1:"172",y1:"482.1",x2:"172",y2:"482.1"}),s.a.createElement("line",{className:"st-m",x1:"500",y1:"482.1",x2:"500",y2:"482.1"}),s.a.createElement("line",{className:"st-b",x1:"828",y1:"482.1",x2:"828",y2:"482.1"}))},g=function(e){return x.menu_list.map(function(t,a){return s.a.createElement("div",{key:a},s.a.createElement(l.b,{to:t.link,className:"menu-option",onMouseUp:e.handleMenuBlur},t.content))})},w=function(e){var t=Object(c.useState)(!1),a=Object(f.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!0),i=Object(f.a)(o,2),l=i[0],u=i[1];var p="modal side-menu up",m="button-wrapper close";return l&&(p="modal side-menu"),n&&(m="button-wrapper open",p="modal side-menu down"),s.a.createElement("div",{className:"menu"},s.a.createElement("div",{className:m,onClick:function(){r(!n),u(!1)}},s.a.createElement(j,null)),s.a.createElement("div",{className:p,tabIndex:-1},s.a.createElement(E,null),s.a.createElement(g,{handleMenuBlur:function(){r(!1)}})))},y=a(1),O=a.n(y),k=a(2),N=a(11),I=a.n(N),C=1e4;function S(e){return T.apply(this,arguments)}function T(){return(T=Object(k.a)(O.a.mark(function e(t){var a,c,s,o,i,l,u,p=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>1&&void 0!==p[1]?p[1]:{},e.prev=1,n=new AbortController,c=n.signal,r=0,s=Object.assign({credentials:"include",mode:"cors",signal:c},a),o=setTimeout(function(){return n.abort(),void(r=2)},C),e.next=9,fetch(t,s);case 9:return i=e.sent,clearTimeout(o),e.next=13,_(i);case 13:return l=e.sent,F(i,l),e.abrupt("return",l);case 18:if(e.prev=18,e.t0=e.catch(1),2!==r){e.next=26;break}return(u=new Error("Error: Time out to get response from backend")).name="timeout",e.abrupt("return",u);case 26:if(1!==r){e.next=28;break}return e.abrupt("return",null);case 28:return e.abrupt("return",e.t0);case 29:case"end":return e.stop()}},e,null,[[1,18]])}))).apply(this,arguments)}function P(){return(P=Object(k.a)(O.a.mark(function e(t){var a,n,r,c=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=c.length>1&&void 0!==c[1]?c[1]:"",n="",""!==a){for(r in n="?",a)n+=r+"="+encodeURIComponent(a[r])+"&";n=n.slice(0,n.length-1)}return e.next=5,S(t+n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function R(){return(R=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={method:"DELETE"},e.next=3,S(t,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function q(){return(q=Object(k.a)(O.a.mark(function e(t){var a,n,r,c,s=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"",(n=new Headers).append("Accept","application/json, text/plain, */*"),n.append("Cache-Control","no-cache"),n.append("Content-Type","application/json;charset=UTF-8"),r=JSON.stringify(a,null,2),c={method:"POST",headers:n,body:r},e.next=9,S(t,c);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function L(){return(L=Object(k.a)(O.a.mark(function e(t){var a,n,r,c,s=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:"",(n=new Headers).append("Accept","application/json, text/plain, */*"),n.append("Cache-Control","no-cache"),n.append("Content-Type","application/json;charset=UTF-8"),r=JSON.stringify(a,null,2),c={method:"PUT",headers:n,body:r},e.next=9,S(t,c);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function F(e,t){if(e.status<200||e.status>=300){var a=new Error(e.statusText);throw a.data=e,t.payload&&(a.payload=t.payload),a}}function _(e){return z.apply(this,arguments)}function z(){return(z=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.headers.get("Content-Type"),n=null,null==a){e.next=21;break}if(!(a.indexOf("text")>-1)){e.next=7;break}return e.next=6,t.text();case 6:n=e.sent;case 7:if(!(a.indexOf("form")>-1)){e.next=11;break}return e.next=10,t.formData();case 10:n=e.sent;case 11:if(!(a.indexOf("video")>-1)){e.next=15;break}return e.next=14,t.blob();case 14:n=e.sent;case 15:if(!(a.indexOf("json")>-1)){e.next=19;break}return e.next=18,t.json();case 18:n=e.sent;case 19:e.next=25;break;case 21:if(null==t){e.next=25;break}return e.next=24,t.text();case 24:n=e.sent;case 25:return e.abrupt("return",n);case 26:case"end":return e.stop()}},e)}))).apply(this,arguments)}var A={get:function(e){return P.apply(this,arguments)},post:function(e){return q.apply(this,arguments)},delete:function(e){return R.apply(this,arguments)},put:function(e){return L.apply(this,arguments)},abortRequest:function(){n.abort(),r=1}};function B(){return(B=Object(k.a)(O.a.mark(function e(){var t,a,n,r=arguments;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=x.home+x.projects,e.next=4,A.get(a,t);case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function M(){return(M=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.projects+"/"+t,e.next=3,A.get(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(){return(D=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.projects,e.next=3,A.post(a,t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return(U=Object(k.a)(O.a.mark(function e(t,a){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.home+x.projects+"/"+t,e.next=3,A.put(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function J(){return(J=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.projects+"/"+t,e.next=3,A.delete(a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var V={getProjectsList:function(){return B.apply(this,arguments)},getProject:function(e){return M.apply(this,arguments)},postProject:function(e){return D.apply(this,arguments)},putProject:function(e,t){return U.apply(this,arguments)},deleteProject:function(e){return J.apply(this,arguments)},abortRequest:A.abortRequest},X=function(e){return s.a.createElement("svg",{id:"loading-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},s.a.createElement("g",null,s.a.createElement("path",{id:"loading-circle1",d:" M 500, 500 m -160, 0 a 160,160 0 1,0 320,0 a 160,160 0 1,0 -320,0 "}),s.a.createElement("path",{id:"loading-circle2",d:" M 500, 500 m -305, 0 a 305,305 0 1,0 610,0 a 305,305 0 1,0 -610,0 "})))};var H=function(e){var t=Object(c.useRef)(null),a=Object(c.useRef)(null),n=Object(c.useContext)(b);function r(){return(r=Object(k.a)(O.a.mark(function e(r){var c,s;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),c={name:t.current.value,description:a.current.value},e.next=4,V.postProject(c);case 4:(s=e.sent).message&&n.setError(s),alert("inserted correctly");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=Object(k.a)(O.a.mark(function r(c){var s,o;return O.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),s={name:t.current.value,description:a.current.value},r.next=4,V.putProject(e.project.id,s);case 4:(o=r.sent).message&&n.setError(o),alert("updated correctly");case 7:case"end":return r.stop()}},r)}))).apply(this,arguments)}var i={name:"",description:""},l=function(e){return r.apply(this,arguments)};return void 0!==e.project&&(i.name=e.project.data.name,i.description=e.project.data.description,l=function(e){return o.apply(this,arguments)}),s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:"modal add-project",style:{visibility:e.visibility?"":"hidden"}},s.a.createElement("button",{type:"button",className:"close-btn",onClick:function(t){e.setVisibility(!e.visibility)}},"X"),s.a.createElement("label",null,"name"),s.a.createElement("br",null),s.a.createElement("input",{ref:t,type:"text",defaultValue:i.name}),s.a.createElement("br",null),s.a.createElement("label",null,"description"),s.a.createElement("br",null),s.a.createElement("input",{ref:a,type:"text",defaultValue:i.description}),s.a.createElement("br",null),s.a.createElement("button",{type:"submit",onClick:l,value:"submit"},"submit")))};function W(e,t){return"/"===e.charAt(e.length-1)?e.slice(0,-1)+t:e+t}var K=function(e){var t=e.before,a=e.after,n=e.pagination,r=e.path,c=null,o="",i="";return(n.hasbefore||n.continues)&&(n.hasbefore&&(o=s.a.createElement(l.b,{className:"before",to:W(r,"before="+t)},"< prev")),n.continues&&(i=s.a.createElement(l.b,{className:"after",to:W(r,"after="+a)},"next >")),c=s.a.createElement("div",{className:"pagination"},o,i)),c},$=function(e){var t,a=e.projectsList,n=e.path;return t=0===a.length?s.a.createElement("div",null,"there aren't projects"):a.map(function(e,t){return s.a.createElement(l.b,{key:e.id,to:W(n,"/"+e.id)},s.a.createElement("div",{className:"light-modal project-card"},s.a.createElement("h3",null,e.id," ",e.data.name),s.a.createElement("p",null,e.data.description)))}),s.a.createElement("div",{className:"project-cards-holder"},s.a.createElement("div",{className:"title"},"PROJECTS"),t)},G=function(e){var t,a=Object(c.useState)([]),n=Object(f.a)(a,2),r=n[0],o=n[1],i={hasbefore:!1,continues:!1},l=Object(c.useState)(i),u=Object(f.a)(l,2),p=u[0],m=u[1],d=Object(c.useState)(!1),h=Object(f.a)(d,2),v=h[0],E=h[1],x=Object(c.useState)(!1),j=Object(f.a)(x,2),g=j[0],w=j[1],y=Object(c.useContext)(b),N=I.a.parse(e.location.search&&e.location.search),C=N.pagesize||10,S=N.before||-1,T=N.after||0,P=S>=0?{pagesize:C,before:S}:{pagesize:C,after:T};if(Object(c.useEffect)(function(){return function(){var e=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!1),e.next=3,V.getProjectsList(P);case 3:"Not Found"===(t=e.sent).message?(o([]),m(i),E(!0)):t.message?y.setError(t):null!==t&&(o(t.results),m({hasbefore:t.hasbefore,continues:t.continues}),E(!0));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){V.abortRequest()}},[C,S,T]),!1===v)t=s.a.createElement(X,null);else{var R=0,q=0;r.length>0&&(R=r[0].id,q=r[r.length-1].id),t=s.a.createElement("div",null,s.a.createElement($,{projectsList:r,path:e.match.url}),s.a.createElement(K,{before:R,after:q,pagination:p,path:e.match.url+"?"}),s.a.createElement(H,{visibility:g,setVisibility:w}),s.a.createElement("button",{className:"bottom-left-btn",type:"button",value:"toggle-insert-form",onClick:function(e){w(!g)}},"+"))}return t},Q=a(17),Y=a(13),Z=a.n(Y),ee=a(10),te=a(25),ae=a(24),ne=function(e){var t=e.val,a=e.label,n=e.isChecked,r=e.handler;return s.a.createElement("label",{className:"checkbox-container"},s.a.createElement("input",{type:"checkbox",value:t,name:a,defaultChecked:n,onChange:r}),s.a.createElement("span",{className:"checkmark"}),s.a.createElement("span",null,a))};function re(){return(re=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.search,e.next=3,A.get(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ce(){return(ce=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.scopus_search,e.next=3,A.get(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var se={search:function(e){return re.apply(this,arguments)},scopusSearch:function(e){return ce.apply(this,arguments)},abortRequest:A.abortRequest};function oe(){return(oe=Object(k.a)(O.a.mark(function e(t){var a,n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers,e.next=3,A.get(a,t);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ie(){return(ie=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers+"/"+t,e.next=3,A.get(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function le(){return(le=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers,console.log(t),e.next=4,A.post(a,t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ue(){return(ue=Object(k.a)(O.a.mark(function e(t,a){var n;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=x.home+x.papers+"/"+t,e.next=3,A.put(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(){return(pe=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=x.home+x.papers+"/"+t,e.next=3,A.delete(a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var me={getPapersList:function(e){return oe.apply(this,arguments)},getPaper:function(e){return ie.apply(this,arguments)},postPaperIntoProject:function(e){return le.apply(this,arguments)},putPaper:function(e,t){return ue.apply(this,arguments)},deletePaper:function(e){return pe.apply(this,arguments)},abortRequest:A.abortRequest},de=function(e){return s.a.createElement("svg",{id:"search-icon",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 1000 1000"},s.a.createElement("path",{className:"st0",d:"M626.9,644.3c-73.5,0-142.6-28.6-194.6-80.6s-80.6-121.1-80.6-194.6s28.6-142.6,80.6-194.6 c52-52,121.1-80.6,194.6-80.6c73.5,0,142.6,28.6,194.6,80.6c52,52,80.6,121.1,80.6,194.6s-28.6,142.6-80.6,194.6 S700.4,644.3,626.9,644.3z"}),s.a.createElement("line",{className:"st1",x1:"145.2",y1:"850.8",x2:"431.7",y2:"564.3"}))},fe=function(e){var t=e.papersList,a=e.handlePaperSelection;return t.map(function(e,t){var n;return s.a.createElement("div",{key:e.id,className:"paper-card"},s.a.createElement(ne,{val:e.id,label:"",handler:a}),s.a.createElement(l.b,{to:"#"},s.a.createElement("h3",null,e.id," ",e.data&&e.data.Title)),s.a.createElement(Z.a,(n={text:e.data&&e.data.Abstract,lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(ee.a)(n,"moreText","more"),Object(ee.a)(n,"lessText","less"),n)))})},he=function(e){var t=e.papersList,a=e.handlePaperSelection;return t.map(function(e,t){var n;return s.a.createElement("div",{key:e.id,className:"paper-card"},s.a.createElement(ne,{val:e.id,label:"",handler:a}),s.a.createElement(l.b,{to:"#"},s.a.createElement("h3",null,e.id," ",e.Title)),s.a.createElement(Z.a,(n={text:"I am a description I am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a descriptionI am a description",lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(ee.a)(n,"moreText","more"),Object(ee.a)(n,"lessText","less"),n)))})},be=function(e){var t=e.project_id,a=e.location,n=(e.match,e.history),r=Object(c.useState)([]),o=Object(f.a)(r,2),i=o[0],l=o[1],u=Object(c.useState)({scopus:!1,option2:!1,option3:!1}),p=Object(f.a)(u,2),m=p[0],d=p[1],h=Object(c.useState)([]),v=Object(f.a)(h,2),E=v[0],x=v[1],j=Object(c.useState)(""),g=Object(f.a)(j,2),w=g[0],y=g[1],N=Object(c.useState)(!0),C=Object(f.a)(N,2),S=C[0],T=C[1],P={hasbefore:!1,continues:!1},R=Object(c.useState)(P),q=Object(f.a)(R,2),L=q[0],F=q[1],_=Object(c.useContext)(b),z=I.a.parse(a.search),A=z.pagesize||10,B=z.before||-1,M=z.after||0,D=z.query||"",U=z.scopus||!1,J=z.option2||!1,V=z.option3||!1,H={pagesize:A,query:D};function W(e){var t=Object(ae.a)({},m);switch(e.target.name){case"scopus":t.scopus=!t.scopus;break;case"option2":t.option2=!t.option2;break;case"option3":t.option3=!t.option3}d(t)}function $(e){var t=e.target.value;if(E.includes(t)){var a=E.filter(function(e){return e!==t});x(a)}else{var n=Object(te.a)(E);n.push(t),x(n)}}function G(){return(G=Object(k.a)(O.a.mark(function e(a){var n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),T(!1),n=0;case 3:if(!(n<E.length)){e.next=13;break}return e.next=6,me.postPaperIntoProject({paper_id:E[n],project_id:t});case 6:if(!(r=e.sent).message){e.next=10;break}return _.setError(r),e.abrupt("return",null);case 10:n++,e.next=3;break;case 13:T(!0),alert("insert completed");case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Q(){return(Q=Object(k.a)(O.a.mark(function e(t){var a;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),""===w?alert("search string is empty"):(a="?query="+w,m.scopus&&(a+="&scopus=true"),m.option2&&(a+="&option2=true"),m.option3&&(a+="&option3=true"),n.push(a));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}B>=0?H.before=B:H.after=M,U&&(H.scopus=U),J&&(H.option2=J),V&&(H.option3=V),Object(c.useEffect)(function(){!function(){var e=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x([]),""===D){e.next=13;break}if(T(!1),!1!==U){e.next=9;break}return e.next=6,se.search(H);case 6:t=e.sent,e.next=12;break;case 9:return e.next=11,se.scopusSearch(H);case 11:t=e.sent;case 12:"Not Found"===t.message?(l([]),F(P),T(!0)):t.message?_.setError(t):null!==t&&(l(t.results),F({hasbefore:t.hasbefore,continues:t.continues}),T(!0));case 13:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[D,B,M,U,J,V,t]);var Y=s.a.createElement(s.a.Fragment,null,s.a.createElement("form",{className:""===D?"search-form":"search-form small",onSubmit:function(e){return Q.apply(this,arguments)}},s.a.createElement("div",{style:{position:"relative"}},s.a.createElement("input",{type:"text",placeholder:"search",defaultValue:w,onChange:function(e){return y(e.target.value)}}),s.a.createElement("button",{type:"submit",value:"Submit"},s.a.createElement(de,null))),s.a.createElement("div",{className:"option-holder"},s.a.createElement("label",null,"Option:"),s.a.createElement("br",null),s.a.createElement("div",{className:"checkboxes-holder"},s.a.createElement(ne,{label:"scopus",isChecked:m.scopus,handler:W}),s.a.createElement(ne,{label:"option2",isChecked:m.option2,handler:W}),s.a.createElement(ne,{label:"option3",isChecked:m.option3,handler:W}))))),Z="";if(!0===S&&0===i.length&&""!==D)Z=s.a.createElement("div",{className:"notfound"}," not found :( ");else if(i.length>0&&""!==D){var ee=i[0].id,re=i[i.length-1].id,ce=window.location.href,oe=ce.indexOf("?"),ie=ce.lastIndexOf("before"),le=ce.lastIndexOf("after");ce=ie>-1?ce.slice(oe,ie):le>-1?ce.slice(oe,le):ce.slice(oe)+"&";var ue=!1===U?s.a.createElement(fe,{papersList:i,handlePaperSelection:$}):s.a.createElement(he,{papersList:i,handlePaperSelection:$});Z=s.a.createElement("div",{className:"paper-card-holder"},ue,s.a.createElement(K,{before:ee,after:re,pagination:L,path:ce}),s.a.createElement("button",{className:"bottom-left-btn",type:"submit",value:"Submit"},"+"))}return!1===S&&(Z=s.a.createElement("div",{className:"loading-holder"},s.a.createElement(X,null))),s.a.createElement(s.a.Fragment,null,Y,s.a.createElement("form",{className:"search-results",onSubmit:function(e){return G.apply(this,arguments)}},Z))},ve=function(e){var t=e.papersList;return 0===t.length?s.a.createElement("div",null,"there are no papers here, you can add new ones by searching"):t.map(function(e,t){var a;return s.a.createElement("div",{key:e.id,className:"paper-card"},s.a.createElement(l.b,{to:"#"},s.a.createElement("h3",null,e.id," ",e.data.Title)),s.a.createElement(Z.a,(a={text:e.data.Abstract,lines:4,ellipsis:"...",moreText:"Expand",lessText:"Collapse",className:"paragraph"},Object(ee.a)(a,"moreText","more"),Object(ee.a)(a,"lessText","less"),a)))})},Ee=function(e){var t,a=e.project_id,n=e.location,r=e.match,o=Object(c.useState)([]),i=Object(f.a)(o,2),l=i[0],u=i[1],p={hasbefore:!1,continues:!1},m=Object(c.useState)(p),d=Object(f.a)(m,2),h=d[0],v=d[1],E=Object(c.useState)(!1),x=Object(f.a)(E,2),j=x[0],g=x[1],w=Object(c.useContext)(b),y=I.a.parse(n.search),N=y.pagesize||10,C=y.before||-1,S=y.after||0,T=C>=0?{pagesize:N,before:C}:{pagesize:N,after:S};if(T.project_id=a,Object(c.useEffect)(function(){return function(){var e=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g(!1),e.next=3,me.getPapersList(T);case 3:"Not Found"===(t=e.sent).message?(u([]),v(p),g(!0)):t.message?w.setError(t):null!==t&&(u(t.results),v({hasbefore:t.hasbefore,continues:t.continues}),g(!0));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){me.abortRequest()}},[N,C,S]),!1===j)t=s.a.createElement(X,null);else{var P=0,R=0;l.length>0&&(P=l[0].id,R=l[l.length-1].id),t=s.a.createElement("div",{className:"paper-card-holder"},s.a.createElement(ve,{papersList:l}),s.a.createElement(K,{before:P,after:R,pagination:h,path:r.url+"?"}))}return t=s.a.createElement("div",{className:"papers-list"},t)},xe=function(e){var t=e.project,a=e.match,n=e.slider;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"title"},t.data.name.toUpperCase()),s.a.createElement("div",{className:"project-nav-link-wrapper"},s.a.createElement("div",{className:"nav-link"},s.a.createElement(l.b,{to:a.url},"papers")),s.a.createElement("div",{className:"nav-link"},s.a.createElement(l.b,{to:W(a.url,"/search")},"search")),s.a.createElement(Q.b,{flipKey:n},s.a.createElement(Q.a,{flipId:"underline"},s.a.createElement("div",{className:n?"underline underline-to-left":"underline underline-to-right"})))))},je=function(e){var t=Object(c.useState)({}),a=Object(f.a)(t,2),n=a[0],r=a[1],o=Object(c.useState)(!1),i=Object(f.a)(o,2),l=i[0],p=i[1],m=Object(c.useState)(!0),d=Object(f.a)(m,2),h=d[0],v=d[1],E=Object(c.useContext)(b),x=e.match.params.id,j=window.location.pathname.substring(window.location.pathname.length-7,window.location.pathname.length);return Object(c.useEffect)(function(){v("/search"!==j&&"search/"!==j)},[j]),Object(c.useEffect)(function(){return p(!1),function(){var e=Object(k.a)(O.a.mark(function e(){var t;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getProject(x);case 2:(t=e.sent).message?E.setError(t):null!==t&&(r(t),p(!0));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),function(){V.abortRequest()}},[x]),!1===l?s.a.createElement(X,null):s.a.createElement("div",{className:"project-wrapper"},s.a.createElement(xe,{project:n,match:e.match,slider:h}),s.a.createElement(u.a,{exact:!0,path:e.match.url,render:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"project-description"},s.a.createElement("h2",null,"description:"),n.data.description),s.a.createElement(Ee,{project_id:x,location:e.location,match:e.match}))}}),s.a.createElement(u.a,{exact:!0,path:e.match.url+"/search",render:function(e){return s.a.createElement(be,Object.assign({project_id:x},e))}}))},ge=function(e){return s.a.createElement(l.a,null,s.a.createElement("div",{className:"app"},s.a.createElement(v,null,s.a.createElement(d,null,s.a.createElement(w,null)),s.a.createElement(p,null,s.a.createElement(u.a,{exact:!0,path:"/",render:function(){return s.a.createElement(m,null)}}),s.a.createElement(u.a,{exact:!0,path:"/projects",render:function(e){return s.a.createElement(G,e)}}),s.a.createElement(u.a,{path:"/projects/:id",render:function(e){return s.a.createElement(je,e)}})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(ge,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.917f62f8.chunk.js.map